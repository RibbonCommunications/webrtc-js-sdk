{"version":3,"file":"webrtc.remote.js","mappings":"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AO;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,+EAA+E,OAAO;AACtF;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C,0CAA0C;AAC1C,0CAA0C;AAC1C,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;;;;;;;;AC/IA;AACA,cAAc,mBAAO,CAAC,IAAY;AAClC,WAAW,mBAAO,CAAC,IAAwB;AAC3C;AACA;AACA;AACA;AACA;AACA;;;;;;;;;ACRa;AACb,aAAa,mBAAO,CAAC,IAAW;AAChC,cAAc,mBAAO,CAAC,IAAW;AACjC,WAAW,mBAAO,CAAC,IAAS;AAC5B,YAAY,mBAAO,CAAC,IAAU;AAC9B,WAAW,mBAAO,CAAC,IAAS;AAC5B,kBAAkB,mBAAO,CAAC,IAAiB;AAC3C,YAAY,mBAAO,CAAC,IAAW;AAC/B,iBAAiB,mBAAO,CAAC,IAAgB;AACzC,eAAe,mBAAO,CAAC,IAAc;AACrC,qBAAqB,mBAAO,CAAC,IAAsB;AACnD,SAAS,6BAAyB;AAClC,WAAW,mBAAO,CAAC,IAAkB;AACrC,kBAAkB,mBAAO,CAAC,IAAgB;;AAE1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;;;;;;;AC1DA,8BAA8B;AAC9B,wCAAwC;;;;;;;;;ACD3B;AACb,sBAAsB,mBAAO,CAAC,IAAc;AAC5C,iBAAiB,mBAAO,CAAC,IAAkB;;AAE3C;AACA;AACA;AACA;;;;;;;;ACPA;AACA,gBAAgB,mBAAO,CAAC,GAAe;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnBA;AACA;AACA;AACA;AACA;;;;;;;;ACJA;AACA,kBAAkB,mBAAO,CAAC,IAAU;AACpC,iCAAiC,SAAS,mBAAmB,aAAa;AAC1E,CAAC;;;;;;;;ACHD,eAAe,mBAAO,CAAC,IAAc;AACrC,eAAe,oCAA6B;AAC5C;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;;;;;;;;ACHA;AACA,cAAc,mBAAO,CAAC,IAAgB;AACtC,WAAW,mBAAO,CAAC,IAAgB;AACnC,UAAU,mBAAO,CAAC,IAAe;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;;;;;;;ACdA,aAAa,mBAAO,CAAC,IAAW;AAChC,WAAW,mBAAO,CAAC,GAAS;AAC5B,UAAU,mBAAO,CAAC,IAAQ;AAC1B,WAAW,mBAAO,CAAC,IAAS;AAC5B,UAAU,mBAAO,CAAC,IAAQ;AAC1B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAiE;AACjE;AACA,kFAAkF;AAClF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,Y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;;;;;;;;ACAA;;;;;;;;ACAA,WAAW,mBAAO,CAAC,IAAQ;AAC3B,eAAe,mBAAO,CAAC,IAAc;AACrC,UAAU,mBAAO,CAAC,IAAQ;AAC1B,cAAc,6BAAyB;AACvC;AACA;AACA;AACA;AACA,cAAc,mBAAO,CAAC,IAAU;AAChC,iDAAiD;AACjD,CAAC;AACD;AACA,sBAAsB;AACtB;AACA,mBAAmB;AACnB,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpDA,aAAa,mBAAO,CAAC,IAAW;AAChC,gBAAgB,+BAAsB;AACtC;AACA;AACA;AACA,aAAa,mBAAO,CAAC,IAAQ;;AAE7B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA,wCAAwC,qBAAqB,GAAG;AAChE;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;;;;;;;;;ACpEa;AACb;AACA,gBAAgB,mBAAO,CAAC,GAAe;;AAEvC;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA,gBAAgB;AAChB;AACA;;;;;;;;;ACjBa;AACb;AACA,kBAAkB,mBAAO,CAAC,IAAgB;AAC1C,cAAc,mBAAO,CAAC,IAAgB;AACtC,WAAW,mBAAO,CAAC,IAAgB;AACnC,UAAU,mBAAO,CAAC,IAAe;AACjC,eAAe,mBAAO,CAAC,IAAc;AACrC,cAAc,mBAAO,CAAC,IAAY;AAC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AAO,CAAC,IAAY;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChBA,UAAU,mBAAO,CAAC,IAAQ;AAC1B,aAAa,mBAAO,CAAC,IAAW;AAChC,WAAW,mBAAO,CAAC,IAAS;AAC5B,UAAU,mBAAO,CAAC,IAAe;AACjC,aAAa,mBAAO,CAAC,IAAW;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,mBAAO,CAAC,IAAQ;AACtB;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACnFA,gBAAgB,mBAAO,CAAC,IAAe;AACvC;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,IAAY;AAClC,cAAc,mBAAO,CAAC,IAAY;AAClC;AACA;AACA;;;;;;;;ACLA;AACA,gBAAgB,mBAAO,CAAC,IAAe;AACvC;AACA;AACA,4DAA4D;AAC5D;;;;;;;;ACLA;AACA,cAAc,mBAAO,CAAC,IAAY;AAClC;AACA;AACA;;;;;;;;ACJA;AACA,eAAe,mBAAO,CAAC,IAAc;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACXA;AACA;AACA;AACA;AACA;;;;;;;;ACJA,aAAa,mBAAO,CAAC,IAAW;AAChC;;AAEA;;;;;;;;ACHA,eAAe,mBAAO,CAAC,IAAc;AACrC;AACA;AACA;AA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AACA;AACA;AACA;AACA;AACA,IAAI,YAAY;AAChB,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA,YAAY;AACZ,UAAU;AACV,QAAQ;AACR;AACA;AACA;AACA;AACA,8CAA8C;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV,oBAAoB,iCAAiC;AACrD,UAAU;AACV;AACA;AACA,OAAO;AACP;AACA;AACA,MAAM;AACN;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN,gBAAgB,sCAAsC;AACtD;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC;AACnC;AACA;AACA;AACA;AACA,wBAAwB,0BAA0B;AAClD;AACA;AACA,UAAU;AACV;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA,IAAI;AACJ,mBAAmB,wBAAwB,MAAM;AACjD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA,uBAAuB,mBAAO,CAAC,IAAiB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,2DAA2D,mBAAmB;AAC9E,mBAAO,CAAC,IAAsB;AAC9B,mBAAO,CAAC,IAAgB;AACxB,UAAU,mBAAO,CAAC,GAAS;;AAE3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,gDAAgD,mBAAO,CAAC,IAAgB;AACxE;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA,CAAC;;;;;;;;AC7RD;AACA,SAAS,mBAAO,CAAC,IAAc;AAC/B,WAAW,mBAAO,CAAC,IAAgB;AACnC,qBAAqB,mBAAO,CAAC,IAAe;AAC5C,UAAU,mBAAO,CAAC,IAAQ;AAC1B,cAAc,mBAAO,CAAC,IAAW;AACjC,iBAAiB,mBAAO,CAAC,IAAkB;AAC3C,eAAe,mBAAO,CAAC,IAAc;AACrC,eAAe,mBAAO,CAAC,IAAc;;AAErC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA,gCAAgC,UAAU;;;;;;;;;AChC7B;AACb,UAAU,mBAAO,CAAC,IAAc;;AAEhC;AACA,mBAAO,CAAC,IAAgB;AACxB,8BAA8B;AAC9B,8BAA8B;AAC9B;AACA,CAAC;AACD;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,WAAW;AACX,CAAC;;;;;;;;;AChBY;AACb;AACA,aAAa,mBAAO,CAAC,IAAW;AAChC,UAAU,mBAAO,CAAC,IAAQ;AAC1B,kBAAkB,mBAAO,CAAC,IAAgB;AAC1C,cAAc,mBAAO,CAAC,IAAW;AACjC,eAAe,mBAAO,CAAC,IAAa;AACpC,WAAW,+BAAsB;AACjC,aAAa,mBAAO,CAAC,IAAU;AAC/B,aAAa,mBAAO,CAAC,GAAW;AAChC,qBAAqB,mBAAO,CAAC,IAAsB;AACnD,UAAU,mBAAO,CAAC,IAAQ;AAC1B,UAAU,mBAAO,CAAC,IAAQ;AAC1B,aAAa,mBAAO,CAAC,IAAY;AACjC,gBAAgB,mBAAO,CAAC,IAAe;AACvC,eAAe,mBAAO,CAAC,IAAc;AACrC,cAAc,mBAAO,CAAC,IAAa;AACnC,eAAe,mBAAO,CAAC,IAAc;AACrC,eAAe,mBAAO,CAAC,IAAc;AACrC,eAAe,mBAAO,CAAC,IAAc;AACrC,gBAAgB,mBAAO,CAAC,IAAe;AACvC,kBAAkB,mBAAO,CAAC,IAAiB;AAC3C,iBAAiB,mBAAO,CAAC,IAAkB;AAC3C,cAAc,mBAAO,CAAC,IAAkB;AACxC,cAAc,mBAAO,CAAC,IAAoB;AAC1C,YAAY,mBAAO,CAAC,IAAgB;AACpC,YAAY,mBAAO,CAAC,IAAgB;AACpC,UAAU,mBAAO,CAAC,IAAc;AAChC,YAAY,mBAAO,CAAC,IAAgB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,sBAAsB;AACtB,uBAAuB,uBAAuB,UAAU;AACxD,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA,EAAE;;AAEF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2DAA2D;AAC3D;AACA,MAAM;AACN;AACA,uBAAuB,kCAAkC;AACzD,MAAM;AACN,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;;;;;;;ACxjBA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,iBAAiB,YAAY;AAC7B,qBAAqB,YAAY;AACjC,mBAAmB,YAAY;AAC/B,uBAAuB,YAAY;AACnC,mBAAmB,YAAY;AAC/B,uBAAuB,YAAY;AACnC,kBAAkB,YAAY;AAC9B,qBAAqB,YAAY;AACjC,gBAAgB,YAAY;AAC5B,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B,cAAc;AACd;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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CA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qCAAqC,eAAe,WAAW;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gCAAgC,aAAa;AAC7C,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sCAAsC;AACtC,0BAA0B;AAC1B,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iCAAiC;AACjC,iCAAiC,EAAE;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;AC7eD,aAAa,mBAAO,CAAC,IAAU;AAC/B,aAAa,mBAAO,CAAC,GAAU;;AAE/B,aAAa;AACb,aAAa;AACb,mBAAmB;AACnB,uBAAuB,2BAA2B;AAClD,qBAAqB;AACrB,6BAA6B;AAC7B,4BAA4B;AAC5B,gCAAgC;;;;;;;;ACVhC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,gDAAgD;;AAEhD;;AAEA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,IAAW;AACjC;;AAEA,aAAa;AACb;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,wCAAwC;AACxC;;AAEA,oBAAoB,kCAAkC;AACtD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB,qBAAqB,6BAA6B;AAClD;;AAEA;AACA,uBAAuB;;AAEvB,qBAAqB;AACrB;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA,8EAA8E;AAC9E,GAAG;AACH;;AAEA,gCAAgC;AAChC,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;AC3HA,cAAc,mBAAO,CAAC,IAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;;;;;;;;;ACjHa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,uCAAuC,mBAAO,CAAC,IAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe;;;;;;;;ACpBF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,uCAAsC;AACtC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;;AAEF,gCAAgC,mBAAO,CAAC,IAAS;;AAEjD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,kCAAkC,mBAAO,CAAC,IAAU;;AAEpD,sCAAsC,mBAAO,CAAC,IAAc;;AAE5D,uCAAuC,mBAAO,CAAC,IAAe;;AAE9D,wCAAwC,mBAAO,CAAC,IAAgB;;AAEhE,oCAAoC,mBAAO,CAAC,IAAY;;AAExD,uCAAuC,uCAAuC;;;;;;;;AC9EjE;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;;AAErD;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,aAAa;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,kBAAe;;;;;;;;AC9NF;;AAEb,8CAA6C;AA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AO,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,eAAe,sBAAsB,oBAAoB,UAAU,SAAmC,KAAK,WAAW,YAAY,SAAS,SAAS,KAAK;AAC5zB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,qDAAqD,4DAA4D;AACjH,0BAA0B;;AAE1B,CAAC,EAAE,yBAAyB;AAC5B;;AAEA;AACA;AACA,CAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mFAAmF;AACnF;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA,CAAC,EAAE,sHAAsH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P,4CAA4C,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;;AAEpM;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;;AAEP;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,cAAc;AACd,2BAA2B;AAC3B;;AAEA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,cAAc;AACd,2BAA2B;AAC3B;AACA;AACA;AACA;AACA,kCAAkC;AAClC;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA,kDAAkD,SAAS,wBAAwB;AACnF;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,CAAC,EAAE,0DAA0D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0GAA0G,aAAa;AACvH;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA,iDAAiD;AACjD;AACA;AACA,0DAA0D,sBAAsB,IAAI;AACpF;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA,CAAC,EAAE,iBAAiB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,qGAAqG,qBAAqB,mBAAmB;;AAE7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW;;AAEX;AACA;AACA,SAAS;AACT;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;;AAEL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,EAAE,sBAAsB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;;AAEA,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P,mCAAmC,0BAA0B,0CAA0C,gBAAgB,OAAO,oBAAoB,eAAe,OAAO;;AAExK,4CAA4C,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;;AAEpM;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uDAAuD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA4B;AAC5B,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,qGAAqG,qBAAqB,mBAAmB;;AAE7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,wCAAwC,6BAA6B,cAAc,OAAO,iBAAiB,mBAAmB,uBAAuB,gFAAgF,sBAAsB;;AAE3P;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA,4FAA4F,aAAa;AACzG;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA,2BAA2B,iBAAiB,+CAA+C;AAC3F;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR,uCAAuC,uBAAuB;AAC9D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR,uCAAuC,uBAAuB;AAC9D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED,qGAAqG,qBAAqB,mBAAmB;;AAE7I;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,4CAA4C,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;;AAEpM;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA,iBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;;AAEA;;AAEA,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,2BAA2B;AAC3B;AACA;AACA;AACA,4DAA4D;AAC5D,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,GAAG,EAAE,GAAG;AACT,CAAC;;;;;;;;;ACt8GY;;AAEb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,4DAA4D;AAC5D,gEAAgE;AAChE,oEAAoE;AACpE,wEAAwE;AACxE;AACA,2DAA2D,SAAS;AACpE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;UC/UA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack://WebRTC/webpack/universalModuleDefinition","webpack://WebRTC/../../packages/kandy/src/common/version.js","webpack://WebRTC/../../packages/kandy/src/events/eventEmitter.js","webpack://WebRTC/../../packages/kandy/src/logs/actions/actionHandler.js","webpack://WebRTC/../../packages/kandy/src/logs/config.js","webpack://WebRTC/../../packages/kandy/src/logs/index.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/devices.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/media.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/mediaManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/session.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/sessionManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/track.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/trackManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actionTypes.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/devices.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/index.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/media.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/misc.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/sessions.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/tracks.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/eventTypes.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/channel.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/deviceManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/index.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/logManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/logger.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/media.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/mediaManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/renderer.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/session.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/sessionManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/track.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/trackManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/webrtcManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/clientProxy.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/events.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/index.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/media.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/webrtcEvents.js","webpack://WebRTC/../../packages/logger/src/constants.js","webpack://WebRTC/../../packages/logger/src/index.js","webpack://WebRTC/../../packages/logger/src/logFormatter.js","webpack://WebRTC/../../packages/logger/src/logHandler.js","webpack://WebRTC/../../packages/logger/src/logManager.js","webpack://WebRTC/../../packages/logger/src/logger.js","webpack://WebRTC/../../packages/logger/src/timer.js","webpack://WebRTC/../../packages/logger/src/validation.js","webpack://WebRTC/../../packages/webrtc/src/Peer/config.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/icecandidate.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/iceconnectionstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/icegatheringstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/negotiationneeded.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/signalingstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/track.js","webpack://WebRTC/../../packages/webrtc/src/Peer/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/addIceCandidate.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/addTrack.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/close.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/createAnswer.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/createOffer.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/findReusableTransceiver.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/getState.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/getStats.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/removeTrack.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/replaceTrack.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/sendDTMF.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/setLocalDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/setRemoteDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/localDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/localTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteTracksActive.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/senderTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/utils/iceCollectionScheduledCheck.js","webpack://WebRTC/../../packages/webrtc/src/Peer/utils/timer.js","webpack://WebRTC/../../packages/webrtc/src/constants.js","webpack://WebRTC/../../packages/webrtc/src/interface/index.js","webpack://WebRTC/../../packages/webrtc/src/logs.js","webpack://WebRTC/../../packages/webrtc/src/managers/deviceManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/mediaManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/peerManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/renderer.js","webpack://WebRTC/../../packages/webrtc/src/managers/sessionManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/trackManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/webrtcManager.js","webpack://WebRTC/../../packages/webrtc/src/models/media.js","webpack://WebRTC/../../packages/webrtc/src/models/session.js","webpack://WebRTC/../../packages/webrtc/src/models/track.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/extractors.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/handlers.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/pipeline.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/transceiverUtils.js","webpack://WebRTC/../../packages/webrtc/src/utils.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/array/from.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/json/stringify.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/map.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/object/assign.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/object/create.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/object/freeze.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/object/keys.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/object/values.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/promise.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/reflect/set.js","webpack://WebRTC/../../node_modules/babel-runtime/core-js/symbol.js","webpack://WebRTC/../../node_modules/babel-runtime/helpers/extends.js","webpack://WebRTC/../../node_modules/babel-runtime/helpers/objectWithoutProperties.js","webpack://WebRTC/../../node_modules/core-js/library/fn/array/from.js","webpack://WebRTC/../../node_modules/core-js/library/fn/json/stringify.js","webpack://WebRTC/../../node_modules/core-js/library/fn/map.js","webpack://WebRTC/../../node_modules/core-js/library/fn/object/assign.js","webpack://WebRTC/../../node_modules/core-js/library/fn/object/create.js","webpack://WebRTC/../../node_modules/core-js/library/fn/object/freeze.js","webpack://WebRTC/../../node_modules/core-js/library/fn/object/keys.js","webpack://WebRTC/../../node_modules/core-js/library/fn/object/values.js","webpack://WebRTC/../../node_modules/core-js/library/fn/promise.js","webpack://WebRTC/../../node_modules/core-js/library/fn/reflect/set.js","webpack://WebRTC/../../node_modules/core-js/library/fn/symbol/index.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_a-function.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_add-to-unscopables.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_an-instance.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_an-object.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_array-from-iterable.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_array-includes.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_array-methods.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_array-species-constructor.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_array-species-create.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_classof.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_cof.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_collection-strong.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_collection-to-json.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_collection.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_core.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_create-property.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_ctx.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_defined.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_descriptors.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_dom-create.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_enum-bug-keys.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_enum-keys.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_export.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_fails.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_for-of.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_global.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_has.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_hide.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_html.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_ie8-dom-define.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_invoke.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iobject.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_is-array-iter.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_is-array.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_is-object.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iter-call.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iter-create.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iter-define.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iter-detect.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iter-step.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_iterators.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_library.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_meta.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_microtask.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_new-promise-capability.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-assign.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-create.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-dp.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-dps.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-gopd.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-gopn-ext.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-gopn.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-gops.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-gpo.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-keys-internal.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-keys.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-pie.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-sap.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_object-to-array.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_perform.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_promise-resolve.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_property-desc.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_redefine-all.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_redefine.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_set-collection-from.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_set-collection-of.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_set-species.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_set-to-string-tag.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_shared-key.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_shared.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_species-constructor.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_string-at.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_task.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-absolute-index.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-integer.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-iobject.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-length.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-object.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_to-primitive.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_uid.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_user-agent.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_validate-collection.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_wks-define.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_wks-ext.js","webpack://WebRTC/../../node_modules/core-js/library/modules/_wks.js","webpack://WebRTC/../../node_modules/core-js/library/modules/core.get-iterator-method.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.array.from.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.array.iterator.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.map.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.object.assign.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.object.create.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.object.freeze.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.object.keys.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.object.to-string.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.promise.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.reflect.set.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.string.iterator.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es6.symbol.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.map.from.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.map.of.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.map.to-json.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.object.values.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.promise.finally.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.promise.try.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.symbol.async-iterator.js","webpack://WebRTC/../../node_modules/core-js/library/modules/es7.symbol.observable.js","webpack://WebRTC/../../node_modules/core-js/library/modules/web.dom.iterable.js","webpack://WebRTC/../../node_modules/lodash/fp.js","webpack://WebRTC/../../node_modules/lodash/fp/_baseConvert.js","webpack://WebRTC/../../node_modules/lodash/fp/_mapping.js","webpack://WebRTC/../../node_modules/lodash/fp/placeholder.js","webpack://WebRTC/../../node_modules/lodash/lodash.min.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/grammar.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/index.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/parser.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/writer.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/version.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/index.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/md5.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/native.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/nil.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/parse.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/regex.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/rng.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/sha1.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/stringify.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v1.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v3.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v35.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v4.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v5.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/validate.js","webpack://WebRTC/../../node_modules/webrtc-adapter/out/adapter.js","webpack://WebRTC/../../packages/webrtc/node_modules/eventemitter3/index.js","webpack://WebRTC/webpack/bootstrap","webpack://WebRTC/webpack/runtime/global","webpack://WebRTC/webpack/runtime/node module decorator","webpack://WebRTC/webpack/before-startup","webpack://WebRTC/webpack/startup","webpack://WebRTC/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WebRTC\"] = factory();\n\telse\n\t\troot[\"WebRTC\"] = factory();\n})(self, () => {\nreturn ","/**\n * Returns the version of the currently running SDK.\n *\n * It must be used by any plugins (including the factory) as the unique source of truth when it comes to determine the current SDK version.\n * The actual version value is provided by the build process scripts (aka webpack.config.***.js) which simply do a string substitution\n * for the @@ tag below with actual version value.\n */\nexport function getVersion () {\n  return '6.5.1'\n}\n","/*\n * Event emitter module. Can be used as a standalone factory or as a mixin.\n *\n * @private\n * @class emitter\n * @example\n * ``` javascript\n * var eventEmitter = emitter(); // Create a new emitter.\n * emitter(myEmittingObject.prototype); // Mixin to an existing object.\n * ```\n */\nexport default function eventEmitter (prototype = {}) {\n  var eventMap = []\n  var subscribeMap = []\n  var strictMode = false\n\n  /*\n   * Check if the event is a valid event type.\n   */\n  function checkEvent (type) {\n    if (strictMode && !eventMap[type]) {\n      throw new Error('Invalid event type: ' + type)\n    }\n  }\n\n  return Object.assign(prototype, {\n    /*\n     * Define an event type with the event emitter.\n     *\n     * @method define\n     * @param {String} type The name for the event type.\n     */\n    define: function (type) {\n      eventMap[type] = eventMap[type] || []\n    },\n\n    /*\n     * Define an alias for an event type.\n     *\n     * @method alias\n     * @param {String} type The event type for which to add an alias.\n     * @param {String} alias The alias name for the event type.\n     * @throws {Error} Invalid event type\n     */\n    alias: function (type, alias) {\n      checkEvent(type)\n\n      eventMap[alias] = eventMap[type] = eventMap[type] || []\n    },\n\n    /*\n     * Add an event listener for the specified event type.\n     *\n     * @method on\n     * @param {String} type The event type for which to add the listener.\n     * @param {Function} listener The listener for the event type. The parameters\n     *                            of the listener depend on the event type.\n     * @throws {Error} Invalid event type\n     */\n    on: function (type, listener) {\n      checkEvent(type)\n      ;(eventMap[type] = eventMap[type] || []).push(listener)\n    },\n\n    /*\n     * Removes an event listener for the specified event type.\n     *\n     * @method off\n     * @param {String} type The event type for which to remote the listener.\n     * @param {Function} listener The listener to remove.\n     * @throws {Error} Invalid event type\n     */\n    off: function (type, listener) {\n      checkEvent(type)\n\n      var list = eventMap[type] || []\n      var i = list.length\n      while (i--) {\n        if (listener === list[i]) {\n          list.splice(i, 1)\n        }\n      }\n    },\n\n    /*\n     * Emits an event of the specified type.\n     *\n     * @method emit\n     * @param {String} type The event type to emit.\n     * @param {any} [...args] The arguments to pass to the listeners of the event.\n     * @throws {Error} Invalid event type\n     */\n    emit: function (type) {\n      checkEvent(type)\n\n      var args = Array.prototype.slice.call(arguments, 1)\n      var list = eventMap[type] || []\n      var i = 0\n\n      for (; i < list.length; i++) {\n        list[i].apply(undefined, args)\n      }\n      for (var j = 0; j < subscribeMap.length; j++) {\n        subscribeMap[j].call(undefined, type, args)\n      }\n    },\n\n    /*\n     * Add a subscription for all event types.\n     *\n     * @method subscribe\n     * @param {Function} listener The listener for all event types.\n     * @throws {Error} Listener not a function\n     */\n    subscribe: function (listener) {\n      if (typeof listener === 'function') {\n        subscribeMap.push(listener)\n      } else {\n        throw new Error('Listener not a function')\n      }\n    },\n\n    /*\n     * Remove a subscription for all event types.\n     *\n     * @method unsubscribe\n     * @param {Function} listener The listener for all event types.\n     * @throws {Error} Listener not a function\n     */\n    unsubscribe: function (listener) {\n      if (typeof listener === 'function') {\n        var i = subscribeMap.length\n        while (i--) {\n          if (listener === subscribeMap[i]) {\n            subscribeMap.splice(i, 1)\n          }\n        }\n      } else {\n        throw new Error('Listener not a function')\n      }\n    },\n\n    /*\n     * Sets the emitter in strict mode where it only allows events that have been defined or aliases.\n     *\n     * @method setStrictMode\n     * @param {Boolean} strict Whether to set strict mode for the emitter.\n     */\n    setStrictMode: function (strict) {\n      strictMode = strict\n    }\n  })\n}\n","/* Helper function for styling logs based on the log type.\n * This function will inspect the log entry and format the log\n * accordingly.\n */\nfunction styleLog (entry) {\n  const { timestamp, level } = entry\n  const logInfo = `${timestamp} - ACTION - ${level}`\n\n  let [logType, payload] = entry.messages\n\n  let prefix\n  let style = ''\n  if (logType.includes('state')) {\n    // If the log is for prev state / next state, display that in the prefix.\n    prefix = `${logInfo} - ${logType.toUpperCase()}`\n  } else if (logType.includes('ADDED') || logType.includes('DELETED') || logType.includes('ARRAY')) {\n    // If the log has added or removed keys from state, log the operation, keys affected and new values.\n    prefix = `${entry.messages[0]}: ${entry.messages[2]}`\n    style = entry.messages[1]\n    payload = entry.messages[3]\n  } else if (logType.includes('CHANGED')) {\n    // If the log has changed keys in state, log the operation, keys, old and new values.\n    prefix = `${entry.messages[0]}: ${entry.messages[2]}`\n    style = entry.messages[1]\n    payload = `${entry.messages[3]} ${entry.messages[4]} ${entry.messages[5]}`\n  } else if (logType.includes('no diff')) {\n    // If action results in no change in state, just log no diff.\n    prefix = `${logInfo} - NO DIFF`\n    payload = ''\n  } else {\n    // Else the log is the action itself, so use the action type.\n    prefix = `${logInfo} - ${payload.type} - ${logType}`\n  }\n\n  return { prefix, style, payload }\n}\n\n/**\n * Default function for the SDK to use for logging actions.\n * Action entries come in 4 different types:\n *    1. start: Log the message directly and \"open the group\".\n *    2. state: Log a prefix, state type, and state itself.\n *      (prev state and next state)\n *    3. payload: Log a prefix, action type, and payload.\n *    4. end: Close the group.\n * @method defaultActionHandler\n * @param  {LogEntry} entry\n */\nexport default function defaultActionHandler (entry) {\n  // Handle the \"start\" and \"stop\" action log entries specifically.\n  if (['group', 'groupCollapsed'].includes(entry.method)) {\n    console[entry.method](...entry.messages)\n    return\n  } else if (entry.method === 'groupEnd') {\n    console.groupEnd()\n    return\n  }\n\n  const { prefix, style, payload } = styleLog(entry)\n  console[entry.method](prefix, style, payload)\n}\n","import defaultActionHandler from './actions/actionHandler'\n\n/**\n * Configuration options for the Logs feature.\n *\n * The SDK will log information about the operations it is performing. The\n *    amount of information will depend on how the Logs feature is configured.\n *\n * The format of logs can also be customized by providing a\n *    {@link logger.LogHandler LogHandler}. This function will receive a\n *    {@link logger.LogEntry LogEntry} which it can handle as it sees fit. By\n *    default, the SDK will log information to the console. For more\n *    information, see the {@link logger Logs feature} description.\n *\n * @public\n * @static\n * @name config.logs\n * @memberof config\n * @requires logs\n * @instance\n * @param {Object} logs Logs configs.\n * @param {string} [logs.logLevel='debug'] Log level to be set. See {@link logger.levels}.\n * @param {logger.LogHandler} [logs.handler] The function to receive log entries from the\n *    SDK. If not provided, a default handler will be used that logs entries\n *    to the console.\n * @param {Object|boolean} [logs.logActions=false] Options specifically for action logs when\n *    logLevel is at DEBUG+ levels. Set this to false to not output action logs.\n * @param {logger.LogHandler} [logs.logActions.handler] The function to receive action\n *    log entries from the SDK. If not provided, a default handler will be used\n *    that logs actions to the console.\n * @param {boolean} [logs.logActions.actionOnly=false] Only output information\n *    about the action itself. Omits the SDK context for when it occurred.\n * @param {boolean} [logs.logActions.collapsed=false] Whether logs should be\n *    minimized when initially output. The full log is still output and can be\n *    inspected on the console.\n * @param {boolean} [logs.logActions.diff=false] Include a diff of what SDK\n *    context was changed by the action.\n * @param {string}  [logs.logActions.level='debug'] Log level to be set\n *    on the action logs\n * @param {boolean} [logs.logActions.exposePayloads=true] Allow action payloads\n *    to be exposed in the logs, potentially displaying sensitive information.\n */\nexport const defaultOptions = {\n  logLevel: 'debug',\n  handler: undefined,\n  logActions: false\n}\n\nexport const partialDefaultLogActions = {\n  handler: defaultActionHandler,\n  actionOnly: false,\n  collapsed: false,\n  diff: false,\n  level: 'debug',\n  exposePayloads: true\n}\n/*\n * TODO: Figure out a way to work around this.\n * Can't use validation in logging because validation uses logging to output errors.\n * Circular dependency, have to refactor.\n * Code:\n ```javascript\n// Parse and/or Validate\n// import { enums, validation as v8n, parse } from '../common/validation'\nconst defaultValidation = v8n.schema({\n  logLevel: enums(['silent', 'error', 'warn', 'info', 'debug']),\n  handler: v8n.optional(v8n.function()),\n  logActions: v8n.optional(\n    v8n.passesAnyOf(\n      v8n.schema({\n        handler: v8n.optional(v8n.function()),\n        actionOnly: v8n.boolean(),\n        collapsed: v8n.boolean(),\n        diff: v8n.boolean(),\n        exposePayloads: v8n.boolean()\n      }),\n      // OR\n      v8n.boolean()\n    )\n  )\n})\n\nexport const parseLogConfig = parse('logger', defaultValidation)\n```\n*/\n","import createManager from 'kandy-logger'\nimport { defaultOptions } from './config'\n\n// Logs generated as a result of invoking the public API will contain this tag\nexport const API_LOG_TAG = 'API invoked: '\n\n/**\n * Create the LogManager right away so that it is available. The SDK has not\n *    been instantiated yet, so we have to use the default options until we get\n *    the application's configs.\n */\n/**\n * TODO: There is a technical debt associated with having a loggerManager along with it's\n * loggers created at the global scope. Multiple instances of the SDK would end up sharing\n * the log manager and therefore loggers.\n */\nconst manager = createManager(defaultOptions)\nexport const logManager = manager\n","// Webrtc plugin.\nimport { deviceActions } from '../interface/actions'\nimport * as eventTypes from '../interface/eventTypes'\n\n/**\n * Sets up listeners for events emitted from the Webrtc-stack's Device Manager.\n *\n * Events received from the Webrtc-stack are used to:\n *    1) Create actions to update SDK state about Webrtc-layer changes.\n *    2) Sometimes create events to emit to the application to reflect the changes\n *        to SDK state.\n *\n * The actions and events are passed to a \"handler\" which knows what to do with\n *    them in the current context (ie. not always direct dispatch/emit).\n * @method watchDeviceEvents\n * @param {Object} manager The WebRTC Device Manager.\n * @param {Function} handler Function for handling actions and events.\n */\nexport default function watchDeviceEvents (manager, handler) {\n  // Manager event handlers.\n  const change = () => {\n    // Get the latest devices after they changed, then emit the device list\n    //  upwards.\n    manager.checkDevices().then(devices => {\n      const devicesChangedAction = deviceActions.devicesChanged(devices)\n      const devicesChangedEvent = {\n        type: eventTypes.DEVICES_CHANGED,\n        args: {}\n      }\n      handler(devicesChangedAction, devicesChangedEvent)\n    })\n  }\n\n  manager.on('change', change)\n\n  // Return an unsubscribe function that removes all event listeners.\n  const unsubscribe = () => {\n    manager.off('change', change)\n  }\n\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { mediaActions } from '../interface/actions'\n\n/**\n * Sets up event listeners for a Media's events.\n * The events are turned into actions and dispatched\n *    to be handled by redux.\n * @method watchMediaEvents\n * @param {Object} media A Media object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchMediaEvents (media, handler) {\n  // Media received a new track.\n  const newTrack = ({ mediaId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const mediaNewTrackAction = mediaActions.mediaNewTrack(mediaId, { trackId })\n    handler(mediaNewTrackAction)\n  }\n\n  const trackEnded = ({ mediaId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const mediaTrackEndedAction = mediaActions.mediaTrackEnded(mediaId, { trackId })\n    handler(mediaTrackEndedAction)\n  }\n\n  const unsubscribe = () => {\n    media.off('media:stopped', unsubscribe)\n    media.off('track:new', newTrack)\n    media.off('track:ended', trackEnded)\n  }\n\n  // If the media is stopped we will turn off event listeners for this media.\n  //  The Media Manager will handle updating state with the media \"remove\" event that gets emitted\n  //  following media \"stopped\" events.\n  media.on('media:stopped', unsubscribe)\n  media.on('track:new', newTrack)\n  media.on('track:ended', trackEnded)\n\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { mediaActions } from '../interface/actions'\nimport watchMediaEvents from './media'\n\n/**\n * Sets up event listeners for Media Manager events. The events are turned into\n *    actions and dispatched to be handled by redux.\n * @method watchMediaManagerEvents\n * @param {Object} manager The Media Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchMediaManagerEvents (manager, handler) {\n  const newMedia = id => {\n    const media = manager.get(id)\n\n    // If it is a new Media, watch for its events.\n    watchMediaEvents(media, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const newMediaAction = mediaActions.newMedia(id, {\n      local: media.getState().isLocal,\n      tracks: media.getTracks().map(track => track.id)\n    })\n    handler(newMediaAction)\n  }\n\n  const removedMedia = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const removedMediaAction = mediaActions.removedMedia(id)\n    handler(removedMediaAction)\n  }\n\n  manager.on('media:new', newMedia)\n  manager.on('media:removed', removedMedia)\n\n  const unsubscribe = () => {\n    manager.off('media:new', newMedia)\n    manager.off('media:removed', removedMedia)\n  }\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { sessionActions } from '../interface/actions'\n\n/**\n * Sets up event listeners for a Session's events.\n * The events are turned into actions and dispatched\n *    to be handled by redux elsewhere.\n * @method watchSessionEvents\n * @param {Object} session The Session object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchSessionEvents (session, handler) {\n  // Session received a new track.\n  const newTrack = ({ local, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const newTrackAction = sessionActions.sessionNewTrack(session.id, {\n      local,\n      trackId\n    })\n    handler(newTrackAction)\n  }\n\n  const trackEnded = ({ local, trackId, isUnsolicited }) => {\n    /**\n     * When a track has ended,\n     * update redux state's webrtc.session.localTracks/remoteTracks array\n     * by removing the specified trackId.\n     * ('local' boolean will determine whether to update localTracks or remoteTracks)\n     */\n    handler(\n      sessionActions.sessionTrackEnded(session.id, {\n        local,\n        trackId,\n        isUnsolicited\n      })\n    )\n  }\n\n  const trackReplaced = ({ oldTrackId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const trackReplacedAction = sessionActions.sessionTrackReplaced(session.id, {\n      oldTrackId,\n      trackId\n    })\n    handler(trackReplacedAction)\n  }\n\n  const iceConnectionStateChange = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceConnectionStateChangeAction = sessionActions.sessionIceConnectionStateChange(session.id, {\n      iceConnectionState: obj.iceConnectionState\n    })\n    handler(iceConnectionStateChangeAction)\n  }\n\n  const iceCandidateCollected = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceCandidateCollectedAction = sessionActions.sessionIceCandidateCollected(session.id, obj)\n    handler(iceCandidateCollectedAction)\n  }\n\n  const iceGatheringStateChange = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceGatheringStateChangeAction = sessionActions.sessionIceGatheringStateChange(session.id, obj)\n    handler(iceGatheringStateChangeAction)\n  }\n\n  const iceCollectionScheduledCheck = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceCollectionScheduledCheckAction = sessionActions.sessionIceCollectionScheduledCheck(session.id, obj)\n    handler(iceCollectionScheduledCheckAction)\n  }\n\n  // Listen for when audio files end (from `insertAudio` API).\n  const audioFileEnded = isSuccess => {\n    handler(sessionActions.sessionAudioEnded(session.id, { error: !isSuccess }))\n  }\n\n  session.on('new:track', newTrack)\n  session.on('track:ended', trackEnded)\n  session.on('track:replaced', trackReplaced)\n  session.on('peer:iceConnectionStateChange', iceConnectionStateChange)\n  session.on('peer:iceGatheringStateChange', iceGatheringStateChange)\n  session.on('peer:iceCandidateCollected', iceCandidateCollected)\n  session.on('peer:iceCollectionScheduledCheck', iceCollectionScheduledCheck)\n  session.on('audioFileEnded', audioFileEnded)\n\n  const unsubscribe = () => {\n    session.off('new:track', newTrack)\n    session.off('track:ended', trackEnded)\n    session.off('track:replaced', trackReplaced)\n    session.off('peer:iceConnectionStateChange', iceConnectionStateChange)\n    session.off('peer:iceGatheringStateChange', iceGatheringStateChange)\n    session.off('peer:iceCandidateCollected', iceCandidateCollected)\n    session.off('peer:iceCollectionScheduledCheck', iceCollectionScheduledCheck)\n    session.off('audioFileEnded', audioFileEnded)\n  }\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { sessionActions } from '../interface/actions'\nimport watchSessionEvents from './session'\n\n/**\n * Sets up event listeners for Session Manager Events.\n * The events are turned into actions and dispatched\n *    to be handled by redux elsewhere.\n * @method watchSessionManagerEvents\n * @param {Object} manager The webRTC Session Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchSessionManagerEvents (manager, handler) {\n  // Handle new Session.\n  const sessionAdded = id => {\n    const session = manager.get(id)\n    const state = session.getState()\n    delete state.id\n\n    // If it is a new Session, watch for its events.\n    watchSessionEvents(session, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const sessionAddedAction = sessionActions.sessionAdded(id, state)\n    handler(sessionAddedAction)\n  }\n\n  // Handle Sessions ending.\n  const sessionRemoved = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const sessionRemovedAction = sessionActions.sessionRemoved(id)\n    handler(sessionRemovedAction)\n  }\n\n  manager.on('session:new', sessionAdded)\n  manager.on('session:removed', sessionRemoved)\n  const unsubscribe = () => {\n    manager.off('session:new', sessionAdded)\n    manager.off('session:removed', sessionRemoved)\n  }\n  return unsubscribe\n}\n","// Libraries.\nimport { trackActions } from '../interface/actions'\nimport * as eventTypes from '../interface/eventTypes'\n\n/**\n * Sets up event listeners for a Track object's events.\n * The events simply dispatch actions to be handled by redux.\n * @method watchTrackEvents\n * @param {Object} track A Track object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchTrackEvents (track, handler) {\n  // The track source (which affected the track identified by trackId) was muted.\n  // An example of a track source is a physical media device such as:\n  // microphone or camera.\n  const trackSourceMuted = trackData => {\n    const trackSourceMutedAction = trackActions.trackSourceMuted([trackData.trackId], {\n      mediaId: trackData.mediaId,\n      isLocal: trackData.isLocal\n    })\n    const trackSourceMutedEvent = {\n      type: eventTypes.TRACK_SOURCE_MUTED,\n      args: {\n        trackIds: [trackData.trackId],\n        trackId: trackData.trackId,\n        isLocal: trackData.isLocal,\n        id: trackData.mediaId\n      }\n    }\n    // Pass the action and event to the handler to be handled as appropriate\n    handler(trackSourceMutedAction, trackSourceMutedEvent)\n  }\n\n  // The track source (which affected the track identified by trackId) was unmuted.\n  const trackSourceUnmuted = trackData => {\n    const trackSourceUnmutedAction = trackActions.trackSourceUnmuted([trackData.trackId], {\n      mediaId: trackData.mediaId,\n      isLocal: trackData.isLocal\n    })\n    const trackSourceUnmutedEvent = {\n      type: eventTypes.TRACK_SOURCE_UNMUTED,\n      args: {\n        trackIds: [trackData.trackId],\n        trackId: trackData.trackId,\n        isLocal: trackData.isLocal,\n        id: trackData.mediaId\n      }\n    }\n    // Pass the action and event to the handler to be handled as appropriate\n    handler(trackSourceUnmutedAction, trackSourceUnmutedEvent)\n  }\n\n  const unsubscribe = () => {\n    track.off('ended', unsubscribe)\n    track.off('muted', trackSourceMuted)\n    track.off('unmuted', trackSourceUnmuted)\n  }\n\n  // If the track is ended we will turn off event listeners for the track object.\n  //  The trackManager will handle updating state with the track \"remove\" event that gets emitted\n  //  following track \"ended\" events.\n  track.on('ended', unsubscribe)\n  track.on('muted', trackSourceMuted)\n  track.on('unmuted', trackSourceUnmuted)\n\n  return unsubscribe\n}\n","// Call plugin.\nimport { trackActions } from '../interface/actions'\nimport watchTrackEvents from './track'\n\n/**\n * Sets up event listeners for Track Manager Events.\n * The events are turned into actions and dispatched\n *    to be handled by redux.\n * @method watchTrackManagerEvents\n * @param {Object} manager The webRTC Track Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchTrackManagerEvents (manager, handler) {\n  // Handler for new tracks\n  const trackAdded = id => {\n    const track = manager.get(id)\n    const state = track.getState()\n\n    // Translate the track state from native WebRTC to SDK style.\n    // This is to change the \"muted\" property to be what people generally know\n    //    \"muted\" to be.\n    state.sourceMuted = state.muted\n    state.muted = !state.enabled\n\n    delete state.enabled\n    delete state.id\n\n    // Set up event listeners for the added track\n    watchTrackEvents(track, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const trackAddedAction = trackActions.trackAdded(id, state)\n    handler(trackAddedAction)\n  }\n\n  // Handler for removed/ended tracks\n  const trackRemoved = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const trackRemovedAction = trackActions.trackRemoved(id)\n    handler(trackRemovedAction)\n  }\n\n  // Listen for track add or remove events\n  manager.on('add', trackAdded)\n  manager.on('remove', trackRemoved)\n\n  // Return an unsubscribe function that removes all event listeners.\n  const unsubscribe = () => {\n    manager.off('add', trackAdded)\n    manager.off('remove', trackRemoved)\n  }\n\n  return unsubscribe\n}\n","const prefix = '@@KANDY/WEBRTC/'\n\n/**\n * Device action types.\n */\nexport const DEVICES_CHANGE = prefix + 'DEVICES/CHANGE'\nexport const INITIALIZE_DEVICES = prefix + 'INITIALIZE_DEVICES'\nexport const INITIALIZE_DEVICES_FINISH = prefix + 'INITIALIZE_DEVICES_FINISH'\n\n/**\n * Track action types.\n */\nconst trackPrefix = prefix + 'TRACK/'\n\nexport const TRACK_ADDED = trackPrefix + 'ADDED'\nexport const TRACK_REMOVED = trackPrefix + 'REMOVED'\n\nexport const RENDER_TRACKS = trackPrefix + 'RENDER'\nexport const RENDER_TRACKS_FINISH = trackPrefix + 'RENDER_FINISH'\n\nexport const REMOVE_TRACKS = trackPrefix + 'REMOVE'\nexport const REMOVE_TRACKS_FINISH = trackPrefix + 'REMOVE_FINISH'\n\nexport const MUTE_TRACKS = trackPrefix + 'MUTE'\nexport const MUTE_TRACKS_FINISH = trackPrefix + 'MUTE_FINISH'\nexport const UNMUTE_TRACKS = trackPrefix + 'UNMUTE'\nexport const UNMUTE_TRACKS_FINISH = trackPrefix + 'UNMUTE_FINISH'\n\nexport const TRACK_SOURCE_MUTED = trackPrefix + 'SOURCE_MUTED'\nexport const TRACK_SOURCE_UNMUTED = trackPrefix + 'SOURCE_UNMUTED'\n\n/**\n * Session action types.\n */\nconst sessionPrefix = prefix + 'SESSION/'\n\nexport const SESSION_ADDED = sessionPrefix + 'ADDED'\nexport const SESSION_REMOVED = sessionPrefix + 'REMOVED'\n\nexport const SESSION_NEW_TRACK = sessionPrefix + 'NEW_TRACK'\nexport const SESSION_TRACK_ENDED = sessionPrefix + 'TRACK_ENDED'\nexport const SESSION_TRACK_REPLACED = sessionPrefix + 'TRACK_REPLACED'\n\n// Audio file from the `insertAudio` API has ended.\nexport const SESSION_AUDIO_ENDED = sessionPrefix + 'AUDIO_ENDED'\n\n// Peer events\nexport const SESSION_ICE_CONNECTION_STATE_CHANGE = sessionPrefix + 'ICE_CONNECTION_STATE_CHANGE'\nexport const SESSION_ICE_GATHERING_STATE_CHANGE = sessionPrefix + 'ICE_GATHERING_STATE_CHANGE'\nexport const SESSION_ICE_CANDIDATE_COLLECTED = sessionPrefix + 'ICE_CANDIDATE_COLLECTED'\nexport const SESSION_ICE_COLLECTION_SCHEDULED_CHECK = sessionPrefix + 'ICE_CANDIDATE_SCHEDULED_CHECK'\n\n/**\n * Media action types.\n */\nconst mediaPrefix = prefix + 'MEDIA/'\n\nexport const MEDIA_NEW = mediaPrefix + 'NEW'\nexport const MEDIA_REMOVED = mediaPrefix + 'REMOVED'\nexport const MEDIA_CHANGE = mediaPrefix + 'CHANGE'\n\nexport const MEDIA_NEW_TRACK = mediaPrefix + 'NEW_TRACK'\nexport const MEDIA_TRACK_ENDED = mediaPrefix + 'TRACK_ENDED'\n\n/**\n * Misc. action types.\n */\nexport const SET_BROWSER_DETAILS = prefix + 'SET_BROWSER_DETAILS'\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\nexport function devicesChanged (devices) {\n  return {\n    type: actionTypes.DEVICES_CHANGE,\n    payload: devices\n  }\n}\n\nexport function initializeDevice (browserConstraints) {\n  return {\n    type: actionTypes.INITIALIZE_DEVICES,\n    payload: browserConstraints\n  }\n}\n\n/**\n * The finishing action which follows the INITIALIZE_DEVICES action\n * @param {Object} $0\n * @param {Object} [$0.devices] The device object.\n * @param {Object} [$0.error] An error object. Only present if an error occurred.\n * @returns {Object} A flux standard action representing the INITIALIZE_DEVICES_FINISH action.\n */\nexport function initializeDeviceFinish ({ devices, error }) {\n  return {\n    payload: error || devices,\n    error: Boolean(error),\n    type: actionTypes.INITIALIZE_DEVICES_FINISH\n  }\n}\n","import * as deviceActionsImport from './devices'\nimport * as trackActionsImport from './tracks'\nimport * as sessionActionsImport from './sessions'\nimport * as mediaActionsImport from './media'\nimport * as miscActionsImport from './misc'\n\n// Apparently the following doesn't work:\n//      export * as newName from './place';\n// So import everything from each file, then re-export.\nexport const deviceActions = deviceActionsImport\nexport const trackActions = trackActionsImport\nexport const sessionActions = sessionActionsImport\nexport const mediaActions = mediaActionsImport\nexport const miscActions = miscActionsImport\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\n// Libraries.\nimport { isEmpty } from 'lodash/fp'\n\nfunction mediaActionHelper (type, id, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload: {\n      ...payload,\n      id\n    }\n  }\n\n  // Only have meta and error properties on the action if they're needed.\n  if (!isEmpty(meta)) {\n    action.meta = meta\n  }\n  if (payload.error) {\n    action.error = true\n  }\n  return action\n}\n\nexport function newMedia (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_NEW, id, params)\n}\n\nexport function removedMedia (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_REMOVED, id, params)\n}\n\nexport function mediaNewTrack (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_NEW_TRACK, id, params)\n}\n\nexport function mediaTrackEnded (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_TRACK_ENDED, id, params)\n}\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\n/**\n * Action creator\n * @method setBrowserDetails\n * @param  {Object} details\n * @param  {string} details.browser\n * @param  {number} details.version\n * @return {Object} A Flux-Standard-action.\n */\nexport function setBrowserDetails (details) {\n  return {\n    type: actionTypes.SET_BROWSER_DETAILS,\n    payload: details\n  }\n}\n","// Call plugin.\nimport * as actionTypes from '../actionTypes'\n\n// Libraries.\nimport { isEmpty } from 'lodash/fp'\n\nfunction sessionActionHelper (type, id, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload: {\n      ...payload,\n      id\n    }\n  }\n\n  // Only have meta and error properties on the action if they're needed.\n  if (!isEmpty(meta)) {\n    action.meta = meta\n  }\n  if (payload.error) {\n    action.error = true\n  }\n  return action\n}\n\nexport function sessionAdded (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ADDED, id, params)\n}\n\nexport function sessionRemoved (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_REMOVED, id, params)\n}\n\nexport function sessionNewTrack (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_NEW_TRACK, id, params)\n}\n\nexport function sessionTrackEnded (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_TRACK_ENDED, id, params)\n}\n\nexport function sessionTrackReplaced (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_TRACK_REPLACED, id, params)\n}\n\nexport function sessionIceConnectionStateChange (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_CONNECTION_STATE_CHANGE, id, params)\n}\n\nexport function sessionIceGatheringStateChange (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_GATHERING_STATE_CHANGE, id, params)\n}\n\nexport function sessionIceCandidateCollected (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_CANDIDATE_COLLECTED, id, params)\n}\n\nexport function sessionIceCollectionScheduledCheck (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_COLLECTION_SCHEDULED_CHECK, id, params)\n}\n\n/*\n * Action to signify that an audio file has ended. Dispatched at the end of the\n *    `insertAudio` Session method.\n */\nexport function sessionAudioEnded (id, params) {\n  return {\n    type: actionTypes.SESSION_AUDIO_ENDED,\n    payload: { id, ...params },\n    error: Boolean(params.error)\n  }\n}\n","// Call plugin.\nimport * as actionTypes from '../actionTypes'\n\nfunction trackManagerHelper (type, trackId, payload = {}, meta = {}) {\n  return {\n    type,\n    payload: {\n      ...payload,\n      trackId\n    },\n    meta\n  }\n}\n\nexport function trackAdded (trackId, params) {\n  return trackManagerHelper(actionTypes.TRACK_ADDED, trackId, params)\n}\n\nexport function trackRemoved (trackId, params) {\n  return trackManagerHelper(actionTypes.TRACK_REMOVED, trackId, params)\n}\n\nfunction trackHelper (type, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload,\n    meta\n  }\n\n  if (payload.error) {\n    action.error = true\n  }\n\n  return action\n}\n\nexport function muteTracks (trackIds) {\n  return trackHelper(actionTypes.MUTE_TRACKS, trackIds)\n}\n\nexport function muteTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.MUTE_TRACKS_FINISH, { trackIds: trackIds, ...params })\n}\n\nexport function unmuteTracks (trackIds) {\n  return trackHelper(actionTypes.UNMUTE_TRACKS, trackIds)\n}\n\nexport function unmuteTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.UNMUTE_TRACKS_FINISH, { trackIds: trackIds, ...params })\n}\n\nexport function trackSourceMuted (trackIds, params) {\n  return trackHelper(actionTypes.TRACK_SOURCE_MUTED, { trackIds: trackIds, ...params })\n}\n\nexport function trackSourceUnmuted (trackIds, params) {\n  return trackHelper(actionTypes.TRACK_SOURCE_UNMUTED, { trackIds: trackIds, ...params })\n}\n\nexport function renderTracks (trackIds, params) {\n  return trackHelper(actionTypes.RENDER_TRACKS, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function renderTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.RENDER_TRACKS_FINISH, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function removeTracks (trackIds, params) {\n  return trackHelper(actionTypes.REMOVE_TRACKS, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function removeTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.REMOVE_TRACKS_FINISH, {\n    trackIds,\n    ...params\n  })\n}\n","/**\n * The media devices available for use have changed.\n *\n * Information about the available media devices can be retrieved using the\n *    {@link media.getDevices} API.\n *\n * @public\n * @static\n * @memberof media\n * @event devices:change\n * @example\n * // Listen for changes to available media devices.\n * client.on('devices:change', function () {\n *    // Retrieve the latest media device lists.\n *    const devices = client.media.getDevices()\n * })\n */\nexport const DEVICES_CHANGED = 'devices:change'\n\n/**\n * An error occurred while trying to access media devices.\n *\n * The most common causes of this error are when the browser does not have\n *    permission from the end-user to access the devices, or when the browser\n *    cannot find a media device that fulfills the\n *    {@link call.MediaConstraint MediaConstraint(s)} that was provided.\n *\n * @public\n * @static\n * @memberof media\n * @event devices:error\n * @param {Object} params\n * @param {Error} params.error The Basic error object.\n */\nexport const INITIALIZE_DEVICES_ERROR = 'devices:error'\n\n/**\n * The specified Tracks have been muted.\n *\n * A Track can be muted using the {@link media.muteTracks} API.\n * @public\n * @memberof media\n * @event media:muted\n * @param {Object} params\n * @param {Array<string>} params.tracks The list of Tracks that were muted.\n */\nexport const TRACKS_MUTED = 'media:muted'\n\n/**\n * The specified Tracks have been unmuted.\n *\n * A Track can be unmuted using the {@link media.unmuteTracks}\n *    API.\n * @public\n * @memberof media\n * @event media:unmuted\n * @param {Object} params\n * @param {Array<string>} params.tracks The list of Tracks that were unmuted.\n */\nexport const TRACKS_UNMUTED = 'media:unmuted'\n\n/**\n * The specified Track has had its media source muted.\n *\n * The Track is still active, but is not receiving media any longer. An audio\n *    track will be silent and a video track will be a black frame. It is\n *    possible for the track to start receiving media again (see the\n *    {@link media.event:media:sourceUnmuted media:sourceUnmuted} event).\n *\n * This event is generated outside the control of the SDK. This will predominantely\n *    happen for a remote track during network issues, where media will lose frames\n *    and be \"choppy\". This may also happen for a local track if the browser or\n *    end-user stops allowing the SDK to access the media device, for example.\n * @public\n * @static\n * @memberof media\n * @event media:sourceMuted\n * @param {Object} params\n * @param {string} params.trackId The track that is affected as a result of media source being muted.\n */\nexport const TRACK_SOURCE_MUTED = 'media:sourceMuted'\n\n/**\n * The specified Track has started receiving media from its source once again.\n *\n * The Track returns to the state before it was muted (see the\n *    {@link media.event:media:sourceMuted media:sourceMuted} event), and will\n *    be able to display video or play audio once again.\n *\n * This event is generated outside the control of the SDK, when the cause of the\n *    media source being muted had been undone.\n * @public\n * @static\n * @memberof media\n * @event media:sourceUnmuted\n * @param {Object} params\n * @param {string} params.trackId The track that is affected as a result of media source being unmuted.\n */\nexport const TRACK_SOURCE_UNMUTED = 'media:sourceUnmuted'\n\n/**\n * The specified Track has been rendered into an element.\n *\n * @public\n * @static\n * @memberof media\n * @event media:trackRendered\n * @param {Object} params\n * @param {Array<string>} params.trackIds The list of track id's that were rendered.\n * @param {string} params.selector The css selector used to identify the element the track is rendered into.\n * @param {api.BasicError} [params.error] An error object, if the operation was not successful.\n */\nexport const TRACK_RENDERED = 'media:trackRendered'\n\n/**\n * A local Track has ended unexpectedly. The Track may still be part of a Call but\n *    has become disconnected from its media source and is not recoverable.\n *\n * This event is emitted when an action other than an SDK operation stops the\n *    track. The most comon scenarios are when a device being used for a Call\n *    disconnects, any local tracks (such as audio from a bluetooth headset's\n *    microphone or video from a USB camera) from that device will be ended.\n *    Another scenario is for screensharing, where some browsers provide the\n *    ability to stop screensharing directly rather than through an SDK operation.\n *\n * When a local track ends this way, it will still be part of the Call but will\n *    not have any media. The track can be removed from the call with the\n *    {@link call.removeMedia} API so the remote side of the Call knows the track\n *    has stopped, or the track can be replaced with a new track using the\n *    {@link call.replaceTrack} API to prevent any interruption.\n * @public\n * @static\n * @memberof media\n * @event media:trackEnded\n * @param {Object} params\n * @param {Object} params.trackId The Track that has ended.\n * @param {Object} params.callId The ID of the Call the Track is used in.\n */\nexport const TRACK_ENDED = 'media:trackEnded'\n","// Other plugins.\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('CHANNEL')\n\n/**\n * Converts a channel's send and receive to serialize messages in JSON before sending and after receiving.\n *\n * @param {Object} innerChannel The channel to convert\n */\nexport function jsonChannel (innerChannel) {\n  const jsonChannel = {\n    receive: undefined,\n    send (message) {\n      try {\n        innerChannel.send(JSON.stringify(message))\n      } catch (err) {\n        log.error('Failed to send JSON message over channel: ', err)\n      }\n    }\n  }\n\n  innerChannel.receive = function receiveJSONMessage (message) {\n    try {\n      if (jsonChannel.receive) {\n        jsonChannel.receive(JSON.parse(message))\n      }\n    } catch (err) {\n      log.error('Failed to receive JSON message on channel: ', err)\n    }\n  }\n\n  return jsonChannel\n}\n\n/**\n * Converts a channel with only `send` and `receive` functionality into one that\n *    also has `reply` functionality.\n * This is required by the Proxy Plugin to convert asynchronous code into\n *    synchronous code. The Proxy needs to return a value synchronously when\n *    sending data over the channel.\n * @method replyChannel\n * @param  {Object} channel\n * @return {Object} The same channel, but with a `reply` method as well.\n */\nexport function replyChannel (channel) {\n  /**\n   * Track sent messages by their ID.\n   * @type {Object}\n   */\n  const sentMessages = {}\n\n  channel.receive = function receiveMessage (message) {\n    const { messageId, data } = message\n\n    // Determine how the message needs to be handled.\n    if (messageId && sentMessages[messageId]) {\n      if (sentMessages[messageId].isExpired) {\n        // If the reply came after the time-out, ignore the message.\n        log.debug(`Received reply from timed-out message ${messageId}. Ignoring.`)\n        delete sentMessages[messageId]\n      } else {\n        // If the message has an ID from a sent message, then it is a reply to\n        //    that message. Resolve the promise associated with it.\n        log.debug(`Received reply from message ${messageId}.`)\n        sentMessages[messageId].resolve(data)\n      }\n    } else if (messageId && !sentMessages[messageId]) {\n      // If the message has an ID that we don't know about, then the application\n      //    will need to handle it.\n      if (api.receive) {\n        log.debug(`Received new message ${messageId}.`)\n        api.receive(messageId, data)\n      } else {\n        log.error('No listener set for handling received messages.', data)\n      }\n    } else {\n      // If the message didn't have an ID, then it wasn't from our test channel.\n      log.warn('Received message without an ID on the channel; ignoring.', message)\n    }\n  }\n\n  /*\n   * The interface that the Proxy Plugin will use.\n   */\n  const api = {}\n\n  /**\n   * Send a message over the channel.\n   * @method send\n   * @param {string} messageId A unique ID to track the sent message.\n   * @param {Object} data\n   * @param {Function} [callback] Function called when a reply is received.\n   */\n  api.send = (messageId, data, callback) => {\n    if (sentMessages[messageId]) {\n      // The ID has already been used for sending a message.\n      callback(null, new Error('Cannot send message; ID already used.'))\n      return\n    }\n\n    // Attach a messageId to the message.\n    // This lets the remote side reply to this message by using the messageId.\n    const message = {\n      data,\n      messageId\n    }\n\n    if (callback) {\n      // If there is a callback function, then a reply is expected.\n      // Wrap `send` is a promise so that we can correlate receiving a reply\n      //    to the callback.\n      new Promise(resolve => {\n        // Race receiving the reply against a time-out.\n        // 12s was chosen to be slightly longer than a valid WebRTC operation\n        //    timeout (collecting ICE candidates can take 10s).\n        const timeoutId = setTimeout(() => {\n          log.debug(`Message ${messageId} timed-out. Failing operation.`)\n          sentMessages[messageId].isExpired = true\n          callback(null, new Error('Operation timed-out; no reply from other side of channel.'))\n        }, 12000)\n\n        // Store `resolve` so we can call it call it when we receive a reply.\n        sentMessages[messageId] = {\n          resolve,\n          timeoutId,\n          isExpired: false\n        }\n\n        // Send the message over the channel.\n        log.debug(`Sending new message ${messageId} with reply expected.`)\n        channel.send(message)\n      }).then(data => {\n        // The message received a reply, so remove the reference.\n        clearTimeout(sentMessages[messageId].timeoutId)\n        delete sentMessages[messageId]\n\n        if (typeof callback === 'function') {\n          callback(data)\n        }\n      })\n    } else {\n      // Send the message over the channel.\n      log.debug(`Sending new message ${messageId}.`)\n      channel.send(message)\n    }\n  }\n\n  /**\n   * Listener for receiving a message from the channel.\n   * @method receive\n   * @param {string} messageId\n   * @param {Object} data\n   */\n  // eslint-disable-next-line\n  api.receive = undefined\n\n  /**\n   * Send a reply to a specific received message over the channel.\n   * @method reply\n   * @param {string} messageId\n   * @param {Object} data\n   */\n  api.reply = (messageId, data) => {\n    // Attach the messageId to the message.\n    const message = {\n      data,\n      messageId\n    }\n\n    log.debug(`Replying to message ${messageId}.`)\n    channel.send(message)\n  }\n\n  return api\n}\n","/**\n * Device Manager \"converter\".\n * Receives a webRTC command intended for the Device Manager, performs the webRTC\n *\\\n \\\n *    operation and returns/resolves a proxy response.\n * @method deviceManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function deviceManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.devices\n  if (operation === 'setupDeviceInitialization') {\n    try {\n      const devices = await manager.setupDeviceInitialization(...params)\n      return devices\n    } catch (err) {\n      console.debug('Failed to initialize devices: ', err)\n      let error = { name: err.name, message: err.message, error: true }\n      if (err.name === 'OverconstrainedError' && err.constraint) {\n        error = { ...error, constraint: err.constraint }\n      }\n      return error\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","// Proxy plugin.\nimport deviceManager from './deviceManager'\nimport mediaManager from './mediaManager'\nimport sessionManager from './sessionManager'\nimport trackManager from './trackManager'\nimport logManagerConverter from './logManager'\nimport webrtcManager from './webrtcManager'\nimport renderer from './renderer'\nimport media from './media'\nimport session from './session'\nimport track from './track'\nimport logger from './logger'\n\n// Other plugins.\nimport { logManager } from '../../logs'\n\nconst log = logManager.getLogger('PROXY')\n\n// Converters for the webRTC managers.\nconst managers = {\n  media: mediaManager,\n  sessionManager,\n  track: trackManager,\n  devices: deviceManager,\n  logs: logManagerConverter,\n  webrtcManager,\n  renderer\n}\n\n// Converters for the webRTC models.\nconst models = {\n  media,\n  session,\n  track,\n  logger\n}\n\n/**\n * Forwards a webRTC command to the appropriate \"converter\".\n * The converter will perform the webRTC operation and return\n *    a response that can be returned over the channel.\n * @method convertCommand\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command The webRTC command.\n * @return {Promise} Promise resolving with the operation result.\n */\nexport default function convertCommand (webRTC, command) {\n  if (command.id === 'manager') {\n    // Forward the command to the appropriate manager converter.\n    log.debug(`Performing ${command.type} manager operation ${command.operation}.`, command.params)\n    const result = managers[command.type](webRTC, command)\n\n    // The result is a Promise. Add a .then for debugging after it completes.\n    result.then(data => {\n      log.debug(`Completed ${command.type} manager operation ${command.operation}.`, data)\n    })\n\n    return result\n  } else {\n    // Forward the command to the appropriate model converter.\n    log.debug(`Performing ${command.type} model operation ${command.operation}.`, command.params)\n    const result = models[command.type](webRTC, command)\n\n    // The result is a Promise. Add a .then for debugging after it completes.\n    result.then(data => {\n      log.debug(`Completed ${command.type} model operation ${command.operation}.`, data)\n    })\n\n    return result\n  }\n}\n\n/**\n * Converts a Track object into a serializable object\n *    that the Proxy Plugin can use.\n * @method convertTrack\n * @param  {Track} track\n * @return {Object}  A serializable object.\n */\nexport function convertTrack (track) {\n  if (track) {\n    return {\n      type: 'track',\n      ...track.getState()\n    }\n  }\n}\n\n/**\n * Converts a Media object into something that can be\n *    returned over the channel.\n * @method convertMedia\n * @param {Media} media\n * @return {Object} A serializable object.\n */\nexport function convertMedia (media) {\n  if (media) {\n    return {\n      type: 'media',\n      id: media.id\n    }\n  }\n}\n\n/**\n * Converts a Session object into a serializable object\n *    that the Proxy Plugin can use.\n * @method convertSession\n * @param  {Session} session\n * @return {Object}  A serializable object.\n */\nexport function convertSession (session) {\n  if (session) {\n    const sessionState = session.getState()\n\n    return {\n      type: 'session',\n      ...sessionState,\n      localTracks: sessionState.localTracks.map(convertTrack),\n      allLocalTracks: sessionState.allLocalTracks.map(convertTrack),\n      remoteTracks: sessionState.remoteTracks.map(convertTrack)\n    }\n  }\n}\n\n/**\n * Converts a Logger object into a serializable object.\n * @method convertLogger\n * @param  {Logger} logger A WebRTC logger.\n * @return {Object}  A serializable object.\n */\nexport function convertLogger (logger) {\n  if (logger) {\n    return {\n      type: 'logger',\n      // Use the name as the unique Logger ID (which is what it is).\n      id: logger.name\n    }\n  }\n}\n","import { convertLogger } from './index'\n\n/**\n * Log Manager \"converter\".\n * Defines how received Log Manager commands are performed, and how any data is\n *    returned over the channel (if needed).\n * @method logManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the operation has completed.\n */\nexport default async function logManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.logs\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'getLogger') {\n    const logger = manager.getLogger(...params)\n    return convertLogger(logger)\n  } else if (operation === 'getLoggers') {\n    const loggers = manager.getLoggers(...params)\n    return loggers.map(convertLogger)\n  } else if (operation === 'getHandler') {\n    // We can't send a function over the channel; return nothing.\n    return undefined\n  } else if (operation === 'setLevel') {\n    // Set the level on the LogManager itself.\n    manager.setLevel(...params)\n\n    // Signature was either setLevel(type, level) or setLevel(level).\n    const level = params[1] || params[0]\n    // Set the level on all already-created Loggers.\n    manager.getLoggers().forEach(logger => logger.setLevel(level))\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","import { logManager } from '../../logs'\n\n/**\n * Logger \"converter\".\n *\n * Defines how received Logger commands are performed, and how any data is\n *    returned over the channel (if needed).\n * @method logger\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the Logger operation has completed.\n */\nexport default async function logger (webRTC, command) {\n  const { id, operation, params } = command\n\n  /**\n   * Special-case: If the operation is for the PROXY or CHANNEL Logger, that is\n   *    actually the Remote SDK's own Logger, not the WebRTC stack's Logger.\n   */\n  if (id === 'PROXY' || id === 'CHANNEL') {\n    // Get the logger from the SDK's log manager.\n    const logger = logManager.getLogger(id)\n    return logger[operation](...params)\n  }\n\n  // Get the logger from the WebRTC Stack's log manager.\n  const logger = webRTC.managers.logs.getLogger(id)\n  if (operation === 'getHandler') {\n    // We can't send a function over the channel; return nothing.\n    return undefined\n  } else {\n    // General case: Don't convert the return.\n    return logger[operation](...params)\n  }\n}\n","import { convertTrack } from './index'\n\n/**\n * Media \"converter\".\n * Receives webRTC commands intended for a Media object.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method media\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function media (webRTC, command) {\n  const { id, operation, params } = command\n  const media = webRTC.managers.media.get(id)\n\n  if (!media) {\n    // Media not found.\n    return\n  }\n\n  if (operation === 'getTracks') {\n    return media.getTracks().map(convertTrack)\n  } else {\n    // General case: Don't convert the return.\n    return media[operation](...params)\n  }\n}\n","import { convertMedia } from './index'\n\nexport function stringifyError (err) {\n  // Convert the Error into a format that can be stringified for the channel.\n  //    This will need to be reconstructed on the other side.\n  let error = { name: err.name, message: err.message }\n  if (err.name === 'OverconstrainedError' && err.constraint) {\n    error = { ...error, constraint: err.constraint }\n  }\n  return { error }\n}\n\n/**\n * Media Manager \"converter\".\n * Receives a webRTC command intended for the Media Manager, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method mediaManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function mediaManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.media\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'get') {\n    const media = manager.get(...params)\n    return convertMedia(media)\n  } else if (operation === 'createLocal') {\n    try {\n      const media = await manager.createLocal(...params)\n      return convertMedia(media)\n    } catch (err) {\n      console.debug('Failed to create local media: ', err)\n      return stringifyError(err)\n    }\n  } else if (operation === 'createLocalScreen') {\n    try {\n      const media = await manager.createLocalScreen(...params)\n      return convertMedia(media)\n    } catch (err) {\n      console.debug('Failed to create local screen: ', err)\n      return stringifyError(err)\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Rendering Manager \"converter\".\n * Receives a webRTC command intended for the Renderer, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method rendererManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function rendererManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.renderer\n\n  if (operation === 'renderTrack') {\n    // Get the actual Track object using the serialized-track object.\n    const track = webRTC.managers.track.get(params[0].id)\n\n    if (track) {\n      return manager.renderTrack(track, params[1], params[2])\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Session \"converter\".\n * Receives webRTC commands intended for a Session object.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method session\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function session (webRTC, command) {\n  const { id, operation, params } = command\n  const session = webRTC.managers.sessionManager.get(id)\n\n  if (!session) {\n    // Session not found.\n    return\n  }\n\n  if (operation === 'addTracks') {\n    const trackIds = params[0].map(track => track.id)\n    const tracks = webRTC.managers.track.getTracks(trackIds)\n    const dscpTrackMapping = params.length === 2 ? params[1] : {}\n    return session.addTracks(tracks, dscpTrackMapping)\n  }\n\n  if (operation === 'getStats') {\n    const getStats = session.getStats(...params)\n    return getStats.then(stats => Array.from(stats.entries()))\n  }\n\n  // General case: Don't convert the return.\n  return session[operation](...params)\n}\n","import { convertSession, convertMedia } from './index'\nimport { stringifyError } from './mediaManager'\n\n/**\n * Session Manager \"converter\".\n * Receives webRTC commands intended for the Session Manager.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method sessionManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function sessionManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.sessionManager\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'create') {\n    const session = manager.create(...params)\n    return convertSession(session)\n  } else if (operation === 'get') {\n    const session = manager.get(...params)\n    return convertSession(session)\n  } else if (operation === 'getAll') {\n    const sessions = manager.getAll(...params)\n    return sessions.map(convertSession)\n  } else if (operation === 'getWithMedia') {\n    try {\n      const objs = await manager.getWithMedia(...params)\n      return {\n        type: 'multiple',\n        session: convertSession(objs.session),\n        medias: objs.medias.map(convertMedia)\n      }\n    } catch (err) {\n      console.debug('Failed to get and add media to session: ', err)\n      return stringifyError(err)\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Track \"converter\".\n * Receives webRTC commands intended for a Track object.\n * Handles performing the operation and converting the operation's\n *    return value into a format the Proxy Stack can use.\n * @method track\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function track (webRTC, command) {\n  const { id, operation, params } = command\n  const track = webRTC.managers.track.get(id)\n\n  if (!track) {\n    // Track not found.\n    return\n  }\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'getContainers') {\n    return track.getContainers().map(ele => ele.id)\n  } else {\n    // General case: Don't handle the return.\n    return track[operation](...params)\n  }\n}\n","import { convertTrack } from './index'\n\n/**\n * Track Manager \"converter\".\n * Receives webRTC commands intended for the Track Manager.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method trackManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function trackManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.track\n\n  // Handle different APIs differently, depending on what the return.\n  if (operation === 'get') {\n    const track = manager.get(...params)\n    return convertTrack(track)\n  } else if (operation === 'getTracks') {\n    const tracks = manager.getTracks(...params)\n    return tracks.map(convertTrack)\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * WebRTC Manager \"converter\".\n * Receives a webRTC command intended for the WebRTC Manager, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method webrtcManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function webrtcManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.webrtcManager\n\n  // General case: Don't convert the return.\n  return manager[operation](...params)\n}\n","// Proxy Plugin.\nimport performWebrtc from '../converters'\nimport setupListeners from '../webrtcEvents'\nimport { jsonChannel, replyChannel } from '../channel'\n\n// Other plugins.\nimport { logManager, API_LOG_TAG } from '../../logs'\nimport { getVersion } from '../../common/version'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport initialize from 'kandy-webrtc'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * The Remote SDK's Proxy module provides the connection point for the remote end of the channel. After being provide with a channel, the Remote SDK will use it to receive and reply to messages from the main SDK on the other end.\n *\n * @public\n * @module Proxy\n */\n\n/**\n * The Channel object that needs to be provided to the the Proxy module.\n *\n * @public\n * @module Channel\n * @example\n * // The channel the application uses for communicating with a remote endpoint.\n * const appChannel = ...\n *\n * // The channel the application will provide to the Proxy module for use.\n * const channel = {\n *    send: function (data) {\n *      // Any encoding / wrapping needed for a Proxy message being sent\n *      //    over the channel.\n *      appChannel.sendMessage(data)\n *    },\n *    // The Proxy module will set this function.\n *    receive: undefined\n * }\n * appChannel.on('message', data => {\n *    // Any decoding / unwrapping needed for the received message.\n *    channel.receive(data)\n * })\n *\n * client.proxy.setChannel(channel)\n */\n\n/**\n * Creates the Client side of the Proxy.\n * The Client Proxy handles the remote side of the proxy channel. It contains\n *    the local webRTC stack, and is provided a channel by the application. It\n *    handles receiving SDK messages from the channel and performing any\n *    webRTC operations needed (and replying).\n * @method clientProxy\n * @return {Object} The Client Proxy.\n */\nexport default function clientProxy () {\n  const base = {\n    // Whether the Client Proxy is ready for use.\n    isReady: false,\n    // The local webRTC stack.\n    webRTC: initialize,\n    // The channel to use for proxying operations.\n    channel: undefined\n  }\n\n  /*\n   * The interface for an application to use the Client Proxy.\n   */\n  const api = {}\n\n  /**\n   * Provides the Channel to the Remote SDK.\n   * The SDK will use this channel to communicate with the main SDK.\n   * @public\n   * @memberof Proxy\n   * @method setChannel\n   * @param {Channel} channel See the `Channel` module for information.\n   */\n  api.setChannel = channel => {\n    log.debug(`${API_LOG_TAG}proxy.setChannel`)\n    const remoteVersion = getVersion()\n\n    base.channel = replyChannel(jsonChannel(channel))\n    base.channel.receive = (id, data) => {\n      if (!base.isReady && data.initialize) {\n        log.info('Initializing local webRTC stack.', data.config)\n        log.info(`SDK version received from remote end: ${data.version}.`)\n\n        if (data.version !== remoteVersion) {\n          // Make sure the two SDKs have the same version.\n          log.error('SDK versions do not match; initialization failed.')\n          const response = { initialized: false, remoteVersion }\n          base.channel.reply(id, response)\n          return\n        }\n\n        base.webRTC = base.webRTC(data.config)\n\n        // Set the initial log levels if they were provided.\n        if (data.logLevels) {\n          const { WEBRTC, PROXY, CHANNEL } = data.logLevels\n          // Set the log level in the WebRTC stack's Log Manager.\n          base.webRTC.managers.logs.setLevel(WEBRTC)\n          // Also set the log level in the Remote SDK's PROXY logger.\n          log.setLevel(PROXY)\n          // Also also set the log level in the Remote SDK's CHANNEL logger.\n          logManager.getLogger('CHANNEL').setLevel(CHANNEL)\n        }\n\n        base.isReady = true\n\n        /*\n         * Setup listeners for events from the Webrtc-stack. If the events are\n         *    actions (and events), we need to send them across the channel to\n         *    be handled by the SDK. The function passed-in is the \"remote side\"\n         *    of the `contextHelper` for how the SDK should handle Webrtc-stack\n         *    events. The \"local side\" of this handler is defined in the\n         *    WebrtcProxy operations.\n         */\n        setupListeners(base.webRTC, (action, event) => {\n          // When an event is received (and has already been parsed into an\n          //    action), send it over the channel.\n          if (typeof action === 'object' && action.type) {\n            // Make sure that the action is an actual action, though.\n            log.info(`Sending event over channel: ${action.type}.`)\n            const messageId = uuidV4().substring(0, 8)\n            base.channel.send(messageId, { action, event })\n          } else {\n            log.debug('Proxy event listeners received unexpected format; ignoring.', action)\n          }\n        })\n\n        // When responding to the initialize command, include browser details.\n        const browser = base.webRTC.getBrowserDetails()\n        log.info(`Browser details: ${browser.browser}, version ${browser.version}.`)\n\n        if (api.onInit) {\n          api.onInit(base.webRTC)\n        }\n        base.channel.reply(id, { initialized: true, browser, remoteVersion })\n        log.info('Finished initializing local webRTC stack.')\n      } else if (!base.isReady) {\n        // If we received a (non-initialize) message, but haven't yet initialized\n        //    the local WebRTC stack, reply that this side is not ready yet.\n        log.info('Client not ready! Still needs to be initialized.')\n        base.channel.reply(id, { initialized: false })\n      } else if (isWebrtcCommand(data)) {\n        log.info(`Received ${data.type} ${data.operation} operation, performing...`)\n        // WebRTC operations may be async. Need to ensure that\n        //    they finish before replying to the command.\n        performWebrtc(base.webRTC, data).then(result => {\n          log.info(`Finished ${data.type} ${data.operation} operation, replying with result.`)\n          base.channel.reply(id, result)\n        })\n      } else {\n        log.error('Unknown data format; ignoring.', data)\n        // TODO: Reply with a (better?) error.\n        const response = { error: 'Unknown format.', data, remoteVersion }\n        base.channel.reply(id, response)\n      }\n    }\n  }\n\n  /**\n   * Retrieves the current channel being used.\n   * @method getChannel\n   * @return {Channel}\n   */\n  api.getChannel = () => {\n    log.debug(`${API_LOG_TAG}proxy.getChannel`)\n    return base.channel\n  }\n\n  /**\n   * Sends data, over the channel, to the remote side.\n   * @method send\n   * @param {Any} args Depends on channel used.\n   */\n  api.send = (...args) => {\n    log.debug(`${API_LOG_TAG}proxy.send`)\n\n    if (base.channel && base.channel.send) {\n      base.channel.send(...args)\n    } else {\n      log.error('Cannot send without a channel to use.')\n    }\n  }\n\n  /**\n   * Listener for the webRTC stack is initialized.\n   * @method onInit\n   * @param {Object} webRTC The initialized webRTC stack.\n   */\n  api.onInit = undefined\n\n  return api\n}\n\n/**\n * Ensures that an object represents a webRTC command.\n * @method isWebrtcCommand\n * @param {Object} data\n * @return {boolean}\n */\nfunction isWebrtcCommand (data) {\n  return data.type && data.id && data.operation\n}\n","import eventEmitter from '../../events/eventEmitter'\n\n/**\n * Sets up an Event Emitter for the Remote SDK.\n * @method setupEvents\n * @return {Emitter}\n */\nexport default function setupEvents () {\n  const emitter = eventEmitter()\n\n  /**\n   * Sets up listeners for webRTC events.\n   * @method setWebrtcListeners\n   * @param  {Object} webRTC The initialized webRTC stack.\n   */\n  function setWebrtcListeners (webRTC) {\n    const mediaMan = webRTC.managers.media\n    const deviceMan = webRTC.managers.devices\n\n    /**\n     * Media devices available for use have changed.\n     * Use the {@link media.getDevices} API to retrieve the lists of devices.\n     * @public\n     * @memberof media\n     * @event devices:change\n     * @param {Object} params\n     * @param {Array<string>}  microphone The list of available audio input devices.\n     * @param {Array<string>}  camera     The list of available video input devices.\n     * @param {Array<string>}  speaker    The list of available audio output devices.\n     * @example\n     * // Listen for changes to available media devices.\n     * remoteClient.on('devices:change', function () {\n     *    // Retrieve the latest media device lists.\n     *    const devices = remoteClient.media.getDevices()\n     * })\n     */\n    deviceMan.on('change', () => {\n      deviceMan.checkDevices().then(devices => {\n        emitter.emit('devices:change', devices)\n      })\n    })\n\n    /**\n     * A new Media object is available.\n     * It may represent either the local or remote media for a call.\n     * @public\n     * @memberof media\n     * @event media:new\n     * @param {Object} params\n     * @param {string} params.mediaId The ID of the new Media object.\n     */\n    mediaMan.on('media:new', mediaId => {\n      const media = mediaMan.get(mediaId)\n\n      /**\n       * A new Track object is available.\n       * The Track will be within a Media object that is already available.\n       * @public\n       * @memberof media\n       * @event track:new\n       * @param {Object} params\n       * @param {string} params.trackId The ID of the new Track object.\n       * @param {string} params.mediaId The ID of the Media object the Track belongs to.\n       */\n      media.on('track:new', ({ mediaId, trackId }) => {\n        emitter.emit('track:new', { mediaId, trackId })\n      })\n\n      emitter.emit('media:new', mediaId)\n    })\n\n    /**\n     * An existing Media object has stopped being available.\n     * @public\n     * @memberof media\n     * @event media:removed\n     * @param {Object} params\n     * @param {string} params.mediaId The ID of the removed Media object.\n     */\n    mediaMan.on('media:removed', mediaId => {\n      emitter.emit('media:removed', { mediaId })\n    })\n  }\n\n  return {\n    ...emitter,\n    setWebrtcListeners\n  }\n}\n","import clientProxy from './clientProxy'\nimport * as mediaApis from './media'\nimport setupEvents from './events'\n\n// Other plugins.\nimport { logManager } from '../../logs'\nimport { getVersion } from '../../common/version'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * The Remote SDK creation factory. Create an instance of the Remote SDK by calling this factory with the desired configurations.\n * @public\n * @method create\n * @example\n * // Instantiate the Remote SDK.\n * const remoteClient = remoteKandy.create();\n *\n * // Use the SDK's APIs.\n * remoteClient.on( ... );\n */\n\n/**\n * Entrypoint for the \"Remote SDK\".\n * Is equivalent to an `webrtc.remote.js` file.\n * @method remoteClient\n * @return {Object} The remote SDK's API.\n */\nfunction remoteClient () {\n  // Log the SDK's version (templated by webpack) on initialization.\n  const version = getVersion()\n  log.info(`Remote SDK version: ${version}`)\n\n  // Setup the Client Proxy.\n  const proxy = clientProxy()\n  // The webRTC stack ...when initialized.\n  let webRTC\n  // Event emitter.\n  const emitter = setupEvents()\n\n  // When Client Proxy is initialized, finish setting up\n  //    for webRTC events and notify the application.\n  proxy.onInit = function (stack) {\n    webRTC = stack\n    emitter.setWebrtcListeners(stack)\n    // Emit the stack for backwards compatibility until\n    //    the example is updated to use the APIs.\n    emitter.emit('initialize', stack)\n  }\n\n  // Exclude onInit from the public Proxy API.\n  const { onInit, ...proxyApi } = proxy\n\n  /**\n   * Wrapper function to ensure that Media APIs aren't used before the webRTC\n   *    has been initialized.\n   * @method hasDefinedStack\n   * @param  {Function} api The API function to wrap.\n   * @return {Function} The wrapped API function.\n   */\n  function hasDefinedStack (api) {\n    return function stackCheck (...args) {\n      if (webRTC) {\n        return api(webRTC, ...args)\n      } else {\n        log.info('Remote Proxy not yet initialized; cannot use media APIs yet.')\n      }\n    }\n  }\n\n  const mediaApi = {}\n  // Wrap each Media API before adding it to the public API.\n  for (const name in mediaApis) {\n    mediaApi[name] = hasDefinedStack(mediaApis[name])\n  }\n\n  /**\n   * The Remote SDK is comprised of three APIs:\n   *   - proxy: Interface to the Client Proxy (the channel).\n   *   - media: API interface to the webRTC stack.\n   *   - events: Event interface to the webRTC stack.\n   */\n  return {\n    proxy: proxyApi,\n    media: mediaApi,\n    on: emitter.on,\n    off: emitter.off,\n    getCapabilities: () => [],\n    getVersion: () => version\n  }\n}\n\n// Alias 'create' to be equal to the root function\nremoteClient.create = remoteClient\n\n// Export this way as a work-around, so it can be used as `<export>();`.\n// See: https://github.com/webpack/webpack/issues/706\nmodule.exports = remoteClient\n","/**\n * The Remote SDK's public Media APIs.\n * As similar as possible to the webRTC plugin's Media APIs.\n */\n\n/**\n * The media features are used to interact with media that the SDK is\n * currently using.\n *\n * Media functions are all part of the 'media' namespace.\n *\n * @public\n * @module Media\n */\n\n/**\n * The state representation of a Media object.\n * Media is a collection of Track objects.\n *\n * @public\n * @module MediaObject\n * @property {string} id The ID of the Media object.\n * @property {boolean} local Indicator on whether this media is local or remote.\n * @property {Array<TrackObject>} tracks A list of Track objects that are contained in this Media object.\n */\n\n/**\n * A Track is a stream of audio or video media from a single source.\n * Tracks can be retrieved using the Media module's `getTrackById` API.\n *\n * @public\n * @module TrackObject\n * @property {Array<string>} containers The list of CSS selectors that were used to render this Track.\n * @property {boolean} disabled Indicator of whether this Track is disabled or not. If disabled, it cannot be re-enabled.\n * @property {string} id The ID of the Track.\n * @property {string} kind The kind of Track this is (audio, video).\n * @property {string} label The label of the device this Track uses.\n * @property {boolean} muted Indicator on whether this Track is muted or not.\n * @property {string} state The state of this Track. Can be 'live' or 'ended'.\n * @property {string} streamId The ID of the Media object that includes this Track.\n */\n\n// Other plugins.\nimport { logManager, API_LOG_TAG } from '../../logs'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * Retrieves the available media devices for use.\n * @public\n * @memberof media\n * @method getDevices\n * @return {Object} The lists of camera, microphone, and speaker devices.\n */\nexport function getDevices (webRTC) {\n  log.debug(`${API_LOG_TAG}media.getDevices`)\n\n  const manager = webRTC.managers.devices\n  return manager.get()\n}\n\n/**\n * Retrieves a list of all existing Media object's IDs.\n * Use the `getMediaById` API to retrieve a specific Media object.\n * @public\n * @memberof media\n * @method getMedia\n * @return {Array} List of Media IDs.\n */\nexport function getMedia (webRTC) {\n  log.debug(`${API_LOG_TAG}media.getMedia`)\n\n  const manager = webRTC.managers.media\n  return manager.getAll()\n}\n\n/**\n * Retrieves a media object from state with a specific media ID.\n * @public\n * @memberof media\n * @method getMediaById\n * @param  {string} mediaId The ID of the media to retrieve.\n * @return {MediaObject} A media object.\n */\nexport function getMediaById (webRTC, mediaId) {\n  log.debug(`${API_LOG_TAG}media.getMediaById: ${mediaId}`)\n\n  const manager = webRTC.managers.media\n  return manager.get(mediaId).getState()\n}\n\n/**\n * Retrieves a Track object from state with a specific ID.\n * @public\n * @memberof media\n * @method getTrackById\n * @param  {string} trackId The ID of the track to retrieve.\n * @return {TrackObject} A track object.\n */\nexport function getTrackById (webRTC, trackId) {\n  log.debug(`${API_LOG_TAG}media.getTrackById: ${trackId}`)\n\n  const manager = webRTC.managers.track\n  return manager.get(trackId)\n}\n\n/**\n * Render media Tracks in a container.\n * The container is specified by providing a CSS selector string that corresponds to the HTMLElement to act as the container.\n * @public\n * @memberof media\n * @method renderTracks\n * @param  {Array}  tracks List of Track IDs to be rendered.\n * @param  {string} cssSelector A CSS selector string that uniquely identifies an element. Ensure that special characters are properly escaped.\n * @example\n * // When a new track is available, render it in specific container.\n * remoteClient.on('track:new', function (params) {\n *     // Render the new track.\n *     remoteClient.media.renderTracks([ params.trackId ], container)\n * })\n */\nexport function renderTracks (webRTC, trackIds, cssSelector) {\n  log.debug(`${API_LOG_TAG}media.renderTracks: ${trackIds}, ${cssSelector}`)\n\n  const trackManager = webRTC.managers.track\n  const renderer = webRTC.managers.renderer\n  const tracks = trackIds.map(trackManager.get)\n\n  const container = document.querySelector(cssSelector)\n  if (!container) {\n    log.debug('HTML container not found.')\n    return false\n  }\n\n  tracks.forEach(track => {\n    if (track) {\n      renderer.renderTrack(track, container)\n    }\n  })\n}\n\n/**\n * Remove media Tracks from a container.\n * The container is specified by providing a CSS selector string that corresponds to the HTMLElement to act as the container.\n * @public\n * @memberof media\n * @method removeTracks\n * @param  {Array}  tracks List of Track IDs to stop being rendered.\n * @param  {string} cssSelector A CSS selector string that uniquely identifies an element. Ensure that special characters are properly escaped.\n */\nexport function removeTracks (webRTC, trackIds, cssSelector) {\n  log.debug(`${API_LOG_TAG}media.removeTracks: ${trackIds}, ${cssSelector}`)\n\n  const renderer = webRTC.managers.renderer\n\n  const container = document.querySelector(cssSelector)\n  if (!container) {\n    log.debug('HTML container not found.')\n    return false\n  }\n\n  trackIds.forEach(id => {\n    renderer.unrenderTrack(id, container)\n  })\n}\n","// Webrtc plugin.\nimport watchMediaManagerEvents from '../webrtc/channels/mediaManager'\n\nimport watchSessionManagerEvents from '../webrtc/channels/sessionManager'\n\nimport watchTrackManagerEvents from '../webrtc/channels/trackManager'\n\nimport watchDeviceEvents from '../webrtc/channels/devices'\n\n/**\n * Function that connects the Webrtc-stack's events to the ProxyStack.\n *\n * Sets up all of the \"manager channels\" to listen for Webrtc-stack events\n *   and passes in a \"handler\" for what the manager channels should do with\n *   actions/events generated from the Webrtc-stack events.\n *\n * This function is the Proxy-version of the Webrtc plugin's `watchManagers`\n *    function (/webrtc/channels/index.js).\n * @method setupListeners\n * @param  {Object} webRTC The webRTC stack.\n * @param  {Function} handler Function that receives the parsed actions and events.\n */\nexport default function setupListeners (webRTC, handler) {\n  // Setup listeners for each Manager and pass the action and event handler.\n  watchMediaManagerEvents(webRTC.managers.media, handler)\n  watchSessionManagerEvents(webRTC.managers.sessionManager, handler)\n  watchTrackManagerEvents(webRTC.managers.track, handler)\n  watchDeviceEvents(webRTC.managers.devices, handler)\n}\n","/**\n * Log levels supported by Loggers.\n * When a level is set, all logs of that level and higher will be logged.\n * @type {Object}\n */\nexport const logLevels = {\n  TRACE: 'TRACE',\n  DEBUG: 'DEBUG',\n  INFO: 'INFO',\n  WARN: 'WARN',\n  ERROR: 'ERROR',\n  SILENT: 'SILENT'\n}\n\n/**\n * Numeric values for each log level.\n * When a level is set, all logs of that level and higher will be logged.\n * @type {Object}\n */\nexport const levelValues = {\n  TRACE: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARN: 3,\n  ERROR: 4,\n  SILENT: 5\n}\n\n/**\n * Supported Log methods and their set log level; `<logMethod>: <logLevel>`\n * Used to construct the logging methods on a Logger.\n * @type {Object}\n */\nexport const logMethods = {\n  // Standard methods.\n  trace: logLevels.TRACE,\n  debug: logLevels.DEBUG,\n  info: logLevels.INFO,\n  warn: logLevels.WARN,\n  error: logLevels.ERROR,\n  // Extra console methods.\n  log: logLevels.DEBUG,\n  group: logLevels.DEBUG,\n  groupEnd: logLevels.DEBUG,\n  groupCollapsed: logLevels.DEBUG\n}\n\n/**\n * The log level for all timer methods.\n * @type {string}\n */\nexport const timeLevel = logLevels.DEBUG\n","import createManager from './logManager'\nimport defaultLogFormatter from './logFormatter'\nimport { logLevels as levelImport } from './constants'\n\n/**\n * Package main.\n */\n\n// Main export is the manager's factory function.\nexport default createManager\n\n// Named export for the log level constants the package uses / expects.\nexport const logLevels = levelImport\n\n// Default log formatter used by the defaultLogHandler\nexport const logFormatter = defaultLogFormatter\n","/**\n * Default function for the SDK to use for log formatting.\n *    Uses entry information to form a prefix.\n * @method defaultLogFormatter\n * @param  {LogEntry} entry\n */\nexport default function defaultLogFormatter (entry) {\n  // Compile the meta info of the log for a prefix.\n  const { timestamp, level, target } = entry\n\n  // Find a short name to reference which Logger this log is from.\n  //    This is mostly to cut down the ID if it's too long for a human to read.\n  const shortId = target.id && target.id.length > 8 ? target.id.substring(0, 6) : target.id\n  const shortName = shortId ? `${target.type}/${shortId}` : target.type\n\n  const logInfo = `${timestamp} - ${shortName} - ${level}`\n\n  // Assume that the first message parameter is a string.\n  const log = entry.messages[0]\n\n  return `${logInfo} - ${log}`\n}\n","import defaultLogFormatter from './logFormatter'\n/**\n * Default function for the SDK to use for logging.\n *    Uses entry information to form a prefix, then logs to console.\n * @method defaultLogHandler\n * @param  {LogEntry} entry\n */\nexport default function defaultLogHandler (entry) {\n  let { method } = entry\n\n  // For the time-related methods, don't actually use the console methods.\n  //    The Logger already did the timing, so simply log out the info.\n  if (method.includes('time')) {\n    method = 'debug'\n  }\n\n  const formattedString = defaultLogFormatter(entry)\n  const tail = entry.messages.slice(1)\n  console[method](formattedString, ...tail)\n}\n","import createLogger from './logger'\nimport defaultLogHandler from './logHandler'\nimport { logLevels } from './constants'\nimport { checkLevel, checkHandler } from './validation'\n\nconst defaultType = Symbol('Default')\n\n/**\n * Creates a Log Manager.\n * @method createManager\n * @param  {Object}     [options={}]\n * @param  {Function}   [options.handler]      The default log handler used for\n *    Loggers that don't have a handler set.\n * @param  {string}     [options.level='INFO'] The default log level used for\n *    Loggers that don't have a level set.\n * @return {LogManager}\n */\nexport default function createManager (options = {}) {\n  const loggers = {}\n\n  /**\n   * Mapping between a Logger `type` and their default settings. Created Loggers\n   *    will use their `type` settings if they exist. Otherwise the \"global\"\n   *    options provided during Manager creation.\n   * @type {Object}\n   */\n  const settings = {\n    [defaultType]: {\n      handler: options.handler ? checkHandler(options.handler) : defaultLogHandler,\n      level: options.level ? checkLevel(options.level) : logLevels.INFO\n    }\n  }\n\n  /**\n   * Gets a specific logger. If the logger doesn't exist, a new one will be\n   *    created.\n   * @method getLogger\n   * @param  {string} type Human-readable type/name for the logger.\n   * @param  {string} [id] A unique identifier for the logger.\n   * @return {Logger}\n   */\n  function getLogger (type, id = '') {\n    id = String(id)\n\n    // Combine the name and ID to create the \"full\" logger name.\n    const loggerName = id ? `${type}-${id}` : type\n\n    let logger = loggers[loggerName]\n    // If the logger does not exist, create a new one.\n    if (!logger) {\n      // This logger logs items from a specific \"target\".\n      const target = { type, id, name: loggerName }\n      const options = {\n        level: getLevel(type),\n        handler: getHandler(type)\n      }\n\n      logger = createLogger(target, options)\n\n      // Save the new logger to be returned by future getter calls.\n      loggers[loggerName] = logger\n    }\n\n    return logger\n  }\n\n  /**\n   * Gets all created loggers, or Loggers of a specific type.\n   * @method getLoggers\n   * @param {string} [type] The type of Loggers to retrieve.\n   * @return {Array<Logger>} List of Loggers.\n   */\n  function getLoggers (type) {\n    if (type) {\n      return Object.values(loggers).filter(logger => logger.type === type)\n    } else {\n      return Object.values(loggers)\n    }\n  }\n\n  /**\n   * Sets the default `level` to be used when creating Loggers.\n   *\n   * Can set the level \"globally\" or per `type`, depending if `type` is provided\n   *    or not. When set for a specific type, only Loggers of that type will use\n   *    the set level. When set \"globally\", all Loggers without a set type will\n   *    use the level as a default.\n   *\n   * Setting the level only affects Loggers created after that point.\n   * @method setLevel\n   * @param  {string} type  The type of Logger to set the option for.\n   * @param  {string} level The logLevel to be set.\n   * @throws Throws an error if level is not a valid log level.\n   * @example\n   * const manager = createManager({ level: logLevels.WARN })\n   *\n   * // Setting the level for a type sets it for created Loggers of that type.\n   * manager.setLevel('Call', logLevels.DEBUG)\n   * const logger1 = manager.getLogger('Call')\n   * // logger1.getLevel() === logLevels.DEBUG\n   *\n   * // Loggers created of types without a set level uses the Manager's level.\n   * const logger2 = manager.getLogger('Auth')\n   * // logger2.getLevel() === logLevels.WARN\n   *\n   * // Setting the level without a type changes the Manager's level.\n   * manager.setLevel(logLevels.INFO)\n   * const logger3 = manager.getLogger('Messaging')\n   * // logger3.getLevel() === logLevels.INFO\n   *\n   * // Setting the level for a type does not affect previously created Loggers.\n   * manager.setLevel('Auth', logLevels.INFO)\n   * // logger2.getLevel() !== logLevels.INFO\n   * // logger2.getLevel() === logLevels.WARN\n   */\n  function setLevel (type, level) {\n    // Signature can be: `setLevel(type, level)` or `setLevel(level)`.\n    // Normalize the parameters to always be consistent.\n    if (level === undefined) {\n      level = type\n      type = defaultType\n    }\n\n    // Ensure `settings[type]` is an object.\n    if (!settings[type]) {\n      settings[type] = {}\n    }\n\n    // Set the level.\n    settings[type].level = checkLevel(level)\n  }\n\n  /**\n   * Gets the default `level` that is used when creating Loggers.\n   *\n   * Can get the level used \"globally\" or per `type`, depending if `type` is\n   *    provided or not.\n   *\n   * See the `setLevel` API for setting these values.\n   * See the Logger APIs for getting this value for an already created Logger.\n   * @method getLevel\n   * @param  {string} [type] A type of Logger.\n   * @return {LogLevel}\n   * @example\n   * const manager = createManager({ level: logLevels.WARN })\n   *\n   * // If a type's level has not been set, gets the \"global\" level.\n   * // manager.getLevel('Call') === logLevels.WARN\n   *\n   * // If a type's level has been set, gets its level.\n   * manager.setLevel('Auth', logLevels.DEBUG)\n   * // manager.getLevel('Auth') === logLevels.DEBUG\n   *\n   * // Can get the \"global\" level.\n   * manager.setLevel(logLevels.INFO)\n   * // manager.getLevel() === logLevels.INFO\n   */\n  function getLevel (type) {\n    // Signature can be: `getLevel(type)` or `getLevel()`.\n    // Normalize the parameters to always be consistent.\n    type = type || defaultType\n\n    return (settings[type] && settings[type].level) || settings[defaultType].level\n  }\n\n  /**\n   * Sets the default `handler` to be used when creating Loggers.\n   *\n   * Can set the handler \"globally\" or per `type`, depending if `type` is\n   *    provided or not. When set for a specific type, only Loggers of that type\n   *    will use the set handler. When set \"globally\", all Loggers without a set\n   *    type will use the handler as a default.\n   *\n   * Setting the handler only affects Loggers created after that point.\n   * @method setHandler\n   * @param  {string}     type    The type of Logger to set the option for.\n   * @param  {LogHandler} handler The log handler to be set.\n   * @throws Throws an error if handler is not a function.\n   * @example\n   * const manager = createManager({ handler: managerHandler })\n   *\n   * // Setting the handler for a type sets it for created Loggers of that type.\n   * manager.setHandler('Call', callHandler)\n   * const logger1 = manager.getLogger('Call')\n   * // logger1.getHandler() === callHandler\n   *\n   * // Loggers created of types without a set handler uses the Manager's handler.\n   * const logger2 = manager.getLogger('Auth')\n   * // logger2.getHandler() === managerHandler\n   *\n   * // Setting the handler without a type changes the Manager's handler.\n   * manager.setHandler(newHandler)\n   * const logger3 = manager.getLogger('Messaging')\n   * // logger3.getHandler() === newHandler\n   *\n   * // Setting the handler for a type does not affect previously created Loggers.\n   * manager.setHandler('Auth', authHandler)\n   * // logger2.getHandler() !== authHandler\n   * // logger2.getHandler() === managerHandler\n   */\n  function setHandler (type, handler) {\n    // Signature can be: `setHandler(type, handler)` or `setHandler(handler)`.\n    // Normalize the parameters to always be consistent.\n    if (typeof type === 'function' && handler === undefined) {\n      handler = type\n      type = defaultType\n    }\n\n    // Ensure `settings[type]` is an object.\n    if (!settings[type]) {\n      settings[type] = {}\n    }\n\n    // Set the handler.\n    settings[type].handler = checkHandler(handler)\n  }\n\n  /**\n   * Gets the default `handler` that is used when creating Loggers.\n   *\n   * Can get the handler used \"globally\" or per `type`, depending if `type` is\n   *    provided or not.\n   *\n   * See the `setHandler` API for setting these values.\n   * See the Logger APIs for getting this value for an already created Logger.\n   * @method getHandler\n   * @param  {string} [type] A type of Logger.\n   * @return {LogHandler}\n   * @example\n   * const manager = createManager({ handler: managerHandler })\n   *\n   * // If a type's handler has not been set, gets the \"global\" handler.\n   * // manager.getHandler('Call') === managerHandler\n   *\n   * // If a type's handler has been set, gets its handler.\n   * manager.setHandler('Auth', authHandler)\n   * // manager.getHandler('Auth') === authHandler\n   *\n   * // Can get the \"global\" handler.\n   * manager.setHandler(newHandler)\n   * // manager.getHandler() === newHandler\n   */\n  function getHandler (type) {\n    // Signature can be: `getHandler(type)` or `getHandler()`.\n    // Normalize the parameters to always be consistent.\n    type = type || defaultType\n\n    return (settings[type] && settings[type].handler) || settings[defaultType].handler\n  }\n\n  return {\n    getLogger,\n    getLoggers,\n    setLevel,\n    getLevel,\n    setHandler,\n    getHandler\n  }\n}\n","import { levelValues, logMethods, logLevels, timeLevel } from './constants'\nimport { checkLevel, checkHandler } from './validation'\nimport createTimer from './timer'\n\n/**\n * Creates a Logger.\n * @method createLogger\n * @param  {Object}   target          The subject of the logs from this logger.\n * @param  {Object}   options\n * @param  {Function} options.handler The function to receive/handle log entries.\n * @param  {string}   options.level   The log level to be set.\n * @return {Logger}\n */\nexport default function createLogger (target, options = {}) {\n  // Validate provided options. Do not let invalid options be set.\n  const level = checkLevel(options.level)\n  const handler = checkHandler(options.handler)\n\n  /**\n   * Logger data.\n   * @type {Object}\n   * @property {Object}   target  Metadata about the \"target\" of the Logger.\n   * @property {LogLevel} level   The currently set log level.\n   * @property {Function} handler The currently set Log Handler.\n   */\n  const logger = {\n    target,\n    level,\n    handler\n  }\n\n  /**\n   * Currying function to dynamically create the Logger's logging methods.\n   * @method logFunc\n   * @param  {string} method   Name of the logger method to create.\n   * @param  {string} logLevel The log level for the method.\n   * @param  {Object} [injectables] Other values to include in the LogEntry.\n   * @return {Function} A log method.\n   */\n  function logFunc (method, logLevel, injectables) {\n    /*\n     * Return the function that will be used as `log.<method>`.\n     */\n    return function (...args) {\n      // Compare the logged level and the configured level.\n      const shouldLog = levelValues[logLevel] >= levelValues[logger.level]\n      // If this entry shouldn't be logged, don't do anything.\n      if (!shouldLog) {\n        return\n      }\n\n      // Create the Log Entry to be handed off to the handler.\n      const entry = {\n        // Extra data to be added to the LogEntry.\n        ...injectables,\n        // Meta-info about the log.\n        method,\n        timestamp: Date.now(),\n        level: logLevel,\n        target: logger.target,\n        // The actual arguments logged.\n        messages: [...args]\n      }\n\n      logger.handler(entry)\n    }\n  }\n\n  /**\n   * Sets the Logger's current log level.\n   * @method setLevel\n   * @param  {string} level The logLevel to be set.\n   * @throws Throws an error if level is not a valid log level.\n   * @example\n   * logger.setLevel(logLevels.INFO)\n   * logger.info('This will be logged.')\n   * logger.debug('This will not be logged.')\n   */\n  function setLevel (level) {\n    logger.level = checkLevel(level)\n  }\n\n  /**\n   * Gets the Logger's current log level.\n   * @method getLevel\n   * @return {string} The log level.\n   * @example\n   * logger.setLevel(logLevels.DEBUG)\n   * const level = logger.getLevel()\n   * // level === logLevels.DEBUG\n   */\n  function getLevel () {\n    return logger.level\n  }\n\n  /**\n   * Sets the Logger's current log handler.\n   * @method setHandler\n   * @param  {Function} handler The log handler to be set.\n   * @throws Throws an error if handler is not a function.\n   * @example\n   * const logger = manager.getLogger('Test', '123')\n   * logger.setHandler((logEntry) => {\n   *    console.log(logEntry.target.name, ...logEntry.messages)\n   * })\n   * logger.info('I am a logged message.')\n   * // logs: \"Test-123 I am a logged message.\"\n   */\n  function setHandler (handler) {\n    logger.handler = checkHandler(handler)\n  }\n\n  /**\n   * Gets the Logger's current log handler.\n   * @method getHandler\n   * @return {Function} The log handler.\n   * @example\n   * logger.setHandler(customHandler)\n   * const handler = logger.getHandler()\n   * // handler === customHandler.DEBUG\n   */\n  function getHandler () {\n    return logger.handler\n  }\n\n  const api = {\n    getHandler,\n    setHandler,\n    getLevel,\n    setLevel,\n    get type () {\n      return logger.target.type\n    },\n    get id () {\n      return logger.target.id\n    },\n    get name () {\n      return logger.target.name\n    }\n  }\n\n  // For all supported log methods, create a function on the Logger for it.\n  for (const method in logMethods) {\n    api[method] = logFunc(method, logMethods[method])\n  }\n\n  // Create log functions for the Timer to use.\n  // Follows the same style as above logMethods, but curries it once more\n  //    to align the timer parameters as needed.\n  const timeLog = (message, data) => logFunc(data.event, timeLevel, { timer: data })(message)\n  const timeWarn = (message, data) => logFunc('warn', logLevels.WARN, { timer: data })(message)\n  const timer = createTimer(timeLog, timeWarn)\n\n  return {\n    ...api,\n    ...timer\n  }\n}\n","import { checkHandler } from './validation'\n\n/**\n * Timer factory function.\n * The Timer imitates the Console's Time APIs.\n * Ref: https://developer.mozilla.org/en-US/docs/Web/API/console#Timers\n * @method createTimer\n * @param  {Function} log  Function for logging timer information.\n * @param  {Function} warn Function for warning about timer misuse.\n * @return {Timer}\n */\nexport default function createTimer (log, warn) {\n  // Validate that params are a function.\n  //    Uses functions as `log(message, data)`.\n  checkHandler(log)\n  checkHandler(warn)\n\n  /**\n   * Mapping of on-going timers; <name>: <start>.\n   * @type {Object}\n   */\n  const timers = {}\n\n  /**\n   * Starts a timer. Logs a message to indicate it was started.\n   * Logs a warning if the timer has already been started.\n   * @method timeStart\n   * @param  {string} name Name to identify the timer.\n   */\n  function time (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'time',\n      name\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      data.start = timers[name]\n      warn(`Timer ${name} already started.`, data)\n    } else {\n      // Set the new timer.\n      timers[name] = now\n\n      data.start = now\n      log(`Timer ${name} started.`, data)\n    }\n  }\n\n  /**\n   * Ends a timer. Logs a message with the elapsed time.\n   * @method timeEnd\n   * @param  {string} name Name to identify the timer.\n   */\n  function timeEnd (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'timeEnd',\n      name,\n      start: timers[name]\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      const start = timers[name]\n      // End the timer.\n      delete timers[name]\n\n      const elapsed = now - start\n      data.end = now\n      data.elapsed = elapsed\n\n      log(`Timer ${name} ended, taking ${elapsed}ms.`, data)\n    } else {\n      warn(`Timer ${name} has not been started.`, data)\n    }\n  }\n\n  /**\n   * Adds a split to the timer. Logs a message with the elapsed time so far.\n   * Logs a warning if the timer has not been started.\n   * @method timeSplit\n   * @param  {string} name Name to identify the timer.\n   */\n  function timeLog (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'timeLog',\n      name,\n      start: timers[name]\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      const elapsed = now - timers[name]\n      data.split = now\n      data.elapsed = elapsed\n\n      log(`Timer ${name} split, at ${elapsed}ms so far.`, data)\n    } else {\n      warn(`Timer ${name} has not been started.`, data)\n    }\n  }\n\n  return {\n    time,\n    timeEnd,\n    timeLog\n  }\n}\n","import { logLevels } from './constants'\n\n/**\n * Helper function to validate a \"log level\" string before its used in the library.\n * @method checkLevel\n * @param  {string} level A log level provided by a user.\n * @return {string}       The log level as expected by the library.\n * @throws Will throw an error if the `level` parameter is invalid.\n */\nexport function checkLevel (level) {\n  // Ensure: is defined and is a string.\n  const upperLevel = level && level.toUpperCase && level.toUpperCase()\n\n  // Ensure: is a supported log level.\n  if (upperLevel && logLevels[upperLevel]) {\n    return logLevels[upperLevel]\n  } else {\n    throw new Error('Provided level is not a valid log level.')\n  }\n}\n\n/**\n * Helper function to validate a \"log handler\".\n * Basically just \"is function\" that throws an error if false.\n * @method checkHandler\n * @param  {Function} handler A log handler function, ideally.\n * @return {Function}         The same log handler function, ideally.\n * @throws Will throw an error if the `handler` provided is not a function.\n */\nexport function checkHandler (handler) {\n  if (handler && typeof handler === 'function') {\n    return handler\n  } else {\n    throw new Error('Provided log handler is not a function.')\n  }\n}\n","import { PEER } from '../constants'\n\n/**\n * Configuration object for a Peer.\n * @typedef {Object} PeerConfig\n * @property {Object} [rtcConfig] Configuration for the native RTCPeerConnection.\n * @property {String} [trickleIceMode=FULL] The initial mode the Peer will use when receiving ICE candidates.\n * @property {Boolean} [removeBundling=false] Remove the a=group attribute to stop media bundling\n * @property {Function} [halfTrickleThreshold] Function that determines whether the threshold has been met when in HALF trickle mode.\n */\nexport default {\n  trickleIceMode: PEER.TRICKLE_ICE.FULL,\n  removeBundling: false,\n  halfTrickleThreshold: isPassedHalfTrickleThreshold\n}\n\n/**\n * Default function for determining whether the HALF trickle ICE threshold has\n *    been met, to start trickling ICE candidates.\n * Defines the threshold as one relay candidate being gathered.\n * @method isPassedHalfTrickleThreshold\n * @param  {String}             sdp          The local SDP of the Peer.\n * @param  {RTCIceCandidate}    iceCandidate The native candidate object that triggered this check.\n * @param  {Number}             time         The amount of time (ms) since ICE collection began.\n * @return {Boolean} Whether the \"half trickle\" threshold has been passed.\n */\nfunction isPassedHalfTrickleThreshold ({ sdp, iceCandidate, time }) {\n  const passedHalf = iceCandidate.candidate.indexOf('relay') !== -1\n  return passedHalf\n}\n","import { PEER } from '../../constants'\n\n/**\n * Event wrapper for `icecandidate` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onicecandidate\n * @method onicecandidate\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onicecandidate (listener) {\n  const { nativePeer, proxyPeer, config, iceTimer, emitter, iceCandidates, log } = this\n\n  /**\n   * Intercept the PeerConnection onicecandidate event.\n   * Handle the candidate as defined by the current trickle ICE mode config.\n   * Trickle ICE scenarios:\n   *   - FULL: Trickle.\n   *   - HALF, pre-half: Wait for \"half\" or null candidate.\n   *   - HALF, post-half: Trickle.\n   *   - NONE: Wait for null candidate.\n   */\n  nativePeer.onicecandidate = event => {\n    log.debug(\n      `ICE candidate received (trickling?: ${config.trickleIceMode === PEER.TRICKLE_ICE.FULL}): `,\n      event.candidate\n    )\n\n    // Keep track of all candidates gathered by this collection process.\n    if (event.candidate !== null) {\n      iceCandidates.push(event.candidate)\n    }\n\n    // Emit an event for the session to pick up for the ice collection check\n    const elapsedTime = iceTimer.timeFromStart()\n    emitter.emit('iceCandidateCollected', {\n      iceCollectionDuration: elapsedTime,\n      iceCandidates,\n      iceGatheringState: proxyPeer.iceGatheringState,\n      rtcPeerConnectionConfig: config,\n      rtcLocalSessionDescription: proxyPeer.localDescription\n    })\n\n    if (config.trickleIceMode === PEER.TRICKLE_ICE.FULL) {\n      // If trickling is enabled, emit an event for every ICE candidate. The\n      //    Peer is already ready for negotiation at this point.\n      if (event.candidate) {\n        // Only trickle non-null (ie. actual) candidates.\n        listener(event)\n      }\n    } else if (config.trickleIceMode === PEER.TRICKLE_ICE.HALF) {\n      // For half trickle, only start trickling after a certain threshold.\n      //    Peer will be considered ready for negotiation after that point.\n      const haveHalf = config.halfTrickleThreshold({\n        sdp: proxyPeer.localDescription.sdp,\n        iceCandidate: event.candidate,\n        time: elapsedTime\n      })\n\n      if (haveHalf) {\n        log.debug('Half ICE collection process complete; ready for negotiation.')\n        config.trickleIceMode = PEER.TRICKLE_ICE.FULL\n        emitter.emit('onnegotiationready')\n      } else {\n        log.debug(\"Peer's half trickle threshold not reached.\")\n      }\n    }\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `iceconnectionstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/oniceconnectionstatechange\n * @method oniceconnectionstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function oniceconnectionstatechange (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.oniceconnectionstatechange = function (event) {\n    log.debug(`Peer received iceconnectionstatechange event: ${nativePeer.iceConnectionState}`)\n    listener(event)\n  }\n\n  return true\n}\n","import { PEER } from '../../constants'\n\n/**\n * Event wrapper for `icegatheringstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onicegatheringstatechange\n * @method onicegatheringstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onicegatheringstatechange (listener) {\n  const { nativePeer, iceTimer, log } = this\n\n  /**\n   * Intercept the PeerConnection onicegatheringstatechange event.\n   * Time how long ICE collection takes and handles scenarios when it takes\n   *    too long.\n   */\n  nativePeer.onicegatheringstatechange = event => {\n    const gatheringState = event.target.iceGatheringState\n    log.debug(`Peer iceGatheringState changed to ${gatheringState}.`)\n\n    if (gatheringState === PEER.ICE_GATHERING_STATE.GATHERING) {\n      iceTimer.start()\n      // TODO: Handle \"ICE collection taking too long\" scenario.\n    } else if (gatheringState === PEER.ICE_GATHERING_STATE.COMPLETE) {\n      log.debug(`Peer took ${iceTimer.timeFromStart()}ms to collect ICE candidates.`)\n      iceTimer.stop()\n    }\n    // Bubble the event up.\n    listener(event)\n  }\n\n  return true\n}\n","import onicecandidate from './icecandidate'\nimport oniceconnectionstatechange from './iceconnectionstatechange'\nimport onicegatheringstatechange from './icegatheringstatechange'\nimport onnegotiationneeded from './negotiationneeded'\nimport onsignalingstatechange from './signalingstatechange'\nimport ontrack from './track'\n\nexport default {\n  onicecandidate,\n  oniceconnectionstatechange,\n  onicegatheringstatechange,\n  onnegotiationneeded,\n  onsignalingstatechange,\n  ontrack\n}\n","/**\n * Event wrapper for `negotiationneeded` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onnegotiationneeded\n * @method onnegotiationneeded\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onnegotiationneeded (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.onnegotiationneeded = function (event) {\n    log.debug('Peer received negotiationneeded event.')\n    listener(event)\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `signalingstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onsignalingstatechange\n * @method onsignalingstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onsignalingstatechange (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.onsignalingstatechange = function (event) {\n    log.debug(`Peer received signalingstatechange event: ${nativePeer.signalingState}`)\n    listener(event)\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `track` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/ontrack\n * @method ontrack\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function ontrack (listener) {\n  const { nativePeer, trackManager, log } = this\n\n  nativePeer.ontrack = event => {\n    /**\n     * transceiver: The RTCRtpTransceiver for this remote track. (Available in unified-plan)\n     * receiver: The RTCRtpReceiver for this remote track.\n     * track: The remote MediaStreamTrack.\n     * streams: Array of MediaStreams the track is in.\n     */\n    // event object contains transceiver which already has track attached to its receiver\n    const { track: nativeTrack, streams } = event\n    log.debug(`Peer received ${nativeTrack.kind} Track ${nativeTrack.id}.`)\n\n    /*\n     * When the remote side adds a track, it should have an associated MediaStream\n     *    which we get access to here. This allows us to listen for events on that\n     *    MediaStream (important for knowing when the track has ended).\n     * It's possible that the remote Sender does not have a Stream set, so we create\n     *    a Stream for it. This should be considered a problematic scenario, since\n     *    we rely on the remote Stream for certain events.\n     * Reference: KAA-2628\n     */\n    let targetStream\n    if (streams.length === 0) {\n      targetStream = new MediaStream([nativeTrack])\n      log.debug('New Track is not associated with remote Stream.')\n    } else {\n      targetStream = streams[0]\n      log.debug(`New Track is associated with remote Stream ${targetStream.id}.`)\n    }\n\n    // Convert the native MediaStreamTrack into a Track object.\n    // Specify that this is not a local one (i.e. it's a remote track)\n    const track = trackManager.add(nativeTrack, targetStream, false)\n\n    listener(track)\n  }\n\n  return true\n}\n","/*\n * Wrapper imports.\n * Events, methods, and properties that we want to wrap/add to the native Peer.\n */\nimport events from './events'\nimport methods from './methods'\nimport properties from './properties'\n\nimport { mergeValues } from '../utils'\nimport defaults from './config'\nimport { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\nimport { createTimer } from './utils/timer'\n\n/**\n * Create a Proxied Peer.\n * This Peer is a native PeerConnection that has had some new functionality\n *    added and some existing functionality \"augmented\". Where an event, a\n *    method, or a property has been defined (see folders), we intercept/add\n *    that functionality.\n * @method peer\n * @return {Peer}\n */\nexport default function peer (id, config = {}, trackManager) {\n  const log = logManager.getLogger('Peer', id)\n  config = mergeValues(defaults, config)\n  log.info('Creating new Peer.')\n\n  const iceTimer = createTimer()\n  const emitter = new EventEmitter()\n\n  // Create the native Peer.\n  log.debug('Creating native PeerConnection.', config.rtcConfig)\n  const nativePeer = new RTCPeerConnection(config.rtcConfig, { optional: [{ googDscp: true }] })\n\n  // Add the event emitter methods to the wrapped methods as well.\n  const customMethods = {\n    ...methods,\n    on: emitter.on.bind(emitter),\n    off: emitter.off.bind(emitter),\n    once: emitter.once.bind(emitter)\n  }\n\n  /**\n   * The Peer model.\n   * @typedef {Peer}\n   * @property {RTCPeerConnection} peer     The native PeerConnection.\n   * @property {string}            id       The unique identifier for the Peer.\n   * @property {boolean}           dtlsRole The DTLS role selected for this PeerConnection. Set after the initial negotiation is completed.\n   * @property {Object}            trackManager Manager that tracks all MediaStreamTracks.\n   * @property {Object}            log      Logger specific to this Peer.\n   * @property {Object}            iceTimer Timer tool (specifically for ICE collection).\n   * @property {EventEmitter}      emitter\n   * @property {Array<RTCIceCandidate>} iceCandidates Gathered candidates.\n   * @property {timeoutID} [iceLoop] Reference to the on-going ICE collection loop.\n   */\n  const base = {\n    nativePeer,\n    proxyPeer: undefined,\n    id,\n    dtlsRole: null,\n    config,\n    trackManager,\n    log,\n    iceTimer,\n    emitter,\n    iceCandidates: [],\n    iceLoop: undefined\n  }\n\n  /**\n   * Create the Proxy object that will be used as the PeerConnection.\n   *\n   * This will intercept all `get` and `set` operations and either forward them\n   *    directly to the real PeerConnection or to our wrapped operations.\n   * This allows us to shim part or all of the PeerConnection's API. We can\n   *    decide which operations we want to intercept while allowing others to\n   *    pass through unchanged.\n   */\n  base.proxyPeer = new Proxy(base, {\n    /**\n     * Intercept \"get\" calls on the Proxy.\n     * This function is called anytime a property on `base` is accessed,\n     *    eg. `base.someProp`\n     * @param {Object} target    base\n     * @param {string} prop      Property being accessed.\n     * @param {Object} receiver  The Proxy object.\n     */\n    get: function (target, prop, receiver) {\n      if (typeof base.nativePeer[prop] === 'function') {\n        /*\n         * If a function is being accessed, determine whether we want to\n         *    return the native function or our own.\n         */\n        if (Object.keys(customMethods).includes(prop)) {\n          // Return our wrapped version of the original function.\n          return customMethods[prop].bind(base)\n        } else {\n          // Return the original function, bound to have the original context.\n          return base.nativePeer[prop].bind(base.nativePeer)\n        }\n      } else if (customMethods[prop] && typeof customMethods[prop] === 'function') {\n        /*\n         * If a non-native function is being accessed, return our custom method.\n         * These are methods that are not on the native RTCPeerConnection\n         *    object, but we added to the old Peer model.\n         */\n        // TODO: Move all of this functionality to a higher level of abstraction.\n        return customMethods[prop].bind(base)\n      } else if (properties[prop]) {\n        /*\n         * If a PeerConnection property is being accessed, and we have a\n         *    wrapping for it, return our wrapper property.\n         */\n        if (typeof properties[prop] === 'function') {\n          // If our property wrapper is a function, call the function and return\n          //    the results.\n          return properties[prop].bind(base)()\n        } else {\n          // Otherwise, just return the original results.\n          return base.nativePeer[prop]\n        }\n      } else if (prop !== 'nativePeer' && base[prop]) {\n        /*\n         * If a Peer model property, other than the peer, is being accessed,\n         *    return it. The Peer model shouldn't have any properties that the\n         *    PeerConnection also has (to avoid conflicts).\n         */\n        return base[prop]\n      } else {\n        // Otherwise, return the property from the PeerConnection itself.\n        return base.nativePeer[prop]\n      }\n    },\n\n    /**\n     * Intercept \"set\" calls on the Proxy.\n     * This function is called anytime a property on `base` is assigned,\n     *    eg. `base.someProp = value`\n     * @method\n     * @param  {Object} target   base\n     * @param  {string} prop     Property being set.\n     * @param  {Any}    value    The value being set.\n     * @param  {Proxy}  receiver The Proxy object.\n     * @return {boolean}         Whether the assignment succeeded or not.\n     */\n    set: function (target, prop, value, receiver) {\n      if (events[prop]) {\n        // If a value is being set on one of our \"wrapped events\", then call\n        //    the \"event function\".\n        return events[prop].bind(base)(value)\n      } else if (prop === 'dtlsRole') {\n        /**\n         * Only allow the `dtlsRole` property of the Peer model be set. The\n         *    Session needs to be able to get/set this property, in the case\n         *    where it recreates the Peer multiple times, so it needs to set the\n         *    role to something specific.\n         * Reference: KAA-1816\n         */\n        base.dtlsRole = value\n        return true\n      } else {\n        // Otherwise, try to set the value on the native Peer.\n        return Reflect.set(base.nativePeer, prop, value)\n      }\n    }\n  })\n\n  /**\n   * For event debugging purposes, start with a dummy listener for every event.\n   *    This ensures our Proxy is listening for the events (in the case nothing\n   *    else is listening), so that debug information from the event wrappers\n   *    are logged.\n   */\n  for (const eventName in events) {\n    base.proxyPeer[eventName] = () => {}\n  }\n\n  return base.proxyPeer\n}\n","/**\n * Add an ICE candidate to the connection.\n * @method addIceCandidate\n * @param  {RTCIceCandidate} candidate A native candidate object.\n * @return {Promise} Resolves when the candidate is successfully added.\n */\nexport default function addIceCandidate (candidate) {\n  const { nativePeer, proxyPeer, id, log } = this\n  log.info('Adding ICE candidate.')\n\n  return new Promise((resolve, reject) => {\n    if (proxyPeer.remoteDescription.type && proxyPeer.remoteDescription.sdp) {\n      nativePeer\n        .addIceCandidate(candidate)\n        .then(resolve)\n        .catch(reject)\n    } else {\n      log.info('Cannot set remote ICE candidate without a remote description.')\n      // TODO: Better error.\n      reject(new Error(`Peer ${id} cannot set remote ICE candidate without a remote description.`))\n    }\n  })\n}\n","/**\n * Add a Track to the connection.\n * @method addTrack\n * @param  {Track} track A Track object.\n * @return {RTCRtpSender}\n */\nexport default function addTrack (track) {\n  const { nativePeer, log } = this\n  log.info(`Adding new ${track.track.kind} track.`)\n\n  let sender\n  try {\n    sender = nativePeer.addTrack(track.track, track.getStream())\n  } catch (err) {\n    // TODO: Better error handling.\n    log.info(`Failed to add track: ${err.message}`)\n  }\n  // TODO: What to return here? Probably shouldn't expose the rtpSender itself.\n  return sender\n}\n","/**\n * Clean the Peer by closing the RTCPeerConnection.\n * @method close\n */\nexport default function close () {\n  const { nativePeer, id, emitter, iceLoop, log } = this\n  log.info('Closing Peer.')\n\n  if (iceLoop) {\n    // Clear the ICE collection loop timeout if it exists.\n    clearTimeout(iceLoop)\n  }\n\n  nativePeer.close()\n  emitter.emit('peer:closed', id)\n}\n","import { PEER } from '../../constants'\n\nimport { runPipeline } from '../../sdpUtils/pipeline'\nimport { removeTrickleIce, removeBundling, changeMediaDirection, preventDtlsRoleChange } from '../../sdpUtils/handlers'\n\n/**\n * Creates an SDP answer, given that a remote offer has been set.\n * @method createAnswer\n * @param  {RTCAnswerOptions} [options={}] Options used to customize the answer.\n * @param  {Object} [options.mediaDirections] Directions to use for media.\n * @param  {string} [options.mediaDirections.audio]\n * @param  {string} [options.mediaDirections.video]\n * @return {Promise} Resolves with the answer.\n */\nexport default function createAnswer (options = {}) {\n  const { nativePeer, config, dtlsRole, log } = this\n  log.info('Creating local answer.')\n\n  // Remove options.mediaDirections.\n  // This is because directions are now set in transceivers.\n  delete options.mediaDirections\n\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .createAnswer(options)\n      .then(answer => {\n        const sdpHandlers = []\n\n        /*\n         * Always include the `preventDtlsRoleChange` handler. This ensures\n         *    that the SDP's DTLS role does not change during a renegotiation.\n         */\n        sdpHandlers.push(preventDtlsRoleChange)\n\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.NONE) {\n          // Modify the answer to claim the Peer doesn't support trickle ICE.\n          sdpHandlers.push(removeTrickleIce)\n        }\n        if (config.removeBundling) {\n          // Modify the offer to remove media bundling\n          sdpHandlers.push(removeBundling)\n        }\n        if (options.mediaDirections) {\n          // Modify the answer to set media directions as desired.\n          sdpHandlers.push(changeMediaDirection(options.mediaDirections))\n        }\n        if (sdpHandlers.length > 0) {\n          // Run the SDP pipeline with only these handlers.\n          answer.sdp = runPipeline(sdpHandlers, answer.sdp, {\n            type: answer.type,\n            endpoint: PEER.ENDPOINT.LOCAL,\n            dtlsRole: dtlsRole\n          })\n        }\n\n        log.info('Finished creating local answer.')\n        resolve(answer)\n      })\n      .catch(reject)\n  })\n}\n","import { PEER } from '../../constants'\n\nimport { runPipeline } from '../../sdpUtils/pipeline'\nimport { removeTrickleIce, removeBundling, changeMediaDirection } from '../../sdpUtils/handlers'\n\n/**\n * Creates an SDP offer.\n * @method createOffer\n * @param  {RTCOfferOptions} [options={}] Options used to customize the offer.\n * @param  {Object} [options.mediaDirections] Directions to use for media.\n * @param  {string} [options.mediaDirections.audio]\n * @param  {string} [options.mediaDirections.video]\n * @return {Promise} Resolves with the offer.\n */\nexport default function createOffer (options = {}) {\n  const { nativePeer, config, log } = this\n  log.info('Creating local offer.')\n\n  // Remove options.mediaDirections.\n  // This is because directions are now set in transceivers.\n  delete options.mediaDirections\n\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .createOffer(options)\n      .then(offer => {\n        const sdpHandlers = []\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.NONE) {\n          // Modify the offer to claim the Peer doesn't support trickle ICE.\n          sdpHandlers.push(removeTrickleIce)\n        }\n        if (config.removeBundling) {\n          // Modify the offer to remove media bundling\n          sdpHandlers.push(removeBundling)\n        }\n        if (options.mediaDirections) {\n          // Modify the offer to set media directions as desired.\n          sdpHandlers.push(changeMediaDirection(options.mediaDirections))\n        }\n        if (sdpHandlers.length > 0) {\n          // Run the SDP pipeline with only these handlers.\n          offer.sdp = runPipeline(sdpHandlers, offer.sdp, {\n            type: offer.type,\n            endpoint: PEER.ENDPOINT.LOCAL\n          })\n        }\n\n        log.info('Finished creating local offer.')\n        resolve(offer)\n      })\n      .catch(reject)\n  })\n}\n","/**\n * Finds a transceiver that can be reused.\n * A transceiver can be reused if it satisfies the following conditions:\n *   - it does not have a track on its sender\n *   - it has the same kind (audio or video) as what we specified\n *   - it has been used before (if it has not been used then we are not \"reusing\" it)\n * @method findReusableTransceiver\n * @param {string} kind The kind of transceiver to find (audio or video)\n * @returns {Object} Transceiver object that matches kind, has no sender track, and has currentDirection. Otherwise undefined.\n */\nexport default function findReusableTransceiver (kind) {\n  const { proxyPeer } = this\n\n  const transceivers = proxyPeer.getTransceivers()\n  return transceivers.find(\n    transceiver =>\n      transceiver.sender.track == null &&\n      transceiver.receiver &&\n      transceiver.receiver.track &&\n      transceiver.receiver.track.kind === kind &&\n      transceiver.currentDirection // If this has been set, then transceiver has been used before.\n  )\n}\n","/**\n * Retrieve a snapshot of the Peer object's current state.\n * @method getState\n * @return {Object}\n */\nexport default function getState () {\n  const { proxyPeer, config, id } = this\n\n  return {\n    id,\n    config: config,\n    localDesc: proxyPeer.localDescription,\n    signalingState: proxyPeer.signalingState,\n    localTracks: proxyPeer.localTracks,\n    remoteTracks: proxyPeer.remoteTracks,\n    senderTracks: proxyPeer.senderTracks\n  }\n}\n","/**\n * Retrieve RTCStatsReport for a sender or the peerConnection.\n * @method getStats\n * @param {string} [TrackId] Return stats for peerConnection if trackId is not provided\n * @return {Promise} Resolves with the RTCStatsReport\n */\nexport default function getStats (trackId) {\n  const { nativePeer, proxyPeer, log } = this\n  log.info(`Getting stats ${trackId ? 'for track.' : '.'}`)\n  // If no trackId is supplied, get the stats from the RTCPeerConnection. Otherwise, find an RTCSender\n  // associated with the trackId and get the stats from it.\n\n  // Use the trackId if it was provided\n  if (trackId) {\n    return new Promise((resolve, reject) => {\n      const senders = proxyPeer.getSenders()\n      // search for a sender associated with the trackId\n      const sender = senders.find(sender => sender.track.id === trackId)\n      if (sender) {\n        sender\n          .getStats()\n          .then(resolve)\n          .catch(reject)\n      } else {\n        const errMsg = `Cannot find sender with trackId: ${trackId}`\n        log.info(errMsg)\n        reject(new Error(errMsg))\n      }\n    })\n  } else {\n    // get the stats associated with the peerConnection if no trackId is supplied\n    return nativePeer.getStats()\n  }\n}\n","import addIceCandidate from './addIceCandidate'\nimport addTrack from './addTrack'\nimport close from './close'\nimport createAnswer from './createAnswer'\nimport createOffer from './createOffer'\nimport findReusableTransceiver from './findReusableTransceiver'\nimport getState from './getState'\nimport getStats from './getStats'\nimport removeTrack from './removeTrack'\nimport replaceTrack from './replaceTrack'\nimport sendDTMF from './sendDTMF'\nimport setLocalDescription from './setLocalDescription'\nimport setRemoteDescription from './setRemoteDescription'\n\nconst methods = {\n  addIceCandidate,\n  addTrack,\n  close,\n  createAnswer,\n  createOffer,\n  findReusableTransceiver,\n  getState,\n  getStats,\n  removeTrack,\n  replaceTrack,\n  sendDTMF,\n  setLocalDescription,\n  setRemoteDescription\n}\n\nexport default methods\n","/**\n * Remove a Track from the connection.\n * @method removeTrack\n * @param  {string} trackId An id for a Track object.\n */\nexport default function removeTrack (trackId) {\n  const { nativePeer, proxyPeer, log } = this\n  log.info(`Removing track ${trackId}.`)\n\n  const track = proxyPeer.senderTracks.find(track => track.id === trackId)\n  if (!track) {\n    log.info(`Invalid track ID ${trackId}; no such track found.`)\n    return\n  } else if (proxyPeer.signalingState === ' closed') {\n    log.info('Peer is closed; cannot remove track.')\n    return\n  }\n\n  // Get the RtpSender for the Track we want to remove.\n  const sender = proxyPeer\n    .getSenders()\n    .filter(sender => sender.track !== null)\n    .find(sender => sender.track.id === trackId)\n  nativePeer.removeTrack(sender)\n}\n","/**\n * Replaces a specified transceiver's sender.track.\n * @method replaceTrack\n * @param {Object} newTrack The MediaStreamTrack we want to place into the sender.\n * @param {Object} options Options for specifying which transceiver's sender should be replaced. They are ordered by priority.\n * @param {Array} [options.trackId] The track id whose transceivers we want to set the direction of.\n * @return {Object} A Promise object which is fulfilled once the track has been replaced\n */\nexport default function replaceTrack (newTrack, options) {\n  const { proxyPeer, log } = this\n  log.info(`Replacing track ${options.trackId} with new ${newTrack.kind} track.`)\n\n  return new Promise((resolve, reject) => {\n    // Find the transceiver related to the provided track ID.\n    const targetTransceiver = proxyPeer\n      .getTransceivers()\n      .find(transceiver => transceiver.sender.track && transceiver.sender.track.id === options.trackId)\n\n    const sender = targetTransceiver ? targetTransceiver.sender : undefined\n\n    if (sender) {\n      sender\n        .replaceTrack(newTrack)\n        .then(resolve)\n        .catch(error => {\n          log.info(`Failed to replace track; ${error.message}`)\n          reject(error)\n        })\n    } else {\n      log.info(`Failed to replace track; could not find track ${options.trackId}.`)\n      reject(new Error(`Sender for track ${options.trackId} not found.`))\n    }\n  })\n}\n","/**\n * Send DTMF tones.\n * @method sendDTMF\n * @param {Object} DTMFOptions The DTMF options.\n * @param {string} DTMFOptions.tone DTMF tone to send. Valid values are [0,1,2,3,4,5,6,7,8,9,#].\n * @param {number} DTMFOptions.duration=100 The amount of time, in milliseconds, that each DTMF tone should last.\n * @param {number} DTMFOptions.intertoneGap=70 The length of time, in milliseconds, to wait between tones.\n * @param {Object} [sendOptions] The send options.\n * @param {func} [sendOptions.callback] Optional callback for tone event .\n * @param {string} [sendOptions.trackId] The trackId of the sender to use.\n * @return {Boolean} Whether the DTMF tones were inserted\n */\nexport default function sendDTMF ({ tone, duration = 100, intertoneGap = 70 }, { callback, trackId }) {\n  const { proxyPeer, log } = this\n  log.info('Sending DTMF tones.', tone)\n\n  if (!proxyPeer.getSenders) {\n    log.info('Failed to send tones; getSenders is not supported by this browser.')\n    return false\n  }\n  const senders = proxyPeer.getSenders()\n  // Use the trackId if it was provided\n  if (trackId) {\n    const sender = senders.find(sender => sender.track.id === trackId)\n    if (!sender) {\n      log.info(`Failed to send tones; could not find track ${trackId}.`)\n      return false\n    }\n    insertDTMF(sender, tone, duration, intertoneGap, callback, log)\n    return true\n  } else {\n    let result\n    for (let i = 0; i < senders.length; i++) {\n      result = insertDTMF(senders[i], tone, duration, intertoneGap, callback, log)\n      if (result) {\n        return true\n      }\n    }\n\n    log.info('Failed to send tones; could not find an appropriate track.')\n    return false\n  }\n}\n\n/**\n * Helper function to sendDTMF tones .\n * @private\n * @method insertDTMF\n * @param {sender} object\n * @param {string} tone\n * @param {number} duration\n * @param {number} intertoneGap\n * @param {Function} callback\n */\nfunction insertDTMF (sender, tone, duration, intertoneGap, callback, log) {\n  /**\n   * Event handler when tone is played.\n   * @private\n   * @method handleToneChangeEvent\n   * @param  {event} event\n   */\n  function handleToneChangeEvent (event) {\n    if (event.tone !== '') {\n      log.debug('Tone played: ' + event.tone)\n    } else {\n      log.debug('All tones have played.')\n    }\n  }\n\n  if (sender.dtmf) {\n    const dtmfSender = sender.dtmf\n    if (callback) {\n      dtmfSender.ontonechange = callback\n    } else {\n      dtmfSender.ontonechange = handleToneChangeEvent\n    }\n    try {\n      dtmfSender.insertDTMF(tone, duration, intertoneGap)\n      return true\n    } catch (err) {\n      log.debug(err.message)\n      return false\n    }\n  } else {\n    log.debug('The sender requires DTMF which is not support by this browser.')\n    return false\n  }\n}\n","import { PEER } from '../../constants'\n\n// Utils.\nimport iceCollectionScheduledCheck from '../utils/iceCollectionScheduledCheck'\n\n/**\n * Sets an SDP as the local description of the connection.\n * The returned Promise will resolve when the Peer is ready for negotiation,\n *    taking into account the Peer's `trickleIceMode` configuration.\n * @method setLocalDescription\n * @param  {RTCSessionDescription} sessionDesc\n * @return {Promise}\n */\nexport default function setLocalDescription (desc) {\n  const { nativePeer, proxyPeer, config, id, emitter, iceTimer, log } = this\n\n  // TODO: SDP pipeline here.\n  log.info(`Setting local description ${desc.type} in ${proxyPeer.signalingState} state.`)\n  log.debug(`Setting local description ${desc.type}:`, desc.sdp)\n\n  /**\n   * Scenario: A local answer SDP is being applied to the Peer, but it does\n   *    not have a selected DTLS role yet. This should occur during initial\n   *    negotiation, before responding with this Peer's answer.\n   * Set the local Peer's DTLS role depending on what role was generated. This\n   *    role will be kept throughout all renegotiations.\n   */\n  if (!this.dtlsRole && desc.type === 'answer') {\n    const dtlsMatch = desc.sdp.match(/a=setup:(\\w*?)[\\r\\n]/)\n    if (dtlsMatch) {\n      log.debug(`Selecting DTLS role ${dtlsMatch[1]}.`)\n      this.dtlsRole = dtlsMatch[1]\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    // We always want to wait for the PeerConnection to be ready for\n    //    negotiation before resolving setLocalDescription.\n    // Each trickle ICE option (FULL/HALF/NONE) emits \"negotiation ready\" event once.\n    emitter.once('onnegotiationready', () => {\n      if (iceTimer.isStarted()) {\n        // In a HALF trickle scenario, the Peer will be ready for negotiation\n        //    before ICE collection has completed. Log that timing.\n        log.debug(`Took ${iceTimer.timeFromStart()}ms to collect ICE candidates before negotiation.`)\n      }\n      resolve()\n    })\n\n    nativePeer\n      .setLocalDescription(desc)\n      .then(() => {\n        log.info('Finished setting local description.')\n        log.debug(`State is now ${proxyPeer.signalingState}.`)\n\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.FULL) {\n          // Trickling ICE candidates means that we can begin negotiation immediately.\n          log.debug('Ready for negotiation (full trickleICE).')\n          emitter.emit('onnegotiationready')\n        } else {\n          // ICE candidates aren't always gathered (only initially and when something\n          //    changes), but we rely on \"gathering complete\" to know when the Peer is\n          //    ready for negotiation. Give the Peer some time to start gathering\n          //    before deciding if we need to wait for gathering to complete or not.\n          // The timeout is needed because of a bug in Chrome:\n          //    https://bugs.chromium.org/p/webrtc/issues/detail?id=1873\n          // Known issue: If candidate collection takes less time than this timeout,\n          //    the logged message will be incorrect, but will functionally still work.\n          setTimeout(() => {\n            if (proxyPeer.iceGatheringState === 'complete') {\n              // Gathering is \"complete\", so we are ready for negotiation.\n              log.debug('Ready for negotiation; ICE candidate collection not needed.')\n              emitter.emit('onnegotiationready')\n            } else {\n              log.debug(`Waiting for ICE collection process (${config.trickleIceMode}).`)\n              // Register the ice collection check function callback to start the candidate collection\n              //  looping process\n              proxyPeer.isIceCollectionCheckOngoing = true\n              iceCollectionScheduledCheck(this)\n            }\n          }, 25)\n        }\n      })\n      .catch(err => {\n        log.info('Failed to set local description.')\n        log.debug(`Peer ${id}: ${err}`)\n        // Parse native error. Make it more understand and/or\n        //    provide a better log about what went wrong.\n        reject(err)\n      })\n  })\n}\n","/**\n * Sets an SDP as the remote description of the connection.\n * @method setRemoteDescription\n * @param  {RTCSessionDescription} sessionDesc\n */\nexport default function setRemoteDescription (desc) {\n  const { nativePeer, proxyPeer, id, log } = this\n\n  // TODO: SDP pipeline here.\n  log.info(`Setting remote description ${desc.type} in ${proxyPeer.signalingState} state.`)\n  log.debug(`Setting remote description ${desc.type}:`, desc.sdp)\n\n  /**\n   * Scenario: A remote answer SDP is being applied to the Peer, but it does\n   *    not have a selected DTLS role yet. This should occur only when the\n   *    initial negotiation is being completed.\n   * Set the local Peer's DTLS role depending on what the remote Peer\n   *    selected. This role will be kept throughout all renegotiations.\n   */\n  if (!this.dtlsRole && desc.type === 'answer') {\n    const dtlsMatch = desc.sdp.match(/a=setup:(\\w*?)[\\r\\n]/)\n    if (dtlsMatch) {\n      const localRole = dtlsMatch[1] === 'active' ? 'passive' : 'active'\n      log.debug(`Selecting DTLS role ${localRole}. Remote Peer selected ${dtlsMatch[1]} DTLS role.`)\n      this.dtlsRole = localRole\n    }\n  }\n\n  // TODO: Update `config.trickleIceMode` to either NONE or FULL (from HALF)\n  //    depending on remote support, since HALF is only needed for initial.\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .setRemoteDescription(desc)\n      .then(() => {\n        log.info('Finished setting remote description.')\n        log.debug(`State is now ${proxyPeer.signalingState}.`)\n        resolve()\n      })\n      .catch(err => {\n        log.info('Failed to set remote description.')\n        log.debug(`Peer ${id}: ${err}`)\n        // Parse native error. Make it more understand and/or\n        //    provide a better log about what went wrong.\n        reject(err)\n      })\n  })\n}\n","import localDescription from './localDescription'\nimport localTracks from './localTracks'\nimport remoteDescription from './remoteDescription'\nimport remoteTracks from './remoteTracksActive'\nimport remoteTracksAll from './remoteTracks'\nimport senderTracks from './senderTracks'\n\nexport default { localDescription, localTracks, remoteDescription, remoteTracks, remoteTracksAll, senderTracks }\n","/**\n * The SDP for the local end of the connection.\n * @method getLocalDescription\n */\nexport default function getLocalDescription () {\n  const { nativePeer, log } = this\n  log.info('Getting local description.')\n\n  const localDesc = nativePeer.localDescription\n  /*\n   * Ensure it is a RTCSessionDescription object.\n   * In some scenarios (based on browser?), it may return an empty object\n   *    instead of undefined when there is no local description.\n   * TODO: Determine if this is still needed, or if we can use the native\n   *    property directly.\n   */\n  if (localDesc && localDesc.sdp && localDesc.type) {\n    return localDesc\n  } else {\n    return undefined\n  }\n}\n","/**\n * @method getLocalTracks\n * @return {Array} List of active Track objects added to the Peer locally.\n */\nexport default function localTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting local tracks.')\n\n  // Return the list of Tracks from active senders.\n  return (\n    proxyPeer\n      .getSenders()\n      /**\n       * Remove any Senders that do not have an associated track.\n       * We only want to retrieve Senders that do have tracks, because those are\n       *    the local tracks that have been added to the Peer.\n       * Senders without tracks are part of a Transceiver where the Receiver has\n       *    a remote track, but no local track has been added to it. We don't\n       *    care about this for the \"get local tracks\" operation.\n       */\n      .filter(sender => Boolean(sender.track))\n      .map(sender => trackManager.get(sender.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track and that its active.\n        // It's possible that Peer has the sender but not the actual track yet.\n        return track && track.getState().state === 'live' && track.getStream().active\n      })\n  )\n}\n","/**\n * The SDP for the remote end of the connection.\n * @method getRemoteDescription\n */\nexport default function getRemoteDescription () {\n  const { nativePeer, log } = this\n  log.info('Getting remote description.')\n\n  const remoteDesc = nativePeer.remoteDescription\n  /*\n   * Ensure it is a RTCSessionDescription object.\n   * In some scenarios (based on browser?), it may return an empty object\n   *    instead of undefined when there is no local description.\n   * TODO: Determine if this is still needed, or if we can use the native\n   *    property directly.\n   */\n  if (remoteDesc && remoteDesc.sdp && remoteDesc.type) {\n    return remoteDesc\n  } else {\n    return undefined\n  }\n}\n","/**\n * @method getRemoteTracks\n * @return {Array} List of active Track objects the Peer has received remotely.\n */\nexport default function getRemoteTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting remote tracks.')\n\n  // Return the list of Tracks from active receivers.\n  return (\n    proxyPeer\n      .getReceivers()\n      /**\n       * Remove any Receivers that do not have an associated track.\n       * We only want to retrieve Receivers that do have tracks, because those are\n       *    the remote tracks that have been added to the Peer.\n       * Receivers without tracks are part of a Transceiver where the Sender has\n       *    a local track, but no remote track has been added to it. We don't\n       *    care about this for the \"get remote tracks\" operation.\n       */\n      .filter(receiver => Boolean(receiver.track))\n      .map(receiver => trackManager.get(receiver.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track\n        return track && track.getState().state === 'live'\n      })\n  )\n}\n","/**\n * @method getRemoteTracks\n * @return {Array} List of active Track objects the Peer has received remotely.\n */\nexport default function getRemoteTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting remote tracks.')\n\n  // Return the list of Tracks from active receivers.\n  return (\n    proxyPeer\n      .getReceivers()\n      /**\n       * Remove any Receivers that do not have an associated track.\n       * We only want to retrieve Receivers that do have tracks, because those are\n       *    the remote tracks that have been added to the Peer.\n       * Receivers without tracks are part of a Transceiver where the Sender has\n       *    a local track, but no remote track has been added to it. We don't\n       *    care about this for the \"get remote tracks\" operation.\n       */\n      .filter(receiver => Boolean(receiver.track))\n      .map(receiver => trackManager.get(receiver.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track and that its active.\n        // It's possible that Peer has the receiver but not the actual track yet.\n        return track && track.getState().state === 'live' && track.getStream().active\n      })\n  )\n}\n","/**\n * This method is similar to the `localTracks` method, however this method returns\n *  all of the sender's tracks (ended or not) rather than just the active/live ones.\n *\n * @method senderTracks\n * @return {Array} List of Track objects added to the Peer locally.\n */\nexport default function senderTracks () {\n  const { proxyPeer, log } = this\n  log.info('Getting sender tracks.')\n\n  // Return the list of Tracks from senders.\n  return (\n    proxyPeer\n      .getSenders()\n      /**\n       * Remove any Senders that do not have an associated track.\n       * We only want to retrieve Senders that do have tracks, because those are\n       *    the local tracks that have been added to the Peer.\n       * Senders without tracks are part of a Transceiver where the Receiver has\n       *    a remote track, but no local track has been added to it. We don't\n       *    care about this for the \"get local tracks\" operation.\n       */\n      .filter(sender => Boolean(sender.track))\n      .map(sender => sender.track)\n  )\n}\n","/**\n *\n * Util for emitting an event with the necessary peer information for the ice\n * collection scheduled check.\n * @method iceCollectionScheduledCheck\n * @param {Object} proxyBase The \"base\" of the Proxy Peer object.\n */\nexport default function iceCollectionScheduledCheck (proxyBase) {\n  const { proxyPeer, iceTimer, iceCandidates, emitter, config } = proxyBase\n\n  // The time, in milliseconds, that ICE collection has taken so far.\n  const elapsedTime = iceTimer.timeFromStart()\n\n  emitter.emit('scheduledCheck', {\n    iceCollectionDuration: elapsedTime,\n    iceCandidates,\n    iceGatheringState: proxyPeer.iceGatheringState,\n    rtcPeerConnectionConfig: config,\n    rtcLocalSessionDescription: proxyPeer.localDescription\n  })\n}\n","/**\n * Prototype for a timer object that can keep time and be stopped and started.\n */\nconst timerPrototype = {\n  /**\n   * Start the timer\n   * @returns {boolean} True if the timer was successfully started, false if it was already started.\n   */\n  start () {\n    if (!this.isStarted()) {\n      this._startTime = now()\n      return true\n    }\n    return false\n  },\n\n  /**\n   * Stops the timer\n   * @returns {boolean} True if the timer was successfully stopped, false if it was already stopped.\n   */\n  stop () {\n    if (this.isStarted()) {\n      this._startTime = undefined\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * @returns {boolean} True if the timer is started, false otherwise.\n   */\n  isStarted () {\n    return Boolean(this._startTime)\n  },\n\n  /**\n   * @returns {number} The time in milliseconds since the timer was started, or 0 if it wasn't started.\n   */\n  timeFromStart () {\n    return this.isStarted() ? now() - this._startTime : 0\n  }\n}\n\n/**\n * @returns A timestamp in milliseconds since the unix-epoch\n */\nfunction now () {\n  return new Date().getTime()\n}\n\n/**\n * Create a new timer object. Timers are not started when created and need to be started manually.\n *\n * @returns {Object} The timer object that supports the timer interface.\n */\nexport function createTimer () {\n  return Object.create(timerPrototype)\n}\n","/**\n * Constants relating to the Peer model.\n */\nexport const PEER = {\n  TRICKLE_ICE: {\n    FULL: 'FULL',\n    HALF: 'HALF',\n    NONE: 'NONE'\n  },\n  // Defined by the RTCPeerConnection.iceGatheringState spec.\n  ICE_GATHERING_STATE: {\n    NEW: 'new',\n    GATHERING: 'gathering',\n    COMPLETE: 'complete'\n  },\n  ENDPOINT: {\n    LOCAL: 'local',\n    REMOTE: 'remote'\n  }\n}\n\n/**\n * SDP constants for media direction.\n * @type {Object}\n */\nexport const MEDIA_DIR = {\n  INACTIVE: 'inactive',\n  SEND_ONLY: 'sendonly',\n  RECV_ONLY: 'recvonly',\n  SEND_RECV: 'sendrecv'\n}\n\n/**\n * Reasons for calling the Ice Collection Check function.\n * @name ICE_COLLECTION_CHECK_REASONS\n */\nexport const ICE_COLLECTION_CHECK_REASONS = {\n  ICE_GATHERING_STATE_CHANGE: 'IceGatheringStateChanged',\n  NEW_CANDIDATE: 'NewCandidate',\n  SCHEDULED: 'Scheduled'\n}\n\n/**\n * Result types for the Ice Collection Check Function.\n * @name ICE_COLLECTION_RESULT_TYPES\n */\nexport const ICE_COLLECTION_RESULT_TYPES = {\n  START_CALL: 'StartCall',\n  WAIT: 'Wait',\n  ERROR: 'Error'\n}\n","// Models.\nimport Track from '../models/track'\nimport Media from '../models/media'\nimport Peer from '../Peer'\n\n// Managers.\nimport MediaManager from '../managers/mediaManager'\nimport PeerManager from '../managers/peerManager'\nimport SessionManager from '../managers/sessionManager'\nimport DeviceManager from '../managers/deviceManager'\nimport TrackManager from '../managers/trackManager'\nimport WebRTCManager from '../managers/webrtcManager'\nimport Renderer from '../managers/renderer'\n\nimport { logManager } from '../logs'\n\n// SDP helpers.\nimport sdpPipeline from '../sdpUtils/pipeline'\nimport * as sdpHandlers from '../sdpUtils/handlers'\n\n// Utils\nimport { getBrowserDetails as getDetails } from '../utils'\n\n// Re-export this function so it can be used directly instead of through the\n//    initialized WebrtcStack. It is renamed because of weird import/export behaviour.\nexport const getBrowserDetails = getDetails\n\n/**\n * @returns An dictionary of features that are supported on this platform.\n */\nexport function getWebRTCSupportCapabilities () {\n  return {\n    mediaDevices: Boolean(navigator.mediaDevices),\n    peerConnection: Boolean(window.RTCPeerConnection)\n  }\n}\n\nexport default function initialize () {\n  const log = logManager.getLogger('WebRTC')\n\n  const browserDetails = getBrowserDetails()\n  if (browserDetails.version) {\n    log.debug(`Browser details: ${browserDetails.browser}, version ${browserDetails.version}.`)\n  } else {\n    log.debug('Browser details: Not supported by webRTC adapter.')\n  }\n\n  const renderer = new Renderer()\n  const deviceManager = new DeviceManager()\n  const trackManager = new TrackManager()\n  const mediaManager = new MediaManager({ trackManager })\n  const peerManager = new PeerManager({ trackManager })\n  const sessionManager = new SessionManager({\n    peerManager,\n    mediaManager,\n    trackManager,\n    deviceManager\n  })\n  const webrtcManager = new WebRTCManager()\n\n  return {\n    models: {\n      Track,\n      Media,\n      Peer\n    },\n    // TODO: Make naming consistent.\n    managers: {\n      devices: deviceManager,\n      media: mediaManager,\n      peerManager: peerManager,\n      sessionManager,\n      track: trackManager,\n      // Give access to the Log Manager.\n      // TODO: Don't include it under managers. It's here now because of\n      //    ProxyStack annoyingness.\n      logs: logManager,\n      webrtcManager,\n      renderer\n    },\n    sdp: {\n      pipeline: sdpPipeline,\n      handlers: sdpHandlers\n    },\n    // Export this on the webRTC stack for backwards compatibility.\n    getBrowserDetails\n  }\n}\n","import createManager from 'kandy-logger'\n\nconst manager = createManager({ level: 'DEBUG' })\nexport const logManager = manager\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/*\n * A conversion from MediaDeviceInfo.kind values to their more common terms.\n * See: https://developer.mozilla.org/en-US/docs/Web/API/MediaDeviceInfo/kind\n * @enum {String}\n */\nexport const WEBRTC_DEVICE_KINDS = {\n  audioinput: 'microphone',\n  videoinput: 'camera',\n  audiooutput: 'speaker'\n}\n\n/**\n * Manager for connected devices.\n * Keeps an up-to-date list of all devices.\n * @class DeviceManager\n */\nexport default function DeviceManager () {\n  const log = logManager.getLogger('Manager', 'Device')\n\n  // Internal variables.\n  const emitter = new EventEmitter()\n  // Store each device type separately, so that `deviceId` is unique\n  //    per kind (there is a `default` deviceId per kind).\n  let microphone = []\n  let camera = []\n  let speaker = []\n\n  // Check devices on initialization.\n  checkDevices().then(() => {\n    // Emit an initial event to notify that devices are available.\n    emitter.emit('change')\n  })\n\n  // Check devices whenever they change.\n  let isListening = true\n  let recentDeviceChange = false\n  navigator.mediaDevices.addEventListener('devicechange', () => {\n    log.info('Media device change detected.')\n\n    // A physical device change results in one event per\n    //    device \"kind\". Group the events together.\n    // Only emit an event if the Manager is supposed to\n    //    be listening for changes.\n    if (!recentDeviceChange && isListening) {\n      recentDeviceChange = true\n      setTimeout(() => {\n        recentDeviceChange = false\n        checkDevices().then(() => {\n          // Emit an event to notify of the change.\n          emitter.emit('change')\n        })\n      }, 50)\n    }\n  })\n\n  /**\n   * Sets the Manager to watch or ignore the \"device change\"\n   *    events from the browser.\n   * @method setListening\n   * @param {Boolean} flag Whether to watch for events.\n   * @return {undefined}\n   */\n  function setListening (flag) {\n    log.debug(`Listening for device changes: ${flag}`)\n    isListening = flag\n  }\n\n  /**\n   * Updates the stored device lists with the latest devices.\n   * @method checkDevices\n   * @return {Promise}\n   */\n  function checkDevices () {\n    log.info('Checking media devices.')\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .enumerateDevices()\n        .then(devices => {\n          // Clear the stored devices, to prevent duplicates.\n          microphone = []\n          camera = []\n          speaker = []\n          devices.forEach(device => {\n            const kind = WEBRTC_DEVICE_KINDS[device.kind]\n            switch (kind) {\n              case 'microphone':\n                microphone.push(device)\n                break\n              case 'camera':\n                camera.push(device)\n                break\n              case 'speaker':\n                speaker.push(device)\n                break\n            }\n          })\n          resolve(get())\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Ask for permission and gets the list of available device(s) available from the end-user's devices.\n   * @method setupDeviceInitialization\n   * @param browserConstraints\n   * @return {Object}\n   */\n  function setupDeviceInitialization (browserConstraints) {\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .getUserMedia(browserConstraints)\n        .then(mediaStream => {\n          mediaStream.getTracks().forEach(track => {\n            track.stop()\n          })\n          const devices = checkDevices()\n          resolve(devices)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Retrieves the stored device lists.\n   * @method get\n   * @return {Object}\n   */\n  function get () {\n    return {\n      microphone,\n      camera,\n      speaker\n    }\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  function emit (...args) {\n    return emitter.emit(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    setListening,\n    checkDevices,\n    setupDeviceInitialization,\n    get,\n    on,\n    once,\n    off,\n    emit\n  }\n}\n","import { logManager } from '../logs'\n\n// Models that this manager directly manages.\nimport Media from '../models/media'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Media objects.\n * Allows the creation and retrieval of media objects.\n * @class MediaManager\n */\nexport default function MediaManager (managers) {\n  const log = logManager.getLogger('Manager', 'Media')\n\n  // Internal variables.\n  const trackManager = managers.trackManager\n  const medias = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a snapshot of all Media objects' current state.\n   * @method getState\n   * @return {Array}\n   */\n  function getState () {\n    return getAll().map(id => get(id).getState())\n  }\n\n  /**\n   * Workaround to get Firefox to behave similarly to Chrome regarding device permission prompts.\n   * @method browserConstraintsWorkaround\n   * @param  {MediaStreamConstraints}  constraints\n   * @return {Object}  media constraints\n   */\n  function browserConstraintsWorkaround (constraints) {\n    /**\n     * Firefox workaround.\n     *\n     * Issue Summary: Browser behaviour for prompting the user for device\n     *    permissions is not consistent for consecutive gUM calls. The following\n     *    workaround makes it consistent if the less-specific constraint is\n     *    provided.\n     *\n     * Context: The `deviceId` constraint format can be either a string or an\n     *    object. The object format allows precise control over how the browser\n     *    should try to get the track. It can be specified to fail if it can't\n     *    fulfill the constraint (exact), or whether the constraint is \"best\n     *    effort\" (ideal). When the string format is given, it follows the\n     *    \"ideal\" behaviour.\n     * See: https://developer.mozilla.org/en-US/docs/Web/API/ConstrainDOMString\n     *\n     *  - When the \"ideal\" behaviour is followed and the user has not given\n     *      permission (and not disallowed), the browser will prompt the user\n     *      for permission.\n     *  - [Issue] When the \"ideal\" behaviour is followed and the user has given\n     *      permission previously, the browser will not prompt the user for\n     *      permission.\n     *\n     * Problem: When gUM is called for a different device (ideal behaviour) than\n     *    permission was granted for previously, the browser will not prompt the\n     *    user to give permission for the (new) device. This results in gUM\n     *    using the original device for the new track.\n     *\n     * This happens on Firefox because the prompt for media permissions is\n     *    specific to a single device. For Chrome, the prompt is generic to any\n     *    device.\n     * If permissions are always allowed (\"remember my decision\" on Firefox or\n     *    default on Chrome), this issue wouldn't be seen.\n     *\n     * Workaround: When the behaviour (idea / exact) isn't specified, default\n     *    to exact (instead of letting the browser default to ideal; as per the\n     *    specification).\n     *\n     * This ensures that the browser always prompts the user to give permissions\n     *    for the device (if not already granted). It is also more in-line with\n     *    what might be expected when you ask for a certain device (ie. don't\n     *    return a different device unless it was specified that it's okay).\n     */\n    for (const kind in constraints) {\n      if (\n        constraints[kind] &&\n        typeof constraints[kind] === 'object' &&\n        typeof constraints[kind].deviceId === 'string'\n      ) {\n        // Don't allow a \"bare\" value be provided for deviceId. Change it to use\n        //    \"exact\".\n        const id = constraints[kind].deviceId\n        constraints[kind].deviceId = { exact: id }\n      }\n    }\n    return constraints\n  }\n\n  /**\n   * Wraps native mediaStream, adds tracks to trackManager and Media, and sets up event handlers on a given media.\n   * @method setupMedia\n   * @param {MediaStream} mediaStream Creating a Media object with it.\n   * @return {Media}\n   */\n  function setupMedia (mediaStream) {\n    const media = new Media(mediaStream, true)\n    log.debug(`Creating Media with ID: ${media.id}.`)\n\n    // Only add tracks to a Media objects using the `addTrack` method.\n    // Specify that this is a local track we're adding\n    mediaStream.getTracks().forEach(nativeTrack => {\n      const wrappedTrack = trackManager.add(nativeTrack, mediaStream, true)\n\n      media.addTrack(wrappedTrack)\n    })\n\n    media.once('media:stopped', mediaId => {\n      remove(mediaId)\n    })\n\n    media.on('track:ended', ({ mediaId, trackId }) => {\n      if (media.getTracks().length === 0) {\n        remove(mediaId)\n      }\n    })\n\n    media.on('track:muted', ({ mediaId, trackId }) => {\n      // TBD: Add any extra behaviour (if needed) here\n    })\n\n    return media\n  }\n\n  /**\n   * Create a new local Media object.\n   * Use the provided constraints to get user media as the base MediaStream.\n   * @method createLocal\n   * @param  {MediaStreamConstraints}  constraints\n   * @return {Promise}\n   */\n  function createLocal (constraints) {\n    const constraintsWorkaround = browserConstraintsWorkaround(constraints)\n\n    // Get user media, ...\n    return new Promise((resolve, reject) => {\n      // TODO: Proper error checking.\n      // TODO: Use the WebAPI directly here? Probably not.\n      navigator.mediaDevices\n        .getUserMedia(constraintsWorkaround)\n        .then(mediaStream => {\n          const media = setupMedia(mediaStream)\n\n          medias.set(media.id, media)\n          // TODO: Better event. Include metadata?\n          emitter.emit('media:new', media.id)\n\n          resolve(media)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Creates a new local Screen Media object.\n   * Use the provided constraints to get user media as the base MediaStream.\n   * @method createLocalScreen\n   * @param {MediaStreamConstraints} constraints\n   * @return {promise}\n   */\n  function createLocalScreen (constraints) {\n    const constraintsWorkaround = browserConstraintsWorkaround(constraints)\n\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .getDisplayMedia(constraintsWorkaround)\n        .then(mediaStream => {\n          const media = setupMedia(mediaStream)\n\n          medias.set(media.id, media)\n          // TODO: Better event. Include metadata?\n          emitter.emit('media:new', media.id)\n\n          resolve(media)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Create a new remote Media object.\n   * Use provided stream/tracks as the base media objects.\n   * @method createRemote\n   * @param  {MediaStream} mediaStream Native MediaStream object.\n   * @param  {Tracks[]} tracks Array of Track objects.\n   * @return {Media}\n   */\n  function createRemote (stream, tracks = []) {\n    const media = new Media(stream, false)\n\n    tracks.forEach(track => {\n      media.addTrack(track)\n    })\n\n    media.once('media:stopped', mediaId => {\n      remove(mediaId)\n    })\n\n    media.on('track:ended', ({ mediaId, trackId }) => {\n      if (media.getTracks().length === 0) {\n        remove(mediaId)\n      }\n    })\n\n    medias.set(media.id, media)\n    // TODO: Better event. Include metadata?\n    emitter.emit('media:new', media.id)\n    return media\n  }\n\n  /**\n   * Removes a Media object from the medias array.\n   * @private\n   * @method remove\n   * @param {String} mediaId\n   */\n  function remove (mediaId) {\n    const media = get(mediaId)\n    if (media) {\n      medias.delete(mediaId)\n      emitter.emit('media:removed', mediaId)\n    }\n  }\n\n  /**\n   * Retrieve an existing Media object.\n   * @method get\n   * @param  {String} mediaId ID of the desired Media object.\n   * @return {Media}\n   */\n  function get (mediaId) {\n    const media = medias.get(mediaId)\n    if (!media) {\n      log.debug(`No media found with ID: ${mediaId}.`)\n    }\n    return media\n  }\n\n  /**\n   * Retrieve a list of all existing Media object's IDs.\n   * @method getAll\n   * @return {Array} List of Media IDs.\n   */\n  function getAll () {\n    return Array.from(medias.keys())\n  }\n\n  /**\n   * Finds the Media object that contains the specified Track.\n   * @method findTrack\n   * @param  {string}  trackId The ID of the Track to find.\n   * @return {string} The ID of the Media object that contains the Track.\n   */\n  function findTrack (trackId) {\n    // Search through all Media objects for the one that has the desired track.\n    const allMedia = Array.from(medias.values())\n    const media = allMedia.find(media => media.getTrack(trackId))\n    if (media) {\n      log.debug(`Found Media (${media.id}) with Track ${trackId}.`)\n      return media.id\n    } else {\n      log.debug(`Found no Media with Track ${trackId}.`)\n    }\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    // Getter APIs.\n    get,\n    getAll,\n    getState,\n    findTrack,\n    // Create APIs.\n    createLocal,\n    createLocalScreen,\n    createRemote,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\n\nimport Peer from '../Peer'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Peer objects.\n * Allows the creation and retrieval of peer objects.\n * @method PeerManager\n */\nexport default function PeerManager (managers) {\n  const log = logManager.getLogger('Manager', 'Peer')\n\n  // Internal variables.\n  const trackManager = managers.trackManager\n  const peers = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a snapshot of all Peer objects' current state.\n   * @method getState\n   * @return {Array}\n   */\n  function getState () {\n    return getAll().map(id => get(id).getState())\n  }\n\n  /**\n   * Create a new Peer using the provided configs.\n   * @method create\n   * @param  {Object} [config={}]\n   * @return {Peer}\n   */\n  function create (config = {}) {\n    const peer = new Peer(uuidV4(), config, trackManager)\n    peer.once('peer:closed', id => peers.delete(id))\n    peers.set(peer.id, peer)\n    emitter.emit('peer:new', peer.id)\n    return peer\n  }\n\n  /**\n   * Retrieves an existing Peer object.\n   * @method get\n   * @param  {String} id ID of the desired Peer object.\n   * @return {Peer}\n   */\n  function get (id) {\n    const peer = peers.get(id)\n    if (!peer) {\n      log.debug(`No Peer found with ID: ${id}.`)\n    }\n    return peer\n  }\n\n  /**\n   * Retrieve a list of all existing Peer object's IDs.\n   * @method getAll\n   * @return {Array} List of Peer IDs.\n   */\n  function getAll () {\n    return Array.from(peers.keys())\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    getState,\n    get,\n    getAll,\n    create,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\nimport { makeSafeForCSS } from '../utils'\n\n/**\n * Renderer for managing where Tracks are rendered.\n */\nexport default function Renderer () {\n  /*\n   * Object holding reference to all tracks currently rendered and to where.\n   *    Entry format: { containers, rendererId }\n   *    `containers` is the array of HTMLElements where the track is rendered.\n   *    `rendererId` is the ID used when creating DOM elements for this track.\n   */\n  const entries = {}\n\n  /**\n   * Renders this Track as a subelement of the specified element.\n   * @method renderTrack\n   * @param  {HTMLElement|String} container The DOM element to be rendered in,\n   *    or a unique CSS selector for the DOM element.\n   * @param  {String} [speakerId] The device ID to be used for audio output.\n   * @return {boolean} true if rendering of track suceeded, false otherwise.\n   */\n  function renderTrack (track, container, speakerId) {\n    const log = logManager.getLogger('Track', track.id)\n\n    let element\n    // If a string was provided, use it as a CSS selector to find the element.\n    if (typeof container === 'string') {\n      log.info(`Rendering track in element using selector: ${container}`)\n\n      element = document.querySelector(container)\n      if (!element) {\n        log.error(`Unable to get container with selector: ${container}.`)\n        return false\n      }\n    } else {\n      log.info('Rendering track in provided HTMLElement.')\n      element = container\n    }\n\n    const type = track.getState().kind\n    // Create a unique rendering ID for this track.\n    const rendererId = `${type}-${makeSafeForCSS(track.id)}`\n\n    // Get the existing entry for this track.\n    let entry = entries[track.id]\n    if (entry) {\n      if (entry.containers.indexOf(element) > -1) {\n        // Already rendered in element.\n        log.warn('Failed to render track; already rendered in element.')\n        return false\n      } else {\n        // Rendering the track in a second element; no issue with that.\n      }\n    } else {\n      // Create an empty entry; track is not rendered anywhere else.\n      entry = { containers: [], rendererId }\n    }\n\n    // Element is a valid place to render track, so add it to the entry then render it.\n    entry.containers.push(element)\n\n    const renderer = document.createElement(type)\n    renderer.id = rendererId\n    renderer.style.height = '100%'\n    renderer.style.width = '100%'\n\n    const stream = track.getStream()\n    try {\n      renderer.srcObject = stream\n    } catch (error) {\n      log.debug('srcObject property not supported; reverting to createObjectURL.')\n      // TODO: AdapterJS handles this, we should remove this.\n      renderer.src = window.URL.createObjectURL(stream)\n    }\n\n    renderer.autoplay = 'true'\n\n    if (type === 'video') {\n      renderer.muted = 'true'\n      // Needed for IOS autoplay.\n      renderer.playsInline = 'true'\n      // Needed for Android.\n      renderer.play().catch(err => {\n        log.debug(`Could not autoplay renderer #${renderer.id}: ${err.message}`)\n      })\n    }\n\n    // Set speaker if it was provided and it's supported.\n    if (speakerId && typeof renderer.setSinkId !== 'undefined') {\n      // TODO: Better then/catch handling.\n      renderer\n        .setSinkId(speakerId)\n        .then(() => {\n          log.debug(`Set to use speaker: ${speakerId}.`)\n        })\n        .catch(error => {\n          log.debug(`Could not set speaker to use ${speakerId}: ${error.message}`)\n        })\n    } else if (speakerId && typeof renderer.setSinkId === 'undefined') {\n      log.info('Failed to set speaker; setSinkId not supported in this browser.')\n    }\n\n    element.appendChild(renderer)\n\n    // Save the new/updated entry to the Renderer scope.\n    entries[track.id] = entry\n    return true\n  }\n\n  /**\n   * Stop rendering this Track from the specified element.\n   * @method unrenderTrack\n   * @param  {string}      trackId   ID of the track to be unrendered.\n   * @param  {HTMLElement} container The DOM element to be removed from, or\n   *     a unique CSS selector for the DOM element.\n   * @return {boolean} true if unrendering of track suceeded, false otherwise.\n   */\n  function unrenderTrack (trackId, container) {\n    const log = logManager.getLogger('Track', trackId)\n\n    // Get the existing entry for this track.\n    const entry = entries[trackId]\n    if (!entry) {\n      log.info('Failed to unrender track; not rendered anywhere.')\n      return false\n    }\n\n    let element\n    // If a string was provided, use it as a CSS selector to find the element.\n    if (typeof container === 'string') {\n      log.info(`Unrendering track from element using selector: ${container}`)\n\n      element = document.querySelector(container)\n      if (!element) {\n        log.error(`Unable to get container with selector: ${container}.`)\n        return false\n      }\n    } else {\n      log.info('Unrendering track from provided HTMLElement.')\n      element = container\n    }\n\n    const index = entry.containers.findIndex(item => item === element)\n    if (index === -1) {\n      // Not rendered in element.\n      log.info('Failed to unrender track; not rendered in element.')\n      return false\n    }\n\n    const renderer = element.querySelector(`#${entry.rendererId}`)\n\n    if (renderer.srcObject) {\n      renderer.srcObject = null\n    } else if (renderer.src) {\n      renderer.src = null\n    }\n    element.removeChild(renderer)\n\n    entry.containers.splice(index, 1)\n    // If this track isn't rendered anywhere anymore, remove the reference to it.\n    if (entry.containers.length === 0) {\n      delete entries[trackId]\n    }\n    return true\n  }\n\n  return {\n    renderTrack,\n    unrenderTrack\n  }\n}\n","import { logManager } from '../logs'\nimport Session from '../models/session'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Session objects.\n * Allows for creation and retrieval of session objects.\n * @method SessionManager\n */\nexport default function SessionManager (managers) {\n  const log = logManager.getLogger('Manager', 'Session')\n  // Internal variables.\n  const sessions = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Create a new Session object.\n   * @method create\n   * @param {Object} [config]\n   * @param {Object} [config.peer] Configs for the Session's Peer object.\n   * @return {Session}\n   */\n  function create (config = {}) {\n    const session = new Session(uuidV4(), managers, config)\n    session.once('session:ended', id => {\n      sessions.delete(id)\n      emitter.emit('session:removed', id)\n    })\n    sessions.set(session.id, session)\n    emitter.emit('session:new', session.id)\n    return session\n  }\n\n  /**\n   * Retrieve an existing Session object.\n   * @method get\n   * @param  {String} sessionId ID of the desired Session object.\n   * @return {Session}\n   */\n  function get (sessionId) {\n    const session = sessions.get(sessionId)\n    if (!session) {\n      log.debug(`No session found with ID: ${sessionId}.`)\n    }\n    return session\n  }\n\n  /**\n   * Retrieve a list of all existing Sessions.\n   * @method getAll\n   * @return {Array} List of Media IDs.\n   */\n  function getAll () {\n    return Array.from(sessions.values())\n  }\n\n  /**\n   * Get an existing Session object, and add media to it before returning.\n   *    This method is an optimization. It combines `sessionManager.get` and\n   *    `session.addWithMedia` into a single method instead of two.\n   * @method getWithMedia\n   * @return {Promise} Resolves with the Session and Media objects.\n   */\n  function getWithMedia (sessionId, mediaConstrants) {\n    const session = sessions.get(sessionId)\n    if (!session) {\n      log.debug(`No session found with ID: ${sessionId}.`)\n      return\n    }\n\n    return new Promise((resolve, reject) => {\n      session\n        .addNewMedia(mediaConstrants)\n        .then(medias => {\n          resolve({ session, medias })\n        })\n        .catch(reject)\n    })\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    create,\n    get,\n    getAll,\n    getWithMedia,\n    on,\n    once,\n    off\n  }\n}\n","import Track from '../models/track'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager / store for Track objects.\n * @method TrackManager\n */\nexport default function TrackManager () {\n  /**\n   * The Track objects being managed.\n   * @type {Map}\n   */\n  const tracks = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a Track object.\n   * @method get\n   * @param  {string} trackId\n   * @return {Track}\n   */\n  function get (trackId) {\n    return tracks.get(trackId)\n  }\n\n  /**\n   * Retrieve a list of Track objects.\n   * If no tracks are specified, will return all tracks.\n   * @method getTracks\n   * @param  {Array} [trackIds] List of tracks to retrieve.\n   * @return {Array}\n   */\n  function getTracks (trackIds) {\n    if (trackIds) {\n      return trackIds.map(trackId => tracks.get(trackId))\n    } else {\n      return Array.from(tracks.values())\n    }\n  }\n\n  /**\n   * Wraps a MediaStreamTrack into a Track object and adds\n   *    it to the manager.\n   * @method add\n   * @param  {MediaStreamTrack} track A native track object.\n   * @param  {MediaStream} stream\n   * @param  {boolean} isLocalTrack Specifies if the track parameter is a local one or a remote one.\n   * @return {Track} The added/wrapped Track object.\n   */\n  function add (track, stream, isLocalTrack) {\n    const targetTrack = tracks.get(track.id)\n\n    // Chrome issue: track.stream is outdated and needs to be updated to newStream.\n    // targetTrack.stream.active is false & targetTrack.stream.getTracks() gives us an empty array.\n    // stream.active is true & stream.getTracks() gives us the correct array of tracks.\n    // Set/update the new stream as the track's stream\n    if (targetTrack && !targetTrack.getStream().active && stream.active) {\n      // The track was previously registered and is being re-added with new stream\n      targetTrack.setStream(stream)\n      return targetTrack\n    } else if (targetTrack) {\n      // This track is already registered.\n      return targetTrack\n    } else {\n      // Wrap the track as a Track object.\n      const wrappedTrack = new Track(track, stream)\n\n      // Mark it as local (or remote) before we save it in the state\n      wrappedTrack.setIsLocal(isLocalTrack)\n\n      tracks.set(track.id, wrappedTrack)\n\n      // Remove the track from the manager when it ends.\n      wrappedTrack.once('ended', event => {\n        if (!event.isUnsolicited) {\n          remove({ trackId: track.id })\n        }\n      })\n\n      emitter.emit('add', wrappedTrack.id)\n      return wrappedTrack\n    }\n  }\n\n  /**\n   * Remove a Track from the manager.\n   * @method remove\n   * @param  {string} trackId\n   * @return {Boolean} Whether the Track existed (and hence removed).\n   */\n  function remove ({ trackId }) {\n    const track = get(trackId)\n    if (track) {\n      tracks.delete(trackId)\n      // Clean up any listeners.\n      track.off('ended', remove)\n      emitter.emit('remove', trackId)\n    }\n\n    return Boolean(track)\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    get,\n    getTracks,\n    add,\n    remove,\n    on,\n    once,\n    off\n  }\n}\n","/**\n * \"Manager\" for general WebRTC functions.\n * @class WebRTCManager\n */\nexport default function WebRTCManager (managers) {\n  /**\n   * Retrieve the list of available and supported codecs based on the browser's capabilities for sending media.\n   * @method getAvailableCodecs\n   * @param {string} kind The kind of media of which to get the supported codecs of.\n   * @return {Array|undefined}\n   */\n  function getAvailableCodecs (kind) {\n    const capabilities = RTCRtpSender.getCapabilities(kind)\n    if (capabilities && capabilities.codecs) {\n      return capabilities.codecs\n    }\n  }\n  /**\n   * The exposed API.\n   */\n  return {\n    getAvailableCodecs\n  }\n}\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Object to represent a \"media\" object.\n * Wraps a MediaStream object.\n * @class Media\n * TODO: Rename to Stream? Would be more straight-forward since Tracks can be\n *    managed directly (with trackManager), instead of through a \"Media\" object.\n */\nexport default function Media (nativeStream, isLocal) {\n  const log = logManager.getLogger('Media', nativeStream.id)\n  log.info(`Creating new ${isLocal ? 'local' : 'remote'} Media.`)\n\n  // Internal variables.\n  const id = nativeStream.id\n  const stream = nativeStream\n  const emitter = new EventEmitter()\n\n  /**\n   * Mapping of the IDs of this Media object's tracks to the Track object.\n   * @type {Map}\n   */\n  const tracks = new Map()\n\n  /**\n   * Retrieve a snapshot of the Media object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id: id,\n      tracks: Array.from(tracks.values()).map(track => track.getState()),\n      isLocal: isLocal\n    }\n  }\n\n  /**\n   * Add a track to this Media object.\n   * @method addTrack\n   * @param {Track} track The Track object to add to the Media object.\n   */\n  function addTrack (track) {\n    if (tracks.has(track.id)) {\n      log.debug(`Track (${track.id}) is already in Media (${id}).`)\n      return\n    }\n\n    // Add the native MediaStreamTrack to the MediaStream.\n    stream.addTrack(track.track)\n    // Add the Track to the Media object.\n    tracks.set(track.id, track)\n\n    /**\n     * When a track ends, remove it from the Media object then clean it up.\n     */\n    track.on('ended', () => {\n      const removedTrack = removeTrack(track.id)\n      // Might be from old already deleted media which has no tracks anymore.\n      if (removedTrack) {\n        emitter.emit('track:ended', {\n          mediaId: id,\n          trackId: removedTrack.id\n        })\n      }\n    })\n    // TODO: Emit event or return result?\n    emitter.emit('track:new', {\n      mediaId: id,\n      trackId: track.id\n    })\n\n    /**\n     * When a track is muted, we generate our own internal event\n     */\n    track.on('muted', event => {\n      const wrappedTrack = getTrack(event.trackId)\n      if (wrappedTrack && wrappedTrack.track && wrappedTrack.track.muted) {\n        // Emit our internal event.\n        // Note that wrappedTrack.id is same as wrappedTrack.track & event.trackId\n        emitter.emit('track:muted', {\n          mediaId: id,\n          trackId: event.trackId\n        })\n      }\n    })\n\n    /**\n     * When a track is unmuted, we generate our own internal event\n     */\n    track.on('unmuted', event => {\n      const wrappedTrack = getTrack(event.trackId)\n      if (wrappedTrack && wrappedTrack.track && wrappedTrack.track.muted === false) {\n        // Emit our internal event.\n        // Note that wrappedTrack.id is same as wrappedTrack.track & event.trackId\n        emitter.emit('track:unmuted', {\n          mediaId: id,\n          trackId: event.trackId\n        })\n      }\n    })\n  }\n\n  /**\n   * Remove a track from the Media object.\n   * @private\n   * @method removeTrack\n   * @param  {string} trackId The Track to remove.\n   */\n  function removeTrack (trackId) {\n    const track = getTrack(trackId)\n    if (track) {\n      tracks.delete(trackId)\n      return track\n    }\n  }\n\n  /**\n   * Stop all Tracks within this Media object.\n   * @method stop\n   */\n  function stop () {\n    getTracks().forEach(track => {\n      track.stop()\n    })\n    emitter.emit('media:stopped', this.id)\n  }\n\n  /**\n   * Retrieve the list of Track object this this Media object manages.\n   * @method getTracks\n   * @return {Array} The list of Track objects.\n   */\n  function getTracks () {\n    return Array.from(tracks.values())\n  }\n\n  /**\n   * Retrieve a specific Track object from within the Media object.\n   * @method getTrack\n   * @param  {String} trackId ID of the Track to retrieve.\n   * @return {Track}\n   */\n  function getTrack (trackId) {\n    return tracks.get(trackId)\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id,\n    tracks,\n    isLocal,\n    // Getter APIs.\n    getState,\n    getTracks,\n    getTrack,\n    // Create APIs.\n    addTrack,\n    // Cleanup APIs.\n    stop,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\nimport { setTransceiverDirection } from '../sdpUtils/transceiverUtils'\n\n// Helpers.\nimport { PEER, ICE_COLLECTION_CHECK_REASONS, ICE_COLLECTION_RESULT_TYPES } from '../constants'\n\n// SDP Helpers.\nimport sdpPipeline from '../sdpUtils/pipeline'\nimport { getSdpSessionId } from '../sdpUtils/extractors'\n\n// General Utils.\nimport { getBrowserDetails, mergeValues } from '../utils'\nimport iceCollectionScheduledCheck from '../Peer/utils/iceCollectionScheduledCheck'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\nimport { debounce } from 'lodash/fp'\nconst unfixedDebounce = debounce.convert({ fixed: false })\n\n/**\n * Object to represent a webRTC Session for a single peer.\n * \"Session\" being an abstraction of a webRTC connection between another peer.\n * Performs logic for initializing and connecting a peer connection.\n * Manages media added to / received from the peer connection.\n * @method Session\n */\nexport default function Session (id, managers, config = {}) {\n  const log = logManager.getLogger('Session', id)\n  log.info('Creating new Session.')\n\n  // Internal variables.\n  const sessionId = id\n  let peerId\n  const peerManager = managers.peerManager\n  const mediaManager = managers.mediaManager\n  const trackManager = managers.trackManager\n  const deviceManager = managers.deviceManager\n  const emitter = new EventEmitter()\n\n  // Session settings\n  const settings = {\n    dscpControls: {}\n  }\n\n  // This structure is used to remember the dtls role of a peer relative to some remote sdp.\n  // key: the remote sdp's session id (o= line).\n  // value: the dtls role that the current peer's local sdp has.\n  // This is needed because a remote SDP with the same sessionId as a previous one may reappear later on\n  //  (music-unhold scenario) and the roles will be expected to be the same.\n  const dtlsRoleRecord = new Map()\n\n  // The latest remote description successfully set, even if the Peer has\n  //    been recreated since it was set.\n  let latestRemoteDescription\n\n  // Create and initialize the peer\n  let peer = peerManager.create(config.peer)\n  if (peer) {\n    // The id of the created peer\n    peerId = peer.id\n    setupPeerEventHandlers(peer)\n  } else {\n    throw new Error(`Peer creation error in Session ${sessionId}.`)\n  }\n\n  /**\n   * Records the peer's dtlsRole if it hasn't been recorded yet and associates it with a remote sdp's sessionId.\n   * @method recordNewDtlsRole\n   */\n  function recordNewDtlsRole () {\n    const remoteSdpSessionId = getSdpSessionId(peer.remoteDescription.sdp)\n    if (!dtlsRoleRecord.get(remoteSdpSessionId)) {\n      dtlsRoleRecord.set(remoteSdpSessionId, peer.dtlsRole)\n    }\n  }\n\n  /**\n   * @property {Array} getLocalTracks List of active Track objects the Session has added locally.\n   */\n  function getLocalTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.localTracks\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * @property {Array} getAllLocalTracks List of all Track objects the Session has added locally.\n   */\n  function getAllLocalTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      // Get all local Track objects, not just the active ones.\n      return peer.senderTracks.map(nativeTrack => trackManager.get(nativeTrack.id))\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * @property {Array} getRemoteTracks List of active Track objects the Session has received remotely.\n   */\n  function getRemoteTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.remoteTracks\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * Retrieve a snapshot of the Session object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id: sessionId,\n      localTracks: getLocalTracks(),\n      remoteTracks: getRemoteTracks(),\n      allLocalTracks: getAllLocalTracks()\n    }\n  }\n\n  /**\n   * Setup a warm PeerConnection.\n   * @method warmup\n   */\n  function warmup () {}\n\n  /**\n   * Add Track objects to the Session.\n   * @method addTracks\n   * @param  {Array} tracks List of Track objects.\n   * @param  {Object} dscpTrackMapping Track - DSCPSettings map\n   */\n  function addTracks (tracks, dscpTrackMapping) {\n    const peer = peerManager.get(peerId)\n    // TODO: Better error handling?\n    if (peer) {\n      const addTrackOrReuseTransceiverPromises = tracks.map(track => {\n        return new Promise((resolve, reject) => {\n          // We try to find a reusable transceiver that we can attach the track to achieve the following:\n          // - Avoid transceiver pollution and needing to create a brand new transceiver to attach the track to.\n          // - Allow re-adding of the same track type that has been previously removed.\n          //   (This is so that we can still have re-adding of tracks when using the \"basic\" media API which imposes a 1-audio & 1-video limit)\n          const reusableTransceiver = peer.findReusableTransceiver(track.track.kind)\n\n          // If we can find a reusable transceiver, reuse it.\n          if (reusableTransceiver) {\n            reusableTransceiver.sender\n              // Replace the dummy track on the Sender with the actual track we want to send.\n              .replaceTrack(track.track)\n              .then(() => {\n                /*\n                 * Set the correct direction on the Transceiver to include that we now want to send:\n                 *   - sendrecv --> sendrecv\n                 *   - sendonly --> sendonly\n                 *   - recvonly --> sendrecv\n                 *   - inactive --> sendonly\n                 */\n                reusableTransceiver.direction = ['sendrecv', 'recvonly'].includes(reusableTransceiver.direction)\n                  ? 'sendrecv'\n                  : 'sendonly'\n\n                resolve(\n                  `Track (${track.track.kind} : ${track.id}) reused transceiver (mid: ${reusableTransceiver.mid}).`\n                )\n              })\n              .catch(err => {\n                log.error(err)\n                reject(err)\n              })\n          } else {\n            // To get around the current limitation described above, we use peerConnection's `addTrack` when we can't find a reusable transceiver.\n            // `addTrack` does one of the following when called:\n            // - Create a new transceiver and attaches the track and stream to the sender\n            // - Find and use an existing transceiver that has never been used to send data before and attach the track and stream to the sender.\n            peer.addTrack(track)\n            resolve(`Added track (${track.track.kind} : ${track.id}).`)\n          }\n        }).then(message => {\n          // Set event emitters and handlers\n          log.info(message)\n\n          // Indicate that the Session has a new Track.\n          emitter.emit('new:track', {\n            local: true,\n            trackId: track.id\n          })\n\n          settings.dscpControls = mergeValues(settings.dscpControls, dscpTrackMapping)\n\n          track.once('ended', ({ isUnsolicited }) => {\n            const peer = peerManager.get(peerId)\n            if (peer) {\n              // If the PeerConnection is closed, we don't need to worry about\n              //    removing the track (and it would throw an error anyway).\n              if (peer.signalingState !== 'closed') {\n                // If this track ending was expected, remove it from the Peer\n                //    immediately. Otherwise another operation will remove it.\n                if (!isUnsolicited) {\n                  peer.removeTrack(track.id)\n                }\n\n                // In the event this track ending was due to a device change\n                // we should update our device list before notifying the client that\n                // the track ended so they don't try to use a removed device\n                deviceManager.checkDevices().then(() => {\n                  deviceManager.emit('change')\n\n                  // Wait 50ms before emitting `track:ended` to allow the SDK\n                  // a chance to update the device list in state\n                  setTimeout(() => {\n                    emitter.emit('track:ended', {\n                      local: true,\n                      trackId: track.id,\n                      isUnsolicited\n                    })\n                  }, 50)\n                })\n\n                // Remove track from session dscp settings\n                if (settings.dscpControls.hasOwnProperty(track.id)) {\n                  log.debug(`Removing track ${track.id} from session dscp settings`)\n                  delete settings.dscpControls[track.id]\n                }\n              } else {\n                log.debug(\n                  `Received ended event for track ${track.id}, but its associated Peer ${peer.id} is closed. Ignoring this event...`\n                )\n              }\n            }\n          })\n        })\n      })\n\n      return Promise.all(addTrackOrReuseTransceiverPromises)\n    }\n  }\n\n  /**\n   * Creates a local SDP offer.\n   * @method createOffer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local offer.\n   * @return {Promise} Resolves with the offer.\n   */\n  function createOffer (options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      // Remove options.mediaDirections.\n      // This is because directions are now set in transceivers.\n      if (options.mediaDirections) {\n        setTransceiversDirection(options.mediaDirections)\n        delete options.mediaDirections\n      }\n\n      peer\n        .createOffer(options)\n        .then(offer => {\n          if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n            log.debug('Modifying local offer with SDP pipeline.')\n            offer.sdp = sdpPipeline.run(options.sdpHandlers, offer.sdp, {\n              type: offer.type,\n              endpoint: PEER.ENDPOINT.LOCAL\n            })\n          }\n\n          resolve(offer)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Sets a local SDP.\n   * @method setLocalDescription\n   * @param  {Object} description The description containing the SDP to set as the local description.\n   * @return {Promise} Resolves with the description.\n   */\n  function setLocalDescription (description) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setLocalDescription(description)\n        .then(() => {\n          // Record the peer's dtls role if setting a local answer.\n          if (description.type === 'answer') {\n            recordNewDtlsRole()\n          }\n\n          // Set any parameters on the peer's senders if applicable\n          setParameters()\n\n          // Resolve with the _current_ local description, which may be\n          //    different than the provided description due trickle ICE config.\n          resolve(peer.localDescription)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Rollback the local description.\n   * @method rollbackLocalDescription\n   * @return {Promise} Resolves with the rollbacked description or error.\n   */\n  function rollbackLocalDescription () {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setLocalDescription({ type: 'rollback' })\n        .then(() => {\n          resolve(peer.localDescription)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Parse the result of a call to the ice collection check function and act accordingly:\n   *  'StartCall' type - emit the negotiation ready event\n   *  'Error' type - end the session\n   *  'Wait' type - Schedule a callback to the ice collection check function\n   * @method iceCollectionCheckResult\n   * @param {Object} result The result of ice collection check function.\n   * @param {string} result.type The action to take.\n   * @param {number} result.wait How many ms to wait for the next scheduled check.\n   * @return {Promise} Resolves with the rollbacked description or error.\n   */\n  function iceCollectionCheckResult (result) {\n    const peer = peerManager.get(peerId)\n    if (!peer) {\n      return new Error(`Peer not found in Session ${sessionId}.`)\n    }\n\n    if (result.type === ICE_COLLECTION_RESULT_TYPES.START_CALL) {\n      log.info('Proceeding with the negotiation as instructed by the ice collection check.')\n      peer.isIceCollectionCheckOngoing = false\n      peer.emitter.emit('onnegotiationready')\n    } else if (result.type === ICE_COLLECTION_RESULT_TYPES.ERROR) {\n      log.info('Cleaning up session as instructed by the ice collection check.')\n      peer.isIceCollectionCheckOngoing = false\n      const localTracks = getLocalTracks()\n      localTracks.forEach(track => track.stop())\n      end()\n    } else if (result.type === ICE_COLLECTION_RESULT_TYPES.WAIT) {\n      // If `result.wait` is not set, then the ice collection check function is only waiting for either\n      //  ice candidate events or ice gathering state change events\n      if (result.wait) {\n        log.debug(`Setting a scheduled check for the ice collection check after ${result.wait} ms`)\n        peer.iceLoop = setTimeout(() => iceCollectionScheduledCheck(peer), result.wait)\n      }\n    } else {\n      log.info('Unexpected result type from ICE collection check function, ending call.')\n      peer.isIceCollectionCheckOngoing = false\n      const localTracks = getLocalTracks()\n      localTracks.forEach(track => track.stop())\n      end()\n    }\n  }\n\n  /**\n   * Sets parameters on the RTCRtpSenders\n   * @param {Object} mediaConstraints\n   */\n  function setParameters (mediaConstraints) {\n    // RTCRtpSender.setParameters is currently unsupported on Firefox (or at least not supported as it should be)\n    if (getBrowserDetails().browser === 'firefox') {\n      log.debug('Setting sender parameters not supported on Firefox; skipping.')\n      return\n    }\n\n    const promises = []\n\n    // Set the DSCPControls (i.e., network priorities) if set in the session's settings\n    for (const trackId in settings.dscpControls) {\n      promises.push(\n        new Promise((resolve, reject) => {\n          log.debug(`Setting networkPriority ${settings.dscpControls[trackId]} for sender with track ${trackId}`)\n          setNetworkPriority(trackId, settings.dscpControls[trackId])\n            .then(resolve)\n            .catch(reject)\n        })\n      )\n    }\n\n    return Promise.all(promises)\n  }\n\n  /**\n   * Sets the networkPriority in the peer connection's sender's encodings.\n   * @method setNetworkPriority\n   * @param {string} trackId The track ID\n   * @param {string} networkPriority The network priority value to set\n   * @return {Promise} Resolves with the setParameters()\n   */\n  function setNetworkPriority (trackId, networkPriority) {\n    const peer = peerManager.get(peerId)\n    const senders = peer.getSenders()\n\n    // search for a sender associated with the provided track id\n    const sender = senders.find(sender => sender.track.id === trackId)\n    if (sender) {\n      // Need to perform a getParameters() prior to a setParameters()\n      const parameters = sender.getParameters()\n      parameters.encodings.forEach(encoding => {\n        encoding.networkPriority = networkPriority\n      })\n      return sender.setParameters(parameters)\n    } else {\n      const errMsg = `Cannot find sender associated with trackId: ${trackId}`\n      log.info(errMsg)\n      return Promise.reject(errMsg)\n    }\n  }\n\n  /**\n   * Generates (and sets) a local SDP offer.\n   * @method generateOffer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local offer.\n   * @return {Promise} Resolves with the offer.\n   */\n  function generateOffer (options = {}) {\n    // Backwards compatibility: Create the offer and set it as one operation.\n    return new Promise((resolve, reject) => {\n      createOffer(options)\n        .then(setLocalDescription)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Replaces a specified transceiver's sender.track.\n   * @method replaceTrack\n   * @param {Object} newTrack The MediaStreamTrack we want to place into the sender.\n   * @param {Object} options Options for specifying which transceiver's sender should be replaced. They are ordered by priority.\n   * @param {String} [options.trackId] The transceiver with the specific sender.track.id.\n   * @param {String} [options.mid] The transceiver with the specific media id.\n   * @return {Object} A Promise object which is fulfilled once the track has been replaced\n   */\n  function replaceTrack (newTrack, options) {\n    const peer = peerManager.get(peerId)\n    const track = trackManager.get(newTrack.id)\n    return peer\n      .replaceTrack(track.track, options)\n      .then(() => {\n        track.once('ended', ({ isUnsolicited }) => {\n          const peer = peerManager.get(peerId)\n          if (peer) {\n            // If the PeerConnection is closed, we don't need to worry about\n            //    removing the track (and it would throw an error anyway).\n            if (peer.signalingState !== 'closed') {\n              // If this track ending was expected, remove it from the Peer\n              //    immediately. Otherwise another operation will remove it.\n              if (!isUnsolicited) {\n                peer.removeTrack(track.id)\n              }\n\n              emitter.emit('track:ended', {\n                local: true,\n                trackId: track.id,\n                isUnsolicited\n              })\n              // Remove track from session dscp settings\n              if (settings.dscpControls.hasOwnProperty(track.id)) {\n                log.debug(`Removing track ${track.id} from session dscp settings`)\n                delete settings.dscpControls[track.id]\n              }\n            } else {\n              log.debug(\n                `Received ended event for track ${track.id}, but its associated Peer ${peer.id} is closed. Ignoring this event...`\n              )\n            }\n          }\n        })\n\n        emitter.emit('track:replaced', {\n          oldTrackId: options.trackId,\n          trackId: newTrack.id\n        })\n      })\n      .catch(err => err)\n  }\n\n  /**\n   * Sets the direction of transceivers.\n   * @method setTransceiversDirection\n   * @param {Object} mediaDirections Options for specifying the directions we want to set for certain medias (i.e., audio and video)\n   * @param {Array} [mediaDirections.audio] The direction we want to set of the transceivers with audio tracks\n   * @param {Array} [mediaDirections.video] The direction we want to set of the transceivers with video tracks\n   * @return {undefined}\n   */\n  function setTransceiversDirection (mediaDirections) {\n    const peer = peerManager.get(peerId)\n\n    // Set EVERY Transceiver's direction. This includes those with active tracks\n    //    and those without.\n    peer.getTransceivers().forEach(transceiver => {\n      const kind = transceiver.receiver.track.kind\n      setTransceiverDirection(transceiver, mediaDirections[kind])\n    })\n  }\n\n  /**\n   * Processes (and sets) a remote SDP offer.\n   * @method processOffer\n   * @param  {RTCSessionDescription} offer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the remote offer.\n   * @return {Promise}\n   */\n  function processOffer (offer, options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n        log.debug('Modifying remote offer with SDP pipeline.')\n        offer.sdp = sdpPipeline.run(options.sdpHandlers, offer.sdp, {\n          type: offer.type,\n          endpoint: PEER.ENDPOINT.REMOTE\n        })\n      }\n\n      peer\n        .setRemoteDescription(offer)\n        .then(() => {\n          // Set the offer as the latest remote description.\n          latestRemoteDescription = offer\n          resolve()\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Creates a local SDP answer.\n   * @method createAnswer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local answer.\n   * @return {Promise} Resolves with the answer.\n   */\n  function createAnswer (options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      // Remove options.mediaDirections.\n      // This is because directions are now set in transceivers.\n      if (options.mediaDirections) {\n        setTransceiversDirection(options.mediaDirections)\n        delete options.mediaDirections\n      }\n\n      // Set the dtlsRole here if the following are true:\n      // - It previously existed for this specific remote sdp.\n      // - It hasn't been set on a recreated peer yet.\n      const remoteSdpSessionId = getSdpSessionId(peer.remoteDescription.sdp)\n      const previousDtlsRole = dtlsRoleRecord.get(remoteSdpSessionId)\n      if (!peer.dtlsRole && previousDtlsRole) {\n        peer.dtlsRole = previousDtlsRole\n      }\n\n      peer\n        .createAnswer(options)\n        .then(answer => {\n          if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n            log.debug('Modifying local answer with SDP pipeline.')\n            answer.sdp = sdpPipeline.run(options.sdpHandlers, answer.sdp, {\n              type: answer.type,\n              endpoint: PEER.ENDPOINT.LOCAL\n            })\n          }\n          resolve(answer)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Generates (and sets) a local SDP answer.\n   * @method generateAnswer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local answer.\n   * @return {Promise} Resolves with the answer.\n   */\n  function generateAnswer (options = {}) {\n    // For backwards compatibility: Should use other APIs directly.\n    return new Promise((resolve, reject) => {\n      createAnswer(options)\n        .then(setLocalDescription)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Processes (and sets) a remote SDP answer.\n   * @method processAnswer\n   * @param  {RTCSessionDescription} answer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the remote answer.\n   * @return {Promise}\n   */\n  function processAnswer (answer, options = {}) {\n    if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n      log.debug('Modifying remote answer with SDP pipeline.')\n      answer.sdp = sdpPipeline.run(options.sdpHandlers, answer.sdp, {\n        type: answer.type,\n        endpoint: PEER.ENDPOINT.REMOTE\n      })\n    }\n\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setRemoteDescription(answer)\n        .then(() => {\n          // Record the peer's dtls role.\n          recordNewDtlsRole()\n\n          // Set the answer as the latest remote description.\n          latestRemoteDescription = answer\n\n          resolve()\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Add an ICE candidate from the remote endpoint.\n   * @method addIceCandidate\n   * @param  {RTCIceCandidate} candidate\n   * @param  {Object} [options]\n   * @param  {string} [options.label] The Peer to perform the operation on.\n   * @return {Promise}\n   */\n  function addIceCandidate (candidate, options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .addIceCandidate(candidate)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * End the Session.\n   * @method end\n   */\n  function end () {\n    log.info('Ending Session.')\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      peer.close()\n    }\n    emitter.emit('session:ended', sessionId)\n  }\n\n  /**\n   * Removes specified Track objects from the Session.\n   * @method removeTrack\n   * @param  {Array} trackIds List of IDs of Track objects to remove.\n   */\n  function removeTracks (trackIds) {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      // Get the list of all tracks on the Peer (event ended ones).\n      const allLocalTracks = peer.senderTracks\n      trackIds.forEach(trackId => {\n        if (allLocalTracks.findIndex(track => track.id === trackId) > -1) {\n          peer.removeTrack(trackId)\n          // Remove the track from the session dscp settings\n          if (settings.dscpControls.hasOwnProperty(trackId)) {\n            log.debug(`Removing track ${trackId} from session dscp settings`)\n            delete settings.dscpControls[trackId]\n          }\n        }\n      })\n    }\n  }\n\n  /*\n   * Restarts ICE connection\n   * @method restartIce\n   */\n  function restartIce () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      peer.restartIce()\n    }\n  }\n\n  /*\n   * Get the DTLS role of the Peer\n   * @method getDtlsRole\n   * @return {string} The DTLS role of the Peer\n   */\n  function getDtlsRole () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.dtlsRole\n    }\n  }\n\n  /**\n   * Send DTMF tones on specified Track object from the Session.\n   * @method sendDTMF\n   * @param {Object} options The DTMF options.\n   * @param {string} options.tone DTMF tone to send. Valid values are [0,1,2,3,4,5,6,7,8,9,#].\n   * @param {number} [options.duration=100] The amount of time, in milliseconds, that each DTMF tone should last.\n   * @param {number} [options.intertoneGap=70] The length of time, in milliseconds, to wait between tones.\n   * @param {Object} [sendOptions] The send options.\n   * @param {func} [sendOptions.callback] Optional callback for tone event .\n   * @param {string} [sendOptions.trackId] The trackId of the sender to use.\n   * @return {boolean} The success or fail indicator\n   */\n  function sendDTMF (DTMFOptions, sendOptions = {}) {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.sendDTMF(DTMFOptions, sendOptions)\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Retrieve RTCStatsReport from a sender.\n   * @method getStats\n   * @param  {string} trackId The track id associated with a sender.\n   * @return {Promise}\n   */\n  function getStats (trackId) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n        return\n      }\n      peer\n        .getStats(trackId)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * Sets up event handlers on a given peer.\n   * @method setupPeerEventHandlers\n   * @param {PeerConnection} targetPeer The peer to set event handlers on.\n   */\n  function setupPeerEventHandlers (targetPeer) {\n    targetPeer.oniceconnectionstatechange = event => {\n      emitter.emit('peer:iceConnectionStateChange', {\n        iceConnectionState: targetPeer.iceConnectionState\n      })\n    }\n\n    // TODO: Use `uniqueLabel` when setting event listeners (and bubbling events).\n    // When the peer gets an ICE candidate, emit it as\n    //  a message to be sent to the other end.\n    targetPeer.onicecandidate = event => {\n      emitter.emit('onicecandidate', {\n        candidate: event.candidate\n      })\n    }\n\n    /*\n     * Ice Collection Check Events:\n     *\n     * Emit an event for the session channel everytime:\n     *  - the ICE gathering state changes\n     *  - an ICE candidate is collected\n     *  - it is time for a scheduled call to the collection check function\n     *\n     */\n    targetPeer.onicegatheringstatechange = event => {\n      // Only emit the event if we are in an ongoing ice collection check loop\n      if (targetPeer.isIceCollectionCheckOngoing) {\n        // Clear any previous timeout/loop\n        if (targetPeer.iceLoop) {\n          clearTimeout(targetPeer.iceLoop)\n          targetPeer.iceLoop = undefined\n        }\n        emitter.emit('peer:iceGatheringStateChange', {\n          reason: ICE_COLLECTION_CHECK_REASONS.ICE_GATHERING_STATE_CHANGE,\n          iceCollectionDuration: targetPeer.iceTimer.timeFromStart(),\n          iceCandidates: targetPeer.iceCandidates,\n          iceGatheringState: targetPeer.iceGatheringState,\n          rtcPeerConnectionConfig: targetPeer.config,\n          rtcLocalSessionDescription: targetPeer.localDescription\n        })\n      }\n    }\n\n    // Debounce the listener for the ice candidate event since they can be emitted quite quickly\n    //  one after another. Options: leading:true will ensure the first invocation always occur, and\n    //  trailing:false (default) ensures the last invocation will occur after the delay as appropriate.\n    targetPeer.on(\n      'iceCandidateCollected',\n      unfixedDebounce(50)(\n        iceCollectionInfo => {\n          // Only emit the event if we are in an ongoing ice collection check process\n          if (targetPeer.isIceCollectionCheckOngoing) {\n            // Clear any previous timeout/loop\n            if (targetPeer.iceLoop) {\n              clearTimeout(targetPeer.iceLoop)\n              targetPeer.iceLoop = undefined\n            }\n            emitter.emit('peer:iceCandidateCollected', {\n              reason: ICE_COLLECTION_CHECK_REASONS.NEW_CANDIDATE,\n              ...iceCollectionInfo\n            })\n          }\n        },\n        { leading: true }\n      )\n    )\n\n    targetPeer.on('scheduledCheck', iceCollectionInfo => {\n      // Only emit the event if we are in an ongoing ice collection check loop\n      if (targetPeer.isIceCollectionCheckOngoing) {\n        // Clear any previous timeout/loop\n        if (targetPeer.iceLoop) {\n          clearTimeout(targetPeer.iceLoop)\n          targetPeer.iceLoop = undefined\n        }\n        emitter.emit('peer:iceCollectionScheduledCheck', {\n          reason: ICE_COLLECTION_CHECK_REASONS.SCHEDULED,\n          ...iceCollectionInfo\n        })\n      }\n    })\n\n    // Handle when the Peer receives a new remote track.\n    targetPeer.ontrack = track => {\n      let media = mediaManager.get(track.getStream().id)\n      if (media) {\n        // Add the new Track to its Media object.\n        media.addTrack(track)\n      } else {\n        // Create a new Media object using the Track.\n        media = mediaManager.createRemote(track.getStream(), [track])\n      }\n\n      track.once('ended', () => {\n        emitter.emit('track:ended', {\n          local: false,\n          trackId: track.id,\n          // If a remote track is ended, then a remote action triggered it. Consider\n          //    this solicited since we don't want to take an action here.\n          isUnsolicited: false\n        })\n      })\n\n      const { kind } = track.getState()\n      log.info(`Received new track (${kind} : ${track.id})`)\n\n      // Indicate that the Session has a new Track.\n      emitter.emit('new:track', {\n        local: false,\n        trackId: track.id\n      })\n    }\n  }\n\n  /**\n   * Creates a new peer and replaces the current peer being used by this session.\n   *     This will close the previous Peer, stopping any media being sent/received on it.\n   * @method recreatePeer\n   */\n  function recreatePeer () {\n    const oldPeer = peer\n    const newPeer = peerManager.create(config.peer)\n    if (newPeer) {\n      // The id of the created peer\n      peerId = newPeer.id\n      log.debug(`Recreated Peer with ID: ${peerId}`)\n      peer = newPeer\n\n      // Copy tracks\n      oldPeer.localTracks.forEach(oldLocalTrack => {\n        newPeer.addTrack(oldLocalTrack)\n      })\n\n      // Set event handlers\n      setupPeerEventHandlers(newPeer)\n\n      // Close the old peer\n      oldPeer.close()\n    } else {\n      throw new Error(`Peer creation error in Session ${sessionId}.`)\n    }\n  }\n\n  function getPeer () {\n    return peer\n  }\n\n  function getRemoteDescription () {\n    return peer.remoteDescription\n  }\n\n  function getLatestRemoteDesc () {\n    return latestRemoteDescription\n  }\n\n  /**\n   * Given a list of media section IDs, return the list of remote track IDs from\n   *     the Transceivers that the media sections represent.\n   * @param {Array<string>} mids List of media section IDs.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getRemoteTrackIdsFromTransceivers (mids) {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    // Iterate over every transceiver\n    transceivers.forEach(transceiver => {\n      // If the transceiver's mid value is in our list of mids, add it to the\n      //    remoteTrackIds array to be returned.\n      // The `if` condition looks sketchy because we are comparing a string to\n      //    a number.\n      if (mids.some(mid => mid + '' === transceiver.mid)) {\n        const id = transceiver.receiver.track.id\n        remoteTrackIds.push(id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Get all active, incoming remote tracks that are part of the Session.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getIncomingRemoteTrackIds () {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    transceivers.forEach(transceiver => {\n      // Check the `direction` of the transceiver.\n      // For incoming calls, the `currentDirection` property will not be set since that transceiver\n      // is not yet fully negotiated.\n      const isReceiving =\n        transceiver.mid !== null &&\n        transceiver.direction.includes('recv') &&\n        transceiver.receiver.track.readyState === 'live'\n      if (isReceiving) {\n        remoteTrackIds.push(transceiver.receiver.track.id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Get all active, remote tracks that are part of the Session.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getActiveRemoteTrackIds () {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    transceivers.forEach(transceiver => {\n      // transceiver.mid !== null --> The Transceiver is in the SDP.\n      // currentDirection --> The Transceiver has been negotiated.\n      // currentDirection.includes(recv) --> It has a remote track.\n      // track.readyState === live ---> It is active (...not thorough).\n      const isReceiving =\n        transceiver.mid !== null &&\n        transceiver.currentDirection &&\n        transceiver.currentDirection.includes('recv') &&\n        transceiver.receiver.track.readyState === 'live'\n      if (isReceiving) {\n        remoteTrackIds.push(transceiver.receiver.track.id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Session method to load an audio file and insert it into the Session by\n   *    replacing an existing audio track temporarily.\n   *\n   * Provides feedback at two points in time:\n   *    1) When the audio file starts playing, or fails to start playing.\n   *        Done by fulfilling the method's Promise.\n   *    2) When the audio file ends playing, or encounters an error while playing.\n   *        Done by emitting an event.\n   *\n   * If the original audio track is replaced, but cannot be put back on the Session afterwards,\n   *    it is considered an error scenario. To \"fix\" this, the method will stop that track.\n   *    this is meant to avoid it being a \"ghost\" track. It will:\n   *        1) Clean-up resources and release the microphone,\n   *        2) Allow an application to handle it the same as any other track ending unsolicated.\n   *\n   * @method insertAudio\n   * @param {string} filePath\n   * @return {Promise} Resolves when audio file starts playing. Rejects if fails to start.\n   */\n  function insertAudio (filePath) {\n    return new Promise((resolve, reject) => {\n      let isReady = false\n      /*\n       * `playIfReady` needs to be called twice to start playing the audio file.\n       *    Once to ensure it \"can play through\".\n       *    Once to ensure the media will be streamed through the Peer.\n       */\n      function playIfReady () {\n        if (isReady) {\n          audio.play()\n        } else {\n          isReady = true\n        }\n      }\n\n      /*\n       * End the original track from the Call, but pretend that it was \"unsolicited\". This\n       *    makes it appear the same as if something other than the SDK stopped the track\n       *    so that it falls into the same error-handling scenario as them.\n       */\n      function endOriginalTrack () {\n        log.info(`Stopping track ${oldTrack.id} to release the microphone after error.`)\n        oldTrack.track.stop()\n        oldTrack.track.onended(new Event('track-error'))\n      }\n\n      // Get the audio track we will be replacing temporarily.\n      const peer = peerManager.get(peerId)\n      const oldTrack = peer.localTracks.find(track => {\n        return track.track.kind === 'audio' && track.track.readyState === 'live'\n      })\n      if (!oldTrack) {\n        reject(new Error('No valid local audio track found to insert audio file on.'))\n      }\n      // The ID of the track currently on the Call.\n      let currentTrackId = oldTrack.id\n\n      const audio = new Audio(filePath)\n      // Set the volume to 20%.\n      audio.volume = 0.2\n\n      // Create a source node from that MediaElement.\n      const context = new AudioContext()\n      const source = context.createMediaElementSource(audio)\n\n      // Connect the source node to the destination (which has a MediaStream).\n      const dest = context.createMediaStreamDestination()\n      source.connect(dest)\n      const audioTrack = dest.stream.getAudioTracks()[0]\n\n      /*\n       * Replace the existing audio track on the Peer with the file's track.\n       * When it has been replaced, that is 1 of 2 conditions to be met before playing it.\n       */\n      peer\n        .replaceTrack(audioTrack, { trackId: oldTrack.id })\n        .then(() => {\n          // The original track has successfully been replaced; take note of that.\n          currentTrackId = audioTrack.id\n          log.debug('Replaced audio from file media.')\n          playIfReady()\n        })\n        .catch(err => {\n          log.info(`Failed to replace audio with file media: ${err.message}.`)\n          reject(new Error('Failed to replace audio track with file media.'))\n        })\n\n      /*\n       * Audio event listeners:\n       *    - canplaythrough: Enough of the file has been loaded that buffering isn't needed.\n       *    - play: The file has started playing.\n       *    - error: An error was encountered.\n       *    - ended: The file has stopped playing.\n       *\n       * From our usage of `audio`:\n       *    - canplaythrough: Happens once, before we start playing the file.\n       *    - play: Indicates we have started playing the file.\n       *    - error: Most likely that the file could not start playing because `new Audio(filePath)`\n       *        failed. Could also happen mid-play, but unknown.\n       *    - ended: Indicates the file reached the end (successfully).\n       *\n       * Ref: https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement\n       */\n\n      // When the track \"can play through\", that is 1 of 2 conditions to be met before playing it.\n      audio.oncanplaythrough = () => {\n        log.debug('File media ready to be played.')\n        playIfReady()\n      }\n\n      // When the file start's playing, resolve the `insertAudio` promise to provide feedback.\n      audio.onplay = () => {\n        log.debug(`Audio file started playing. Duration of ${audio.duration} seconds.`)\n        resolve(audio.duration)\n      }\n\n      // On an error, reject the `insertAudio` promise to provide feedback.\n      audio.onerror = () => {\n        log.info('Encountered error trying to play audio file.')\n\n        // If the original track is not on the Peer when this error happened,\n        //    try to put it back before rejecting the `insertAudio` method.\n        if (currentTrackId !== oldTrack.id) {\n          peer.replaceTrack(oldTrack.track, { trackId: audioTrack.id }).catch(() => {\n            // If we can't \"rollback\" the operation, end the original track\n            //    to prevent it from becoming a \"ghost\" track.\n            endOriginalTrack()\n          })\n        }\n        // Reject the promise if it hasn't been fulfilled.\n        reject(new Error('Failed to play audio file.'))\n        // Emit a failure event in case the promise has already been fulfilled.\n        emitter.emit('audioFileEnded', false)\n      }\n\n      // When the file ends, replace the original audio track back on the Peer.\n      audio.onended = event => {\n        log.debug('Audio file ended playing.')\n\n        peer\n          .replaceTrack(oldTrack.track, { trackId: audioTrack.id })\n          .then(() => {\n            log.debug('Replaced original audio track.')\n            emitter.emit('audioFileEnded', true)\n          })\n          .catch(err => {\n            log.info('Failed to replace original audio track.', err)\n            endOriginalTrack()\n            // Failed to replace the original audio track.\n            emitter.emit('audioFileEnded', false)\n          })\n      }\n    })\n  }\n\n  /**\n   * Special-case method that combines getUserMedia and adding the tracks to\n   *    the Session.\n   * The goal of combining these methods is for Proxy-mode, to reduce the number\n   *    of times messages need to cross the channel. This function reduces the\n   *    trips from 3 (createLocal, getTracks, addTracks) to 1 (addNewMedia).\n   * @method addNewMedia\n   * @param {Object} mediaConstraints\n   * @return {Promise}\n   */\n  function addNewMedia (constraints) {\n    /*\n     * Helper method that wraps the getUserMedia functions on the MediaManager.\n     *    The wrapper is to prevent them from rejecting, so even a failure will\n     *    resolve the promise returned by this function. This allows the calling\n     *    function to wait for all promises to settle, so that media can be\n     *    cleaned-up if need be. (For some reason Promise.allSettled was causing\n     *    errors...)\n     * @method getMedia\n     */\n    function getMedia (constraints) {\n      const { audio, video, screen } = constraints\n\n      return new Promise(resolve => {\n        if (audio || video) {\n          mediaManager\n            .createLocal({ audio, video })\n            .then(media => {\n              resolve({ status: 'fulfilled', value: media })\n            })\n            .catch(err => {\n              resolve({ status: 'rejected', value: err })\n            })\n        } else if (screen) {\n          mediaManager\n            .createLocalScreen({ screen })\n            .then(media => {\n              resolve({ status: 'fulfilled', value: media })\n            })\n            .catch(err => {\n              resolve({ status: 'rejected', value: err })\n            })\n        }\n      })\n    }\n\n    return new Promise((resolve, reject) => {\n      const { audio, video, screen } = constraints\n      let mediaProm, screenProm\n\n      if (audio || video) {\n        mediaProm = getMedia({ audio, video })\n      }\n      if (screen) {\n        screenProm = getMedia({ screen })\n      }\n\n      Promise.all([mediaProm, screenProm]).then(results => {\n        if (results.some(result => result && result.status === 'rejected')) {\n          // At least one promise rejected. Clean-up any successful media, then\n          //    reject the original promise.\n          const medias = results.filter(result => result && result.status === 'fulfilled').map(result => result.value)\n\n          Promise.all(medias.map(media => media.stop)).then(() => {\n            const err = results.find(result => result.status === 'rejected').value\n\n            let errMessage\n            if (err.name === 'OverconstrainedError') {\n              errMessage = `Failed to get media due to constraint: ${err.constraint}.`\n            } else {\n              errMessage = `Failed to get media => Name: ${err.name}; Error Message :${err.message}.`\n            }\n            log.info(errMessage)\n\n            const newErr = new Error(errMessage)\n            newErr.name = err.name\n            reject(newErr)\n          })\n        } else {\n          // All media was gathered successfully.\n          const tracks = results.reduce((acc, cur) => {\n            // Add the tracks from the current media object to the accumulator.\n            //    If cur is undefined, just return the accumulator.\n            return cur ? acc.concat(cur.value.getTracks()) : acc\n          }, [])\n\n          addTracks(tracks)\n            .then(() => {\n              const medias = results.filter(result => result && result.value).map(result => result.value)\n              resolve(medias)\n            })\n            .catch(reject)\n        }\n      })\n    })\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id: sessionId,\n    config,\n    // Getter APIs.\n    get peer () {\n      return getPeer()\n    },\n    getState,\n    get localTracks () {\n      return getLocalTracks()\n    },\n    get remoteTracks () {\n      return getRemoteTracks()\n    },\n    get allLocalTracks () {\n      return getAllLocalTracks()\n    },\n    warmup,\n    addTracks,\n    removeTracks,\n    replaceTrack,\n    setTransceiversDirection,\n    // Negotiation APIs.\n    createOffer,\n    createAnswer,\n    setLocalDescription,\n    getRemoteDescription,\n    getLatestRemoteDesc,\n    generateOffer,\n    processOffer,\n    generateAnswer,\n    processAnswer,\n    iceCollectionCheckResult,\n    // Other APIs.\n    recreatePeer,\n    rollbackLocalDescription,\n    addIceCandidate,\n    restartIce,\n    getDtlsRole,\n    end,\n    sendDTMF,\n    getStats,\n    setParameters,\n    getRemoteTrackIdsFromTransceivers,\n    getIncomingRemoteTrackIds,\n    getActiveRemoteTrackIds,\n    insertAudio,\n    addNewMedia,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Wrapper object for a native MediaStreamTrack object.\n * Ref: https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack\n * @method Track\n */\nexport default function Track (mediaTrack, mediaStream) {\n  const log = logManager.getLogger('Track', mediaTrack.id)\n  log.info(`Creating new ${mediaTrack.kind} Track.`)\n\n  // Internal variables.\n  const id = mediaTrack.id\n  const track = mediaTrack\n  let stream = mediaStream\n  let isLocalTrack\n  let constraints = {}\n  const emitter = new EventEmitter()\n\n  /**\n   * When a track ends, the Track itself doesn't do anything about it.\n   * It \"bubbles\" the event up to be handled at a higher level.\n   */\n  track.onended = event => {\n    // Check whether this function was called because a native event was emitted\n    //    or if it was called manually by the SDK.\n    const isNative = event instanceof Event\n\n    const endpoint = isLocalTrack ? 'local' : 'remote'\n    const trigger = isNative ? 'unsolicited' : 'solicited'\n    log.debug(`Track ended (${endpoint}, ${trigger}).`, event)\n\n    emitter.emit('ended', {\n      trackId: track.id,\n      /*\n       * If an event triggered this listener, then it was a remote notification\n       *    (for remote track) or browser action (for local track) that caused it.\n       *    If it was a local track, then the track ending was not part of a\n       *    renegotiation and something will need to handle this situation.\n       *\n       * Otherwise, the SDK called `track.onended()` when we stopped the track as\n       *    part of an operation. The operation should handle the track being\n       *    ended since it was solicited.\n       */\n      isUnsolicited: isNative\n    })\n  }\n\n  /**\n   * When a track is muted, we forward this to any listener.\n   * This handler is typically invoked by actions triggered outside the\n   * direct control of the webrtc SDK.\n   */\n  track.onmute = event => {\n    log.debug('Event emitted: ', event)\n    emitter.emit('muted', {\n      trackId: track.id,\n      mediaId: stream.id,\n      isLocal: isLocalTrack\n    })\n  }\n\n  /**\n   * When a track is unmuted, we forward this to any listener.\n   * This handler is typically invoked by actions triggered outside the\n   * direct control of the webrtc SDK.\n   */\n  track.onunmute = event => {\n    log.debug('Event emitted: ', event)\n    emitter.emit('unmuted', {\n      trackId: track.id,\n      mediaId: stream.id,\n      isLocal: isLocalTrack\n    })\n  }\n\n  function setIsLocal (isLocal) {\n    isLocalTrack = isLocal\n  }\n\n  function isLocal () {\n    return isLocalTrack\n  }\n\n  function setStream (newStream) {\n    stream = newStream\n  }\n  function getStream () {\n    return stream\n  }\n\n  /**\n   * Retrieve a snapshot of the Track object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id,\n      streamId: stream.id,\n      kind: track.kind,\n      isLocal: isLocalTrack,\n      label: track.label,\n      muted: track.muted,\n      enabled: track.enabled,\n      state: track.readyState\n    }\n  }\n\n  /**\n   * Set this Track to be disabled and disallow the Track to render the source stream.\n   * @method mute\n   */\n  function mute () {\n    track.enabled = false\n  }\n\n  /**\n   * Set this Track to be enabled and allow the Track to render the source stream.\n   * @method unmute\n   */\n  function unmute () {\n    track.enabled = true\n  }\n\n  /**\n   * Calls native stop() function to deassociate the source and the track.\n   * @method stop\n   */\n  function stop () {\n    if (track.readyState === 'ended') {\n      log.debug('Track already ended.')\n      return\n    }\n\n    track.stop()\n    /**\n     * Treat stopping the track the same as it being ended.\n     * Normally, onended is not triggered when `stop` is called, only when it is\n     *    \"remotely ended\".\n     */\n    track.onended()\n  }\n\n  /**\n   * Gets the currently set constraints for the track.\n   * @method getConstraints\n   * @return {Object}\n   */\n  function getConstraints () {\n    return constraints\n  }\n\n  /**\n   * Set the values for constrainable properties of the track.\n   * @method applyConstraints\n   * @param  {Object} constraints The list of constrainable properties.\n   */\n  function setConstraints (constr) {\n    constraints = constr\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id,\n    // Track APIs.\n    getState,\n    mute,\n    unmute,\n    stop,\n    getConstraints,\n    setConstraints,\n    // Event APIs.\n    on,\n    off,\n    once,\n    // The native track and stream was accessible before, so it was\n    //    used when it probably shouldn't have been.\n    // TODO: Find a better solution.\n    track,\n    setStream,\n    getStream,\n    setIsLocal,\n    isLocal\n  }\n}\n","/**\n * Extracts the session ID from the SDP.\n * Session ID is located in the o= line.\n * Ref: https://tools.ietf.org/html/rfc4566#section-5.2\n * @method getSdpSessionId\n * @param  {string} sdp A valid SDP string.\n * @return {string} The SDP's session ID.\n */\nexport function getSdpSessionId (sdp) {\n  const oLine = sdp.match(/o=.*/gm)\n\n  if (oLine && oLine[0]) {\n    return oLine[0].split(' ')[1]\n  }\n}\n","import { logManager } from '../logs'\n// Constants.\nimport { MEDIA_DIR } from '../constants'\n\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * SDP handler to remove the trickle ICE option from media groups.\n * Modifies the SDP so it claims to not support trickle ICE.\n * @method removeTrickleIce\n * @param  {Object} sdp\n * @param  {Object} info\n * @param  {String} info.type\n * @param  {String} info.endpoint\n * @param  {Object} originalSdp\n * @return {Object}\n */\nexport function removeTrickleIce (sdp, info, originalSdp) {\n  sdp.media.forEach(media => {\n    if (media.iceOptions === 'trickle') {\n      log.debug(`Removing trickle ICE option from ${media.type} media.`)\n      delete media.iceOptions\n    }\n  })\n\n  return sdp\n}\n\n/**\n * SDP handler to delete the bundle groupings line from the SDP.\n * PeerConnections do not have an option to completely disable bundling, so\n *    manually removing the line from the SDP is needed to prevent bundling.\n * @method removeBundling\n * @param  {Object}     sdp           The session description.\n * @param  {Object}     info          Information about the session description.\n * @param  {RTCSdpType} info.type     The session description's type.\n * @param  {String}     info.endpoint Which end of the connection created the SDP.\n * @param  {Object}     originalSdp   The original SDP before any modifications.\n * @return {Object}\n */\nexport function removeBundling (sdp, info, originalSdp) {\n  if (sdp.groups) {\n    log.debug('Removing SDP bundling groups.')\n    delete sdp.groups\n  }\n\n  return sdp\n}\n\n/**\n * Currying function to create an SDP handler.\n * The SDP handler modifies the SDP to change the direction of media.\n * @method changeMediaDirection\n * @param  {Object} mediaDirections\n * @param  {string} [audio] Direction to set for audio.\n * @param  {string} [video] Direction to set for video.\n * @return {Function} SDP handler.\n */\nexport function changeMediaDirection ({ audio, video }) {\n  function isValid (direction) {\n    return Object.values(MEDIA_DIR).includes(direction)\n  }\n\n  /**\n   * SDP handler to change the direction of media a-lines.\n   */\n  return (sdp, info, originalSdp) => {\n    sdp.media.forEach(media => {\n      if (media.type === 'audio' && isValid(audio)) {\n        media.direction = audio\n      } else if (media.type === 'video' && isValid(video)) {\n        media.direction = video\n      }\n    })\n    return sdp\n  }\n}\n\n/**\n * SDP handler to modify the DTLS role of a locally generated answer SDP.\n *\n * The point of this SDP handler is to avoid a DTLS role conflict during a\n *    renegotiation. A role conflict occurs when DTLS roles have been selected\n *    during initial negotiation, but during renegotiation, the answerer selects\n *    the opposite role than previously used.\n *\n * This handler only needs to be used when the Peer is generating an answer SDP.\n *    That is the only point when a conflicting role can be chosen.\n *\n * This handler prevents the role changing by comparing the SDP's role with the\n *    role that the Peer previously selected. If they conflict, the Peer's\n *    previous role is used.\n *\n * Related stories: KAA-1426, KAA-1562.\n * References: https://groups.google.com/forum/#!topic/discuss-webrtc/gsw3OEAwNKo\n * @method preventDtlsRoleChange\n * @param  {Object}     newSdp          The session description.\n * @param  {Object}     info            Information about the session description.\n * @param  {RTCSdpType} info.type       The session description's type.\n * @param  {string}     info.endpoint   Which end of the connection created the SDP.\n * @param  {string}     [info.dtlsRole] The previously select DTLS role of the Peer.\n * @param  {Object}     originalSdp     The sdp in its initial state.\n * @return {Object}                     The modified SDP.\n */\nexport function preventDtlsRoleChange (newSdp, info, originalSdp) {\n  /**\n   * This SDP handler only affects local answer SDPs.\n   *  - Only local because we are trying to prevent role conflict issues caused\n   *        by the answerer choosing the \"wrong\" role during a renegotiation.\n   *  - Only answer because offers are always actpass.\n   */\n  if (info.endpoint === 'local' && info.type === 'answer') {\n    for (const mLine of newSdp.media) {\n      /**\n       * If the generated DTLS role is different than what the Peer expects,\n       *    replace it. The Peer expects the DTLS role to stay the same\n       *    throughout renegotiations.\n       */\n      if (mLine.setup && info.dtlsRole && mLine.setup !== info.dtlsRole) {\n        log.debug(`Changing DTLS role from ${mLine.setup} to ${info.dtlsRole}.`)\n        mLine.setup = info.dtlsRole\n      }\n    }\n  }\n  return newSdp\n}\n","// Libraries.\nimport sdpTransform from 'sdp-transform'\nimport { cloneDeep, isArray, isFunction } from 'lodash/fp'\n\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * Basic SDP pipeline runner.\n * Does not include any default handlers.\n * @method sdpPipeline\n * @param  {Array}      handlers       List of functions that transform the SDP.\n * @param  {String}     sdp            The session description.\n * @param  {RTCSdpType} info           Information about the session description.\n * @param  {RTCSdpType} info.type      The session description's type.\n * @param  {String}     info.endpoint  Which end of the connection created the SDP.\n * @param  {Boolean}    info.isInitiator Whether this session initiated the connection or not.\n * @return {String}     The modified session description.\n\n */\nexport function runPipeline (handlers, sdp, info) {\n  const objectSdp = sdpTransform.parse(sdp)\n\n  const originalSdp = Object.freeze(objectSdp)\n  let newSdp = cloneDeep(originalSdp)\n\n  if (isArray(handlers)) {\n    handlers.forEach(handler => {\n      if (isFunction(handler)) {\n        newSdp = handler(newSdp, info, originalSdp)\n      } else {\n        log.error('SDP handler not a function; skipping.')\n      }\n    })\n  }\n\n  return sdpTransform.write(newSdp)\n}\n\n/**\n * Create an instance of the SDP pipeline.\n * Allows for persistent SDP handlers to be set and implicitly used.\n * @method createPipeline\n * @return {Object} An SDP pipeline.\n */\nfunction createPipeline () {\n  /**\n   * SDP handlers that should be included with every pipeline run.\n   * @type {Array}\n   */\n  let defaultHandlers = []\n\n  /**\n   * Use the pipeline to process an SDP.\n   * @method run\n   * @param  {Array}      handlers      List of functions that transform the SDP.\n   * @param  {String}     sdp           The session description.\n   * @param  {RTCSdpType} info          Information about the session description.\n   * @param  {RTCSdpType} info.type     The session description's type.\n   * @param  {String}     info.endpoint Which end of the connection created the SDP.\n   * @return {String}     The modified session description.\n   */\n  function run (handlers = [], sdp, info) {\n    return runPipeline(handlers.concat(defaultHandlers), sdp, info)\n  }\n\n  /**\n   * Set the SDP handlers that should be included with every pipeline run.\n   * @method setHandlers\n   * @param  {Array} handlers List of SDP handler functions.\n   */\n  function setHandlers (handlers) {\n    if (isArray(handlers)) {\n      defaultHandlers = defaultHandlers.concat(handlers)\n    }\n  }\n\n  /**\n   * Get the SDP handlers that are included with every pipeline run.\n   * @method getHandlers\n   * @return {Array} List of SDP handler functions.\n   */\n  function getHandlers () {\n    return defaultHandlers\n  }\n\n  return {\n    run,\n    setHandlers,\n    getHandlers\n  }\n}\n\n// Export an instance of the pipeline to be used by everything.\nexport default createPipeline()\n","import { MEDIA_DIR } from '../constants'\nimport { values, includes } from 'lodash/fp'\n\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * Sets a transceiver's direction.\n * Checks that the desired direction is a valid one.\n * @method setTransceiverDirection\n * @param {Object} transceiver The transceiver that we want to modify.\n * @param {String} targetDirection The desired direction we want to change to.\n * @return {Boolean} Indicator on whether the transceiver direction was successfully changed.\n */\nexport function setTransceiverDirection (transceiver, targetDirection) {\n  if (!includes(targetDirection, values(MEDIA_DIR))) {\n    log.info(`Invalid direction \"${targetDirection}\"`)\n    return false\n  }\n\n  // Only in Safari:\n  //  - has transceiver.setDirection\n  //  - transceiver.direction is readOnly\n  if (transceiver.setDirection) {\n    transceiver.setDirection(targetDirection)\n  } else {\n    transceiver.direction = targetDirection\n  }\n  return true\n}\n","import adapter from 'webrtc-adapter/out/adapter'\nimport { mergeAllWith, isArray } from 'lodash/fp'\n\n// TODO: This function was copied from Kandy, we should eventually create a common project that\n// can contain all of these utils that are useful in multiple packages.\n\n/**\n * Deeply merges the values of multiple objects. Objects on the left receive the values from objects on their right.\n * Unlike lodash's default merge behavior this doesn't merge arrays.\n *\n * @name mergeValues\n * @param {...Object} objects - Objects to merge\n * @return {Object} A new object containing the merged values.\n */\nexport function mergeValues (...objects) {\n  return mergeAllWith((leftValue, rightValue) => {\n    // Overwrite the default behavior of lodash's merge for arrays and simply\n    // clobber what's on the left so we don't end up with merged arrays.\n    if (isArray(leftValue)) {\n      return rightValue\n    }\n  }, objects)\n}\n\nexport function makeSafeForCSS (name) {\n  if (!name) {\n    return name\n  } else {\n    return name.replace(/[^a-z0-9]/g, '')\n  }\n}\n\n/**\n * @returns The browser details as provided by webrtc-adapter\n */\nexport function getBrowserDetails () {\n  return adapter.browserDetails\n}\n","module.exports = { \"default\": require(\"core-js/library/fn/array/from\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/json/stringify\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/map\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/assign\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/create\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/freeze\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/object/values\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/promise\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/reflect/set\"), __esModule: true };","module.exports = { \"default\": require(\"core-js/library/fn/symbol\"), __esModule: true };","\"use strict\";\n\nexports.__esModule = true;\n\nvar _assign = require(\"../core-js/object/assign\");\n\nvar _assign2 = _interopRequireDefault(_assign);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = _assign2.default || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};","\"use strict\";\n\nexports.__esModule = true;\n\nexports.default = function (obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n};","require('../../modules/es6.string.iterator');\nrequire('../../modules/es6.array.from');\nmodule.exports = require('../../modules/_core').Array.from;\n","var core = require('../../modules/_core');\nvar $JSON = core.JSON || (core.JSON = { stringify: JSON.stringify });\nmodule.exports = function stringify(it) { // eslint-disable-line no-unused-vars\n  return $JSON.stringify.apply($JSON, arguments);\n};\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.map');\nrequire('../modules/es7.map.to-json');\nrequire('../modules/es7.map.of');\nrequire('../modules/es7.map.from');\nmodule.exports = require('../modules/_core').Map;\n","require('../../modules/es6.object.assign');\nmodule.exports = require('../../modules/_core').Object.assign;\n","require('../../modules/es6.object.create');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function create(P, D) {\n  return $Object.create(P, D);\n};\n","require('../../modules/es6.object.freeze');\nmodule.exports = require('../../modules/_core').Object.freeze;\n","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n","require('../../modules/es7.object.values');\nmodule.exports = require('../../modules/_core').Object.values;\n","require('../modules/es6.object.to-string');\nrequire('../modules/es6.string.iterator');\nrequire('../modules/web.dom.iterable');\nrequire('../modules/es6.promise');\nrequire('../modules/es7.promise.finally');\nrequire('../modules/es7.promise.try');\nmodule.exports = require('../modules/_core').Promise;\n","require('../../modules/es6.reflect.set');\nmodule.exports = require('../../modules/_core').Reflect.set;\n","require('../../modules/es6.symbol');\nrequire('../../modules/es6.object.to-string');\nrequire('../../modules/es7.symbol.async-iterator');\nrequire('../../modules/es7.symbol.observable');\nmodule.exports = require('../../modules/_core').Symbol;\n","module.exports = function (it) {\n  if (typeof it != 'function') throw TypeError(it + ' is not a function!');\n  return it;\n};\n","module.exports = function () { /* empty */ };\n","module.exports = function (it, Constructor, name, forbiddenField) {\n  if (!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)) {\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n","var isObject = require('./_is-object');\nmodule.exports = function (it) {\n  if (!isObject(it)) throw TypeError(it + ' is not an object!');\n  return it;\n};\n","var forOf = require('./_for-of');\n\nmodule.exports = function (iter, ITERATOR) {\n  var result = [];\n  forOf(iter, false, result.push, result, ITERATOR);\n  return result;\n};\n","// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = require('./_to-iobject');\nvar toLength = require('./_to-length');\nvar toAbsoluteIndex = require('./_to-absolute-index');\nmodule.exports = function (IS_INCLUDES) {\n  return function ($this, el, fromIndex) {\n    var O = toIObject($this);\n    var length = toLength(O.length);\n    var index = toAbsoluteIndex(fromIndex, length);\n    var value;\n    // Array#includes uses SameValueZero equality algorithm\n    // eslint-disable-next-line no-self-compare\n    if (IS_INCLUDES && el != el) while (length > index) {\n      value = O[index++];\n      // eslint-disable-next-line no-self-compare\n      if (value != value) return true;\n    // Array#indexOf ignores holes, Array#includes - not\n    } else for (;length > index; index++) if (IS_INCLUDES || index in O) {\n      if (O[index] === el) return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n","// 0 -> Array#forEach\n// 1 -> Array#map\n// 2 -> Array#filter\n// 3 -> Array#some\n// 4 -> Array#every\n// 5 -> Array#find\n// 6 -> Array#findIndex\nvar ctx = require('./_ctx');\nvar IObject = require('./_iobject');\nvar toObject = require('./_to-object');\nvar toLength = require('./_to-length');\nvar asc = require('./_array-species-create');\nmodule.exports = function (TYPE, $create) {\n  var IS_MAP = TYPE == 1;\n  var IS_FILTER = TYPE == 2;\n  var IS_SOME = TYPE == 3;\n  var IS_EVERY = TYPE == 4;\n  var IS_FIND_INDEX = TYPE == 6;\n  var NO_HOLES = TYPE == 5 || IS_FIND_INDEX;\n  var create = $create || asc;\n  return function ($this, callbackfn, that) {\n    var O = toObject($this);\n    var self = IObject(O);\n    var f = ctx(callbackfn, that, 3);\n    var length = toLength(self.length);\n    var index = 0;\n    var result = IS_MAP ? create($this, length) : IS_FILTER ? create($this, 0) : undefined;\n    var val, res;\n    for (;length > index; index++) if (NO_HOLES || index in self) {\n      val = self[index];\n      res = f(val, index, O);\n      if (TYPE) {\n        if (IS_MAP) result[index] = res;   // map\n        else if (res) switch (TYPE) {\n          case 3: return true;             // some\n          case 5: return val;              // find\n          case 6: return index;            // findIndex\n          case 2: result.push(val);        // filter\n        } else if (IS_EVERY) return false; // every\n      }\n    }\n    return IS_FIND_INDEX ? -1 : IS_SOME || IS_EVERY ? IS_EVERY : result;\n  };\n};\n","var isObject = require('./_is-object');\nvar isArray = require('./_is-array');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (original) {\n  var C;\n  if (isArray(original)) {\n    C = original.constructor;\n    // cross-realm fallback\n    if (typeof C == 'function' && (C === Array || isArray(C.prototype))) C = undefined;\n    if (isObject(C)) {\n      C = C[SPECIES];\n      if (C === null) C = undefined;\n    }\n  } return C === undefined ? Array : C;\n};\n","// 9.4.2.3 ArraySpeciesCreate(originalArray, length)\nvar speciesConstructor = require('./_array-species-constructor');\n\nmodule.exports = function (original, length) {\n  return new (speciesConstructor(original))(length);\n};\n","// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = require('./_cof');\nvar TAG = require('./_wks')('toStringTag');\n// ES3 wrong here\nvar ARG = cof(function () { return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function (it, key) {\n  try {\n    return it[key];\n  } catch (e) { /* empty */ }\n};\n\nmodule.exports = function (it) {\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n","var toString = {}.toString;\n\nmodule.exports = function (it) {\n  return toString.call(it).slice(8, -1);\n};\n","'use strict';\nvar dP = require('./_object-dp').f;\nvar create = require('./_object-create');\nvar redefineAll = require('./_redefine-all');\nvar ctx = require('./_ctx');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar $iterDefine = require('./_iter-define');\nvar step = require('./_iter-step');\nvar setSpecies = require('./_set-species');\nvar DESCRIPTORS = require('./_descriptors');\nvar fastKey = require('./_meta').fastKey;\nvar validate = require('./_validate-collection');\nvar SIZE = DESCRIPTORS ? '_s' : 'size';\n\nvar getEntry = function (that, key) {\n  // fast case\n  var index = fastKey(key);\n  var entry;\n  if (index !== 'F') return that._i[index];\n  // frozen object case\n  for (entry = that._f; entry; entry = entry.n) {\n    if (entry.k == key) return entry;\n  }\n};\n\nmodule.exports = {\n  getConstructor: function (wrapper, NAME, IS_MAP, ADDER) {\n    var C = wrapper(function (that, iterable) {\n      anInstance(that, C, NAME, '_i');\n      that._t = NAME;         // collection type\n      that._i = create(null); // index\n      that._f = undefined;    // first entry\n      that._l = undefined;    // last entry\n      that[SIZE] = 0;         // size\n      if (iterable != undefined) forOf(iterable, IS_MAP, that[ADDER], that);\n    });\n    redefineAll(C.prototype, {\n      // 23.1.3.1 Map.prototype.clear()\n      // 23.2.3.2 Set.prototype.clear()\n      clear: function clear() {\n        for (var that = validate(this, NAME), data = that._i, entry = that._f; entry; entry = entry.n) {\n          entry.r = true;\n          if (entry.p) entry.p = entry.p.n = undefined;\n          delete data[entry.i];\n        }\n        that._f = that._l = undefined;\n        that[SIZE] = 0;\n      },\n      // 23.1.3.3 Map.prototype.delete(key)\n      // 23.2.3.4 Set.prototype.delete(value)\n      'delete': function (key) {\n        var that = validate(this, NAME);\n        var entry = getEntry(that, key);\n        if (entry) {\n          var next = entry.n;\n          var prev = entry.p;\n          delete that._i[entry.i];\n          entry.r = true;\n          if (prev) prev.n = next;\n          if (next) next.p = prev;\n          if (that._f == entry) that._f = next;\n          if (that._l == entry) that._l = prev;\n          that[SIZE]--;\n        } return !!entry;\n      },\n      // 23.2.3.6 Set.prototype.forEach(callbackfn, thisArg = undefined)\n      // 23.1.3.5 Map.prototype.forEach(callbackfn, thisArg = undefined)\n      forEach: function forEach(callbackfn /* , that = undefined */) {\n        validate(this, NAME);\n        var f = ctx(callbackfn, arguments.length > 1 ? arguments[1] : undefined, 3);\n        var entry;\n        while (entry = entry ? entry.n : this._f) {\n          f(entry.v, entry.k, this);\n          // revert to the last existing entry\n          while (entry && entry.r) entry = entry.p;\n        }\n      },\n      // 23.1.3.7 Map.prototype.has(key)\n      // 23.2.3.7 Set.prototype.has(value)\n      has: function has(key) {\n        return !!getEntry(validate(this, NAME), key);\n      }\n    });\n    if (DESCRIPTORS) dP(C.prototype, 'size', {\n      get: function () {\n        return validate(this, NAME)[SIZE];\n      }\n    });\n    return C;\n  },\n  def: function (that, key, value) {\n    var entry = getEntry(that, key);\n    var prev, index;\n    // change existing entry\n    if (entry) {\n      entry.v = value;\n    // create new entry\n    } else {\n      that._l = entry = {\n        i: index = fastKey(key, true), // <- index\n        k: key,                        // <- key\n        v: value,                      // <- value\n        p: prev = that._l,             // <- previous entry\n        n: undefined,                  // <- next entry\n        r: false                       // <- removed\n      };\n      if (!that._f) that._f = entry;\n      if (prev) prev.n = entry;\n      that[SIZE]++;\n      // add to index\n      if (index !== 'F') that._i[index] = entry;\n    } return that;\n  },\n  getEntry: getEntry,\n  setStrong: function (C, NAME, IS_MAP) {\n    // add .keys, .values, .entries, [@@iterator]\n    // 23.1.3.4, 23.1.3.8, 23.1.3.11, 23.1.3.12, 23.2.3.5, 23.2.3.8, 23.2.3.10, 23.2.3.11\n    $iterDefine(C, NAME, function (iterated, kind) {\n      this._t = validate(iterated, NAME); // target\n      this._k = kind;                     // kind\n      this._l = undefined;                // previous\n    }, function () {\n      var that = this;\n      var kind = that._k;\n      var entry = that._l;\n      // revert to the last existing entry\n      while (entry && entry.r) entry = entry.p;\n      // get next entry\n      if (!that._t || !(that._l = entry = entry ? entry.n : that._t._f)) {\n        // or finish the iteration\n        that._t = undefined;\n        return step(1);\n      }\n      // return step by kind\n      if (kind == 'keys') return step(0, entry.k);\n      if (kind == 'values') return step(0, entry.v);\n      return step(0, [entry.k, entry.v]);\n    }, IS_MAP ? 'entries' : 'values', !IS_MAP, true);\n\n    // add [@@species], 23.1.2.2, 23.2.2.2\n    setSpecies(NAME);\n  }\n};\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar classof = require('./_classof');\nvar from = require('./_array-from-iterable');\nmodule.exports = function (NAME) {\n  return function toJSON() {\n    if (classof(this) != NAME) throw TypeError(NAME + \"#toJSON isn't generic\");\n    return from(this);\n  };\n};\n","'use strict';\nvar global = require('./_global');\nvar $export = require('./_export');\nvar meta = require('./_meta');\nvar fails = require('./_fails');\nvar hide = require('./_hide');\nvar redefineAll = require('./_redefine-all');\nvar forOf = require('./_for-of');\nvar anInstance = require('./_an-instance');\nvar isObject = require('./_is-object');\nvar setToStringTag = require('./_set-to-string-tag');\nvar dP = require('./_object-dp').f;\nvar each = require('./_array-methods')(0);\nvar DESCRIPTORS = require('./_descriptors');\n\nmodule.exports = function (NAME, wrapper, methods, common, IS_MAP, IS_WEAK) {\n  var Base = global[NAME];\n  var C = Base;\n  var ADDER = IS_MAP ? 'set' : 'add';\n  var proto = C && C.prototype;\n  var O = {};\n  if (!DESCRIPTORS || typeof C != 'function' || !(IS_WEAK || proto.forEach && !fails(function () {\n    new C().entries().next();\n  }))) {\n    // create collection constructor\n    C = common.getConstructor(wrapper, NAME, IS_MAP, ADDER);\n    redefineAll(C.prototype, methods);\n    meta.NEED = true;\n  } else {\n    C = wrapper(function (target, iterable) {\n      anInstance(target, C, NAME, '_c');\n      target._c = new Base();\n      if (iterable != undefined) forOf(iterable, IS_MAP, target[ADDER], target);\n    });\n    each('add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON'.split(','), function (KEY) {\n      var IS_ADDER = KEY == 'add' || KEY == 'set';\n      if (KEY in proto && !(IS_WEAK && KEY == 'clear')) hide(C.prototype, KEY, function (a, b) {\n        anInstance(this, C, KEY);\n        if (!IS_ADDER && IS_WEAK && !isObject(a)) return KEY == 'get' ? undefined : false;\n        var result = this._c[KEY](a === 0 ? 0 : a, b);\n        return IS_ADDER ? this : result;\n      });\n    });\n    IS_WEAK || dP(C.prototype, 'size', {\n      get: function () {\n        return this._c.size;\n      }\n    });\n  }\n\n  setToStringTag(C, NAME);\n\n  O[NAME] = C;\n  $export($export.G + $export.W + $export.F, O);\n\n  if (!IS_WEAK) common.setStrong(C, NAME, IS_MAP);\n\n  return C;\n};\n","var core = module.exports = { version: '2.6.12' };\nif (typeof __e == 'number') __e = core; // eslint-disable-line no-undef\n","'use strict';\nvar $defineProperty = require('./_object-dp');\nvar createDesc = require('./_property-desc');\n\nmodule.exports = function (object, index, value) {\n  if (index in object) $defineProperty.f(object, index, createDesc(0, value));\n  else object[index] = value;\n};\n","// optional / simple context binding\nvar aFunction = require('./_a-function');\nmodule.exports = function (fn, that, length) {\n  aFunction(fn);\n  if (that === undefined) return fn;\n  switch (length) {\n    case 1: return function (a) {\n      return fn.call(that, a);\n    };\n    case 2: return function (a, b) {\n      return fn.call(that, a, b);\n    };\n    case 3: return function (a, b, c) {\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function (/* ...args */) {\n    return fn.apply(that, arguments);\n  };\n};\n","// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function (it) {\n  if (it == undefined) throw TypeError(\"Can't call method on  \" + it);\n  return it;\n};\n","// Thank's IE8 for his funny defineProperty\nmodule.exports = !require('./_fails')(function () {\n  return Object.defineProperty({}, 'a', { get: function () { return 7; } }).a != 7;\n});\n","var isObject = require('./_is-object');\nvar document = require('./_global').document;\n// typeof document.createElement is 'object' in old IE\nvar is = isObject(document) && isObject(document.createElement);\nmodule.exports = function (it) {\n  return is ? document.createElement(it) : {};\n};\n","// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n","// all enumerable object keys, includes symbols\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nmodule.exports = function (it) {\n  var result = getKeys(it);\n  var getSymbols = gOPS.f;\n  if (getSymbols) {\n    var symbols = getSymbols(it);\n    var isEnum = pIE.f;\n    var i = 0;\n    var key;\n    while (symbols.length > i) if (isEnum.call(it, key = symbols[i++])) result.push(key);\n  } return result;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar ctx = require('./_ctx');\nvar hide = require('./_hide');\nvar has = require('./_has');\nvar PROTOTYPE = 'prototype';\n\nvar $export = function (type, name, source) {\n  var IS_FORCED = type & $export.F;\n  var IS_GLOBAL = type & $export.G;\n  var IS_STATIC = type & $export.S;\n  var IS_PROTO = type & $export.P;\n  var IS_BIND = type & $export.B;\n  var IS_WRAP = type & $export.W;\n  var exports = IS_GLOBAL ? core : core[name] || (core[name] = {});\n  var expProto = exports[PROTOTYPE];\n  var target = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE];\n  var key, own, out;\n  if (IS_GLOBAL) source = name;\n  for (key in source) {\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if (own && has(exports, key)) continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != 'function' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function (C) {\n      var F = function (a, b, c) {\n        if (this instanceof C) {\n          switch (arguments.length) {\n            case 0: return new C();\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == 'function' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if (IS_PROTO) {\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if (type & $export.R && expProto && !expProto[key]) hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library`\nmodule.exports = $export;\n","module.exports = function (exec) {\n  try {\n    return !!exec();\n  } catch (e) {\n    return true;\n  }\n};\n","var ctx = require('./_ctx');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar getIterFn = require('./core.get-iterator-method');\nvar BREAK = {};\nvar RETURN = {};\nvar exports = module.exports = function (iterable, entries, fn, that, ITERATOR) {\n  var iterFn = ITERATOR ? function () { return iterable; } : getIterFn(iterable);\n  var f = ctx(fn, that, entries ? 2 : 1);\n  var index = 0;\n  var length, step, iterator, result;\n  if (typeof iterFn != 'function') throw TypeError(iterable + ' is not iterable!');\n  // fast case for arrays with default iterator\n  if (isArrayIter(iterFn)) for (length = toLength(iterable.length); length > index; index++) {\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if (result === BREAK || result === RETURN) return result;\n  } else for (iterator = iterFn.call(iterable); !(step = iterator.next()).done;) {\n    result = call(iterator, f, step.value, entries);\n    if (result === BREAK || result === RETURN) return result;\n  }\n};\nexports.BREAK = BREAK;\nexports.RETURN = RETURN;\n","// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self\n  // eslint-disable-next-line no-new-func\n  : Function('return this')();\nif (typeof __g == 'number') __g = global; // eslint-disable-line no-undef\n","var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function (it, key) {\n  return hasOwnProperty.call(it, key);\n};\n","var dP = require('./_object-dp');\nvar createDesc = require('./_property-desc');\nmodule.exports = require('./_descriptors') ? function (object, key, value) {\n  return dP.f(object, key, createDesc(1, value));\n} : function (object, key, value) {\n  object[key] = value;\n  return object;\n};\n","var document = require('./_global').document;\nmodule.exports = document && document.documentElement;\n","module.exports = !require('./_descriptors') && !require('./_fails')(function () {\n  return Object.defineProperty(require('./_dom-create')('div'), 'a', { get: function () { return 7; } }).a != 7;\n});\n","// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function (fn, args, that) {\n  var un = that === undefined;\n  switch (args.length) {\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return fn.apply(that, args);\n};\n","// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = require('./_cof');\n// eslint-disable-next-line no-prototype-builtins\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function (it) {\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n","// check on default Array iterator\nvar Iterators = require('./_iterators');\nvar ITERATOR = require('./_wks')('iterator');\nvar ArrayProto = Array.prototype;\n\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n","// 7.2.2 IsArray(argument)\nvar cof = require('./_cof');\nmodule.exports = Array.isArray || function isArray(arg) {\n  return cof(arg) == 'Array';\n};\n","module.exports = function (it) {\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n","// call something on iterator step with safe closing on error\nvar anObject = require('./_an-object');\nmodule.exports = function (iterator, fn, value, entries) {\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch (e) {\n    var ret = iterator['return'];\n    if (ret !== undefined) anObject(ret.call(iterator));\n    throw e;\n  }\n};\n","'use strict';\nvar create = require('./_object-create');\nvar descriptor = require('./_property-desc');\nvar setToStringTag = require('./_set-to-string-tag');\nvar IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\nrequire('./_hide')(IteratorPrototype, require('./_wks')('iterator'), function () { return this; });\n\nmodule.exports = function (Constructor, NAME, next) {\n  Constructor.prototype = create(IteratorPrototype, { next: descriptor(1, next) });\n  setToStringTag(Constructor, NAME + ' Iterator');\n};\n","'use strict';\nvar LIBRARY = require('./_library');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar $iterCreate = require('./_iter-create');\nvar setToStringTag = require('./_set-to-string-tag');\nvar getPrototypeOf = require('./_object-gpo');\nvar ITERATOR = require('./_wks')('iterator');\nvar BUGGY = !([].keys && 'next' in [].keys()); // Safari has buggy iterators w/o `next`\nvar FF_ITERATOR = '@@iterator';\nvar KEYS = 'keys';\nvar VALUES = 'values';\n\nvar returnThis = function () { return this; };\n\nmodule.exports = function (Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED) {\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function (kind) {\n    if (!BUGGY && kind in proto) return proto[kind];\n    switch (kind) {\n      case KEYS: return function keys() { return new Constructor(this, kind); };\n      case VALUES: return function values() { return new Constructor(this, kind); };\n    } return function entries() { return new Constructor(this, kind); };\n  };\n  var TAG = NAME + ' Iterator';\n  var DEF_VALUES = DEFAULT == VALUES;\n  var VALUES_BUG = false;\n  var proto = Base.prototype;\n  var $native = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT];\n  var $default = $native || getMethod(DEFAULT);\n  var $entries = DEFAULT ? !DEF_VALUES ? $default : getMethod('entries') : undefined;\n  var $anyNative = NAME == 'Array' ? proto.entries || $native : $native;\n  var methods, key, IteratorPrototype;\n  // Fix native\n  if ($anyNative) {\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base()));\n    if (IteratorPrototype !== Object.prototype && IteratorPrototype.next) {\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if (!LIBRARY && typeof IteratorPrototype[ITERATOR] != 'function') hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if (DEF_VALUES && $native && $native.name !== VALUES) {\n    VALUES_BUG = true;\n    $default = function values() { return $native.call(this); };\n  }\n  // Define iterator\n  if ((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])) {\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG] = returnThis;\n  if (DEFAULT) {\n    methods = {\n      values: DEF_VALUES ? $default : getMethod(VALUES),\n      keys: IS_SET ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if (FORCED) for (key in methods) {\n      if (!(key in proto)) redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n","var ITERATOR = require('./_wks')('iterator');\nvar SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function () { SAFE_CLOSING = true; };\n  // eslint-disable-next-line no-throw-literal\n  Array.from(riter, function () { throw 2; });\n} catch (e) { /* empty */ }\n\nmodule.exports = function (exec, skipClosing) {\n  if (!skipClosing && !SAFE_CLOSING) return false;\n  var safe = false;\n  try {\n    var arr = [7];\n    var iter = arr[ITERATOR]();\n    iter.next = function () { return { done: safe = true }; };\n    arr[ITERATOR] = function () { return iter; };\n    exec(arr);\n  } catch (e) { /* empty */ }\n  return safe;\n};\n","module.exports = function (done, value) {\n  return { value: value, done: !!done };\n};\n","module.exports = {};\n","module.exports = true;\n","var META = require('./_uid')('meta');\nvar isObject = require('./_is-object');\nvar has = require('./_has');\nvar setDesc = require('./_object-dp').f;\nvar id = 0;\nvar isExtensible = Object.isExtensible || function () {\n  return true;\n};\nvar FREEZE = !require('./_fails')(function () {\n  return isExtensible(Object.preventExtensions({}));\n});\nvar setMeta = function (it) {\n  setDesc(it, META, { value: {\n    i: 'O' + ++id, // object ID\n    w: {}          // weak collections IDs\n  } });\n};\nvar fastKey = function (it, create) {\n  // return primitive with prefix\n  if (!isObject(it)) return typeof it == 'symbol' ? it : (typeof it == 'string' ? 'S' : 'P') + it;\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return 'F';\n    // not necessary to add metadata\n    if (!create) return 'E';\n    // add missing metadata\n    setMeta(it);\n  // return object ID\n  } return it[META].i;\n};\nvar getWeak = function (it, create) {\n  if (!has(it, META)) {\n    // can't set metadata to uncaught frozen object\n    if (!isExtensible(it)) return true;\n    // not necessary to add metadata\n    if (!create) return false;\n    // add missing metadata\n    setMeta(it);\n  // return hash weak collections IDs\n  } return it[META].w;\n};\n// add metadata on freeze-family methods calling\nvar onFreeze = function (it) {\n  if (FREEZE && meta.NEED && isExtensible(it) && !has(it, META)) setMeta(it);\n  return it;\n};\nvar meta = module.exports = {\n  KEY: META,\n  NEED: false,\n  fastKey: fastKey,\n  getWeak: getWeak,\n  onFreeze: onFreeze\n};\n","var global = require('./_global');\nvar macrotask = require('./_task').set;\nvar Observer = global.MutationObserver || global.WebKitMutationObserver;\nvar process = global.process;\nvar Promise = global.Promise;\nvar isNode = require('./_cof')(process) == 'process';\n\nmodule.exports = function () {\n  var head, last, notify;\n\n  var flush = function () {\n    var parent, fn;\n    if (isNode && (parent = process.domain)) parent.exit();\n    while (head) {\n      fn = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch (e) {\n        if (head) notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if (parent) parent.enter();\n  };\n\n  // Node.js\n  if (isNode) {\n    notify = function () {\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver, except iOS Safari - https://github.com/zloirock/core-js/issues/339\n  } else if (Observer && !(global.navigator && global.navigator.standalone)) {\n    var toggle = true;\n    var node = document.createTextNode('');\n    new Observer(flush).observe(node, { characterData: true }); // eslint-disable-line no-new\n    notify = function () {\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if (Promise && Promise.resolve) {\n    // Promise.resolve without an argument throws an error in LG WebOS 2\n    var promise = Promise.resolve(undefined);\n    notify = function () {\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function () {\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function (fn) {\n    var task = { fn: fn, next: undefined };\n    if (last) last.next = task;\n    if (!head) {\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n","'use strict';\n// 25.4.1.5 NewPromiseCapability(C)\nvar aFunction = require('./_a-function');\n\nfunction PromiseCapability(C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject = aFunction(reject);\n}\n\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) {\n      key = keys[j++];\n      if (!DESCRIPTORS || isEnum.call(S, key)) T[key] = S[key];\n    }\n  } return T;\n} : $assign;\n","// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject = require('./_an-object');\nvar dPs = require('./_object-dps');\nvar enumBugKeys = require('./_enum-bug-keys');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar Empty = function () { /* empty */ };\nvar PROTOTYPE = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function () {\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = require('./_dom-create')('iframe');\n  var i = enumBugKeys.length;\n  var lt = '<';\n  var gt = '>';\n  var iframeDocument;\n  iframe.style.display = 'none';\n  require('./_html').appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while (i--) delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties) {\n  var result;\n  if (O !== null) {\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty();\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n","var anObject = require('./_an-object');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar toPrimitive = require('./_to-primitive');\nvar dP = Object.defineProperty;\n\nexports.f = require('./_descriptors') ? Object.defineProperty : function defineProperty(O, P, Attributes) {\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if (IE8_DOM_DEFINE) try {\n    return dP(O, P, Attributes);\n  } catch (e) { /* empty */ }\n  if ('get' in Attributes || 'set' in Attributes) throw TypeError('Accessors not supported!');\n  if ('value' in Attributes) O[P] = Attributes.value;\n  return O;\n};\n","var dP = require('./_object-dp');\nvar anObject = require('./_an-object');\nvar getKeys = require('./_object-keys');\n\nmodule.exports = require('./_descriptors') ? Object.defineProperties : function defineProperties(O, Properties) {\n  anObject(O);\n  var keys = getKeys(Properties);\n  var length = keys.length;\n  var i = 0;\n  var P;\n  while (length > i) dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n","var pIE = require('./_object-pie');\nvar createDesc = require('./_property-desc');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar has = require('./_has');\nvar IE8_DOM_DEFINE = require('./_ie8-dom-define');\nvar gOPD = Object.getOwnPropertyDescriptor;\n\nexports.f = require('./_descriptors') ? gOPD : function getOwnPropertyDescriptor(O, P) {\n  O = toIObject(O);\n  P = toPrimitive(P, true);\n  if (IE8_DOM_DEFINE) try {\n    return gOPD(O, P);\n  } catch (e) { /* empty */ }\n  if (has(O, P)) return createDesc(!pIE.f.call(O, P), O[P]);\n};\n","// fallback for IE11 buggy Object.getOwnPropertyNames with iframe and window\nvar toIObject = require('./_to-iobject');\nvar gOPN = require('./_object-gopn').f;\nvar toString = {}.toString;\n\nvar windowNames = typeof window == 'object' && window && Object.getOwnPropertyNames\n  ? Object.getOwnPropertyNames(window) : [];\n\nvar getWindowNames = function (it) {\n  try {\n    return gOPN(it);\n  } catch (e) {\n    return windowNames.slice();\n  }\n};\n\nmodule.exports.f = function getOwnPropertyNames(it) {\n  return windowNames && toString.call(it) == '[object Window]' ? getWindowNames(it) : gOPN(toIObject(it));\n};\n","// 19.1.2.7 / 15.2.3.4 Object.getOwnPropertyNames(O)\nvar $keys = require('./_object-keys-internal');\nvar hiddenKeys = require('./_enum-bug-keys').concat('length', 'prototype');\n\nexports.f = Object.getOwnPropertyNames || function getOwnPropertyNames(O) {\n  return $keys(O, hiddenKeys);\n};\n","exports.f = Object.getOwnPropertySymbols;\n","// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has = require('./_has');\nvar toObject = require('./_to-object');\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\nvar ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function (O) {\n  O = toObject(O);\n  if (has(O, IE_PROTO)) return O[IE_PROTO];\n  if (typeof O.constructor == 'function' && O instanceof O.constructor) {\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n","var has = require('./_has');\nvar toIObject = require('./_to-iobject');\nvar arrayIndexOf = require('./_array-includes')(false);\nvar IE_PROTO = require('./_shared-key')('IE_PROTO');\n\nmodule.exports = function (object, names) {\n  var O = toIObject(object);\n  var i = 0;\n  var result = [];\n  var key;\n  for (key in O) if (key != IE_PROTO) has(O, key) && result.push(key);\n  // Don't enum bug & hidden keys\n  while (names.length > i) if (has(O, key = names[i++])) {\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n","// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys = require('./_object-keys-internal');\nvar enumBugKeys = require('./_enum-bug-keys');\n\nmodule.exports = Object.keys || function keys(O) {\n  return $keys(O, enumBugKeys);\n};\n","exports.f = {}.propertyIsEnumerable;\n","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export');\nvar core = require('./_core');\nvar fails = require('./_fails');\nmodule.exports = function (KEY, exec) {\n  var fn = (core.Object || {})[KEY] || Object[KEY];\n  var exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function () { fn(1); }), 'Object', exp);\n};\n","var DESCRIPTORS = require('./_descriptors');\nvar getKeys = require('./_object-keys');\nvar toIObject = require('./_to-iobject');\nvar isEnum = require('./_object-pie').f;\nmodule.exports = function (isEntries) {\n  return function (it) {\n    var O = toIObject(it);\n    var keys = getKeys(O);\n    var length = keys.length;\n    var i = 0;\n    var result = [];\n    var key;\n    while (length > i) {\n      key = keys[i++];\n      if (!DESCRIPTORS || isEnum.call(O, key)) {\n        result.push(isEntries ? [key, O[key]] : O[key]);\n      }\n    }\n    return result;\n  };\n};\n","module.exports = function (exec) {\n  try {\n    return { e: false, v: exec() };\n  } catch (e) {\n    return { e: true, v: e };\n  }\n};\n","var anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar newPromiseCapability = require('./_new-promise-capability');\n\nmodule.exports = function (C, x) {\n  anObject(C);\n  if (isObject(x) && x.constructor === C) return x;\n  var promiseCapability = newPromiseCapability.f(C);\n  var resolve = promiseCapability.resolve;\n  resolve(x);\n  return promiseCapability.promise;\n};\n","module.exports = function (bitmap, value) {\n  return {\n    enumerable: !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable: !(bitmap & 4),\n    value: value\n  };\n};\n","var hide = require('./_hide');\nmodule.exports = function (target, src, safe) {\n  for (var key in src) {\n    if (safe && target[key]) target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n","module.exports = require('./_hide');\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\nvar aFunction = require('./_a-function');\nvar ctx = require('./_ctx');\nvar forOf = require('./_for-of');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { from: function from(source /* , mapFn, thisArg */) {\n    var mapFn = arguments[1];\n    var mapping, A, n, cb;\n    aFunction(this);\n    mapping = mapFn !== undefined;\n    if (mapping) aFunction(mapFn);\n    if (source == undefined) return new this();\n    A = [];\n    if (mapping) {\n      n = 0;\n      cb = ctx(mapFn, arguments[2], 2);\n      forOf(source, false, function (nextItem) {\n        A.push(cb(nextItem, n++));\n      });\n    } else {\n      forOf(source, false, A.push, A);\n    }\n    return new this(A);\n  } });\n};\n","'use strict';\n// https://tc39.github.io/proposal-setmap-offrom/\nvar $export = require('./_export');\n\nmodule.exports = function (COLLECTION) {\n  $export($export.S, COLLECTION, { of: function of() {\n    var length = arguments.length;\n    var A = new Array(length);\n    while (length--) A[length] = arguments[length];\n    return new this(A);\n  } });\n};\n","'use strict';\nvar global = require('./_global');\nvar core = require('./_core');\nvar dP = require('./_object-dp');\nvar DESCRIPTORS = require('./_descriptors');\nvar SPECIES = require('./_wks')('species');\n\nmodule.exports = function (KEY) {\n  var C = typeof core[KEY] == 'function' ? core[KEY] : global[KEY];\n  if (DESCRIPTORS && C && !C[SPECIES]) dP.f(C, SPECIES, {\n    configurable: true,\n    get: function () { return this; }\n  });\n};\n","var def = require('./_object-dp').f;\nvar has = require('./_has');\nvar TAG = require('./_wks')('toStringTag');\n\nmodule.exports = function (it, tag, stat) {\n  if (it && !has(it = stat ? it : it.prototype, TAG)) def(it, TAG, { configurable: true, value: tag });\n};\n","var shared = require('./_shared')('keys');\nvar uid = require('./_uid');\nmodule.exports = function (key) {\n  return shared[key] || (shared[key] = uid(key));\n};\n","var core = require('./_core');\nvar global = require('./_global');\nvar SHARED = '__core-js_shared__';\nvar store = global[SHARED] || (global[SHARED] = {});\n\n(module.exports = function (key, value) {\n  return store[key] || (store[key] = value !== undefined ? value : {});\n})('versions', []).push({\n  version: core.version,\n  mode: require('./_library') ? 'pure' : 'global',\n  copyright: ' 2020 Denis Pushkarev (zloirock.ru)'\n});\n","// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject = require('./_an-object');\nvar aFunction = require('./_a-function');\nvar SPECIES = require('./_wks')('species');\nmodule.exports = function (O, D) {\n  var C = anObject(O).constructor;\n  var S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n","var toInteger = require('./_to-integer');\nvar defined = require('./_defined');\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function (TO_STRING) {\n  return function (that, pos) {\n    var s = String(defined(that));\n    var i = toInteger(pos);\n    var l = s.length;\n    var a, b;\n    if (i < 0 || i >= l) return TO_STRING ? '' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n","var ctx = require('./_ctx');\nvar invoke = require('./_invoke');\nvar html = require('./_html');\nvar cel = require('./_dom-create');\nvar global = require('./_global');\nvar process = global.process;\nvar setTask = global.setImmediate;\nvar clearTask = global.clearImmediate;\nvar MessageChannel = global.MessageChannel;\nvar Dispatch = global.Dispatch;\nvar counter = 0;\nvar queue = {};\nvar ONREADYSTATECHANGE = 'onreadystatechange';\nvar defer, channel, port;\nvar run = function () {\n  var id = +this;\n  // eslint-disable-next-line no-prototype-builtins\n  if (queue.hasOwnProperty(id)) {\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function (event) {\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif (!setTask || !clearTask) {\n  setTask = function setImmediate(fn) {\n    var args = [];\n    var i = 1;\n    while (arguments.length > i) args.push(arguments[i++]);\n    queue[++counter] = function () {\n      // eslint-disable-next-line no-new-func\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id) {\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if (require('./_cof')(process) == 'process') {\n    defer = function (id) {\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Sphere (JS game engine) Dispatch API\n  } else if (Dispatch && Dispatch.now) {\n    defer = function (id) {\n      Dispatch.now(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if (MessageChannel) {\n    channel = new MessageChannel();\n    port = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if (global.addEventListener && typeof postMessage == 'function' && !global.importScripts) {\n    defer = function (id) {\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if (ONREADYSTATECHANGE in cel('script')) {\n    defer = function (id) {\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function () {\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function (id) {\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set: setTask,\n  clear: clearTask\n};\n","var toInteger = require('./_to-integer');\nvar max = Math.max;\nvar min = Math.min;\nmodule.exports = function (index, length) {\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n","// 7.1.4 ToInteger\nvar ceil = Math.ceil;\nvar floor = Math.floor;\nmodule.exports = function (it) {\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n","// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = require('./_iobject');\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return IObject(defined(it));\n};\n","// 7.1.15 ToLength\nvar toInteger = require('./_to-integer');\nvar min = Math.min;\nmodule.exports = function (it) {\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n","// 7.1.13 ToObject(argument)\nvar defined = require('./_defined');\nmodule.exports = function (it) {\n  return Object(defined(it));\n};\n","// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = require('./_is-object');\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function (it, S) {\n  if (!isObject(it)) return it;\n  var fn, val;\n  if (S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it))) return val;\n  if (!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it))) return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n","var id = 0;\nvar px = Math.random();\nmodule.exports = function (key) {\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n","var global = require('./_global');\nvar navigator = global.navigator;\n\nmodule.exports = navigator && navigator.userAgent || '';\n","var isObject = require('./_is-object');\nmodule.exports = function (it, TYPE) {\n  if (!isObject(it) || it._t !== TYPE) throw TypeError('Incompatible receiver, ' + TYPE + ' required!');\n  return it;\n};\n","var global = require('./_global');\nvar core = require('./_core');\nvar LIBRARY = require('./_library');\nvar wksExt = require('./_wks-ext');\nvar defineProperty = require('./_object-dp').f;\nmodule.exports = function (name) {\n  var $Symbol = core.Symbol || (core.Symbol = LIBRARY ? {} : global.Symbol || {});\n  if (name.charAt(0) != '_' && !(name in $Symbol)) defineProperty($Symbol, name, { value: wksExt.f(name) });\n};\n","exports.f = require('./_wks');\n","var store = require('./_shared')('wks');\nvar uid = require('./_uid');\nvar Symbol = require('./_global').Symbol;\nvar USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function (name) {\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n","var classof = require('./_classof');\nvar ITERATOR = require('./_wks')('iterator');\nvar Iterators = require('./_iterators');\nmodule.exports = require('./_core').getIteratorMethod = function (it) {\n  if (it != undefined) return it[ITERATOR]\n    || it['@@iterator']\n    || Iterators[classof(it)];\n};\n","'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","'use strict';\nvar addToUnscopables = require('./_add-to-unscopables');\nvar step = require('./_iter-step');\nvar Iterators = require('./_iterators');\nvar toIObject = require('./_to-iobject');\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = require('./_iter-define')(Array, 'Array', function (iterated, kind) {\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var kind = this._k;\n  var index = this._i++;\n  if (!O || index >= O.length) {\n    this._t = undefined;\n    return step(1);\n  }\n  if (kind == 'keys') return step(0, index);\n  if (kind == 'values') return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n","'use strict';\nvar strong = require('./_collection-strong');\nvar validate = require('./_validate-collection');\nvar MAP = 'Map';\n\n// 23.1 Map Objects\nmodule.exports = require('./_collection')(MAP, function (get) {\n  return function Map() { return get(this, arguments.length > 0 ? arguments[0] : undefined); };\n}, {\n  // 23.1.3.6 Map.prototype.get(key)\n  get: function get(key) {\n    var entry = strong.getEntry(validate(this, MAP), key);\n    return entry && entry.v;\n  },\n  // 23.1.3.9 Map.prototype.set(key, value)\n  set: function set(key, value) {\n    return strong.def(validate(this, MAP), key === 0 ? 0 : key, value);\n  }\n}, strong, true);\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","var $export = require('./_export');\n// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\n$export($export.S, 'Object', { create: require('./_object-create') });\n","// 19.1.2.5 Object.freeze(O)\nvar isObject = require('./_is-object');\nvar meta = require('./_meta').onFreeze;\n\nrequire('./_object-sap')('freeze', function ($freeze) {\n  return function freeze(it) {\n    return $freeze && isObject(it) ? $freeze(meta(it)) : it;\n  };\n});\n","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object');\nvar $keys = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function () {\n  return function keys(it) {\n    return $keys(toObject(it));\n  };\n});\n","","'use strict';\nvar LIBRARY = require('./_library');\nvar global = require('./_global');\nvar ctx = require('./_ctx');\nvar classof = require('./_classof');\nvar $export = require('./_export');\nvar isObject = require('./_is-object');\nvar aFunction = require('./_a-function');\nvar anInstance = require('./_an-instance');\nvar forOf = require('./_for-of');\nvar speciesConstructor = require('./_species-constructor');\nvar task = require('./_task').set;\nvar microtask = require('./_microtask')();\nvar newPromiseCapabilityModule = require('./_new-promise-capability');\nvar perform = require('./_perform');\nvar userAgent = require('./_user-agent');\nvar promiseResolve = require('./_promise-resolve');\nvar PROMISE = 'Promise';\nvar TypeError = global.TypeError;\nvar process = global.process;\nvar versions = process && process.versions;\nvar v8 = versions && versions.v8 || '';\nvar $Promise = global[PROMISE];\nvar isNode = classof(process) == 'process';\nvar empty = function () { /* empty */ };\nvar Internal, newGenericPromiseCapability, OwnPromiseCapability, Wrapper;\nvar newPromiseCapability = newGenericPromiseCapability = newPromiseCapabilityModule.f;\n\nvar USE_NATIVE = !!function () {\n  try {\n    // correct subclassing with @@species support\n    var promise = $Promise.resolve(1);\n    var FakePromise = (promise.constructor = {})[require('./_wks')('species')] = function (exec) {\n      exec(empty, empty);\n    };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == 'function')\n      && promise.then(empty) instanceof FakePromise\n      // v8 6.6 (Node 10 and Chrome 66) have a bug with resolving custom thenables\n      // https://bugs.chromium.org/p/chromium/issues/detail?id=830565\n      // we can't detect it synchronously, so just check versions\n      && v8.indexOf('6.6') !== 0\n      && userAgent.indexOf('Chrome/66') === -1;\n  } catch (e) { /* empty */ }\n}();\n\n// helpers\nvar isThenable = function (it) {\n  var then;\n  return isObject(it) && typeof (then = it.then) == 'function' ? then : false;\n};\nvar notify = function (promise, isReject) {\n  if (promise._n) return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function () {\n    var value = promise._v;\n    var ok = promise._s == 1;\n    var i = 0;\n    var run = function (reaction) {\n      var handler = ok ? reaction.ok : reaction.fail;\n      var resolve = reaction.resolve;\n      var reject = reaction.reject;\n      var domain = reaction.domain;\n      var result, then, exited;\n      try {\n        if (handler) {\n          if (!ok) {\n            if (promise._h == 2) onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if (handler === true) result = value;\n          else {\n            if (domain) domain.enter();\n            result = handler(value); // may throw\n            if (domain) {\n              domain.exit();\n              exited = true;\n            }\n          }\n          if (result === reaction.promise) {\n            reject(TypeError('Promise-chain cycle'));\n          } else if (then = isThenable(result)) {\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch (e) {\n        if (domain && !exited) domain.exit();\n        reject(e);\n      }\n    };\n    while (chain.length > i) run(chain[i++]); // variable length - can't use forEach\n    promise._c = [];\n    promise._n = false;\n    if (isReject && !promise._h) onUnhandled(promise);\n  });\n};\nvar onUnhandled = function (promise) {\n  task.call(global, function () {\n    var value = promise._v;\n    var unhandled = isUnhandled(promise);\n    var result, handler, console;\n    if (unhandled) {\n      result = perform(function () {\n        if (isNode) {\n          process.emit('unhandledRejection', value, promise);\n        } else if (handler = global.onunhandledrejection) {\n          handler({ promise: promise, reason: value });\n        } else if ((console = global.console) && console.error) {\n          console.error('Unhandled promise rejection', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if (unhandled && result.e) throw result.v;\n  });\n};\nvar isUnhandled = function (promise) {\n  return promise._h !== 1 && (promise._a || promise._c).length === 0;\n};\nvar onHandleUnhandled = function (promise) {\n  task.call(global, function () {\n    var handler;\n    if (isNode) {\n      process.emit('rejectionHandled', promise);\n    } else if (handler = global.onrejectionhandled) {\n      handler({ promise: promise, reason: promise._v });\n    }\n  });\n};\nvar $reject = function (value) {\n  var promise = this;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if (!promise._a) promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function (value) {\n  var promise = this;\n  var then;\n  if (promise._d) return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if (promise === value) throw TypeError(\"Promise can't be resolved itself\");\n    if (then = isThenable(value)) {\n      microtask(function () {\n        var wrapper = { _w: promise, _d: false }; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch (e) {\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch (e) {\n    $reject.call({ _w: promise, _d: false }, e); // wrap\n  }\n};\n\n// constructor polyfill\nif (!USE_NATIVE) {\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor) {\n    anInstance(this, $Promise, PROMISE, '_h');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch (err) {\n      $reject.call(this, err);\n    }\n  };\n  // eslint-disable-next-line no-unused-vars\n  Internal = function Promise(executor) {\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = require('./_redefine-all')($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected) {\n      var reaction = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok = typeof onFulfilled == 'function' ? onFulfilled : true;\n      reaction.fail = typeof onRejected == 'function' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if (this._a) this._a.push(reaction);\n      if (this._s) notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    'catch': function (onRejected) {\n      return this.then(undefined, onRejected);\n    }\n  });\n  OwnPromiseCapability = function () {\n    var promise = new Internal();\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject = ctx($reject, promise, 1);\n  };\n  newPromiseCapabilityModule.f = newPromiseCapability = function (C) {\n    return C === $Promise || C === Wrapper\n      ? new OwnPromiseCapability(C)\n      : newGenericPromiseCapability(C);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Promise: $Promise });\nrequire('./_set-to-string-tag')($Promise, PROMISE);\nrequire('./_set-species')(PROMISE);\nWrapper = require('./_core')[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r) {\n    var capability = newPromiseCapability(this);\n    var $$reject = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x) {\n    return promiseResolve(LIBRARY && this === Wrapper ? $Promise : this, x);\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && require('./_iter-detect')(function (iter) {\n  $Promise.all(iter)['catch'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var values = [];\n      var index = 0;\n      var remaining = 1;\n      forOf(iterable, false, function (promise) {\n        var $index = index++;\n        var alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable) {\n    var C = this;\n    var capability = newPromiseCapability(C);\n    var reject = capability.reject;\n    var result = perform(function () {\n      forOf(iterable, false, function (promise) {\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if (result.e) reject(result.v);\n    return capability.promise;\n  }\n});\n","// 26.1.13 Reflect.set(target, propertyKey, V [, receiver])\nvar dP = require('./_object-dp');\nvar gOPD = require('./_object-gopd');\nvar getPrototypeOf = require('./_object-gpo');\nvar has = require('./_has');\nvar $export = require('./_export');\nvar createDesc = require('./_property-desc');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\n\nfunction set(target, propertyKey, V /* , receiver */) {\n  var receiver = arguments.length < 4 ? target : arguments[3];\n  var ownDesc = gOPD.f(anObject(target), propertyKey);\n  var existingDescriptor, proto;\n  if (!ownDesc) {\n    if (isObject(proto = getPrototypeOf(target))) {\n      return set(proto, propertyKey, V, receiver);\n    }\n    ownDesc = createDesc(0);\n  }\n  if (has(ownDesc, 'value')) {\n    if (ownDesc.writable === false || !isObject(receiver)) return false;\n    if (existingDescriptor = gOPD.f(receiver, propertyKey)) {\n      if (existingDescriptor.get || existingDescriptor.set || existingDescriptor.writable === false) return false;\n      existingDescriptor.value = V;\n      dP.f(receiver, propertyKey, existingDescriptor);\n    } else dP.f(receiver, propertyKey, createDesc(0, V));\n    return true;\n  }\n  return ownDesc.set === undefined ? false : (ownDesc.set.call(receiver, V), true);\n}\n\n$export($export.S, 'Reflect', { set: set });\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","'use strict';\n// ECMAScript 6 symbols shim\nvar global = require('./_global');\nvar has = require('./_has');\nvar DESCRIPTORS = require('./_descriptors');\nvar $export = require('./_export');\nvar redefine = require('./_redefine');\nvar META = require('./_meta').KEY;\nvar $fails = require('./_fails');\nvar shared = require('./_shared');\nvar setToStringTag = require('./_set-to-string-tag');\nvar uid = require('./_uid');\nvar wks = require('./_wks');\nvar wksExt = require('./_wks-ext');\nvar wksDefine = require('./_wks-define');\nvar enumKeys = require('./_enum-keys');\nvar isArray = require('./_is-array');\nvar anObject = require('./_an-object');\nvar isObject = require('./_is-object');\nvar toObject = require('./_to-object');\nvar toIObject = require('./_to-iobject');\nvar toPrimitive = require('./_to-primitive');\nvar createDesc = require('./_property-desc');\nvar _create = require('./_object-create');\nvar gOPNExt = require('./_object-gopn-ext');\nvar $GOPD = require('./_object-gopd');\nvar $GOPS = require('./_object-gops');\nvar $DP = require('./_object-dp');\nvar $keys = require('./_object-keys');\nvar gOPD = $GOPD.f;\nvar dP = $DP.f;\nvar gOPN = gOPNExt.f;\nvar $Symbol = global.Symbol;\nvar $JSON = global.JSON;\nvar _stringify = $JSON && $JSON.stringify;\nvar PROTOTYPE = 'prototype';\nvar HIDDEN = wks('_hidden');\nvar TO_PRIMITIVE = wks('toPrimitive');\nvar isEnum = {}.propertyIsEnumerable;\nvar SymbolRegistry = shared('symbol-registry');\nvar AllSymbols = shared('symbols');\nvar OPSymbols = shared('op-symbols');\nvar ObjectProto = Object[PROTOTYPE];\nvar USE_NATIVE = typeof $Symbol == 'function' && !!$GOPS.f;\nvar QObject = global.QObject;\n// Don't use setters in Qt Script, https://github.com/zloirock/core-js/issues/173\nvar setter = !QObject || !QObject[PROTOTYPE] || !QObject[PROTOTYPE].findChild;\n\n// fallback for old Android, https://code.google.com/p/v8/issues/detail?id=687\nvar setSymbolDesc = DESCRIPTORS && $fails(function () {\n  return _create(dP({}, 'a', {\n    get: function () { return dP(this, 'a', { value: 7 }).a; }\n  })).a != 7;\n}) ? function (it, key, D) {\n  var protoDesc = gOPD(ObjectProto, key);\n  if (protoDesc) delete ObjectProto[key];\n  dP(it, key, D);\n  if (protoDesc && it !== ObjectProto) dP(ObjectProto, key, protoDesc);\n} : dP;\n\nvar wrap = function (tag) {\n  var sym = AllSymbols[tag] = _create($Symbol[PROTOTYPE]);\n  sym._k = tag;\n  return sym;\n};\n\nvar isSymbol = USE_NATIVE && typeof $Symbol.iterator == 'symbol' ? function (it) {\n  return typeof it == 'symbol';\n} : function (it) {\n  return it instanceof $Symbol;\n};\n\nvar $defineProperty = function defineProperty(it, key, D) {\n  if (it === ObjectProto) $defineProperty(OPSymbols, key, D);\n  anObject(it);\n  key = toPrimitive(key, true);\n  anObject(D);\n  if (has(AllSymbols, key)) {\n    if (!D.enumerable) {\n      if (!has(it, HIDDEN)) dP(it, HIDDEN, createDesc(1, {}));\n      it[HIDDEN][key] = true;\n    } else {\n      if (has(it, HIDDEN) && it[HIDDEN][key]) it[HIDDEN][key] = false;\n      D = _create(D, { enumerable: createDesc(0, false) });\n    } return setSymbolDesc(it, key, D);\n  } return dP(it, key, D);\n};\nvar $defineProperties = function defineProperties(it, P) {\n  anObject(it);\n  var keys = enumKeys(P = toIObject(P));\n  var i = 0;\n  var l = keys.length;\n  var key;\n  while (l > i) $defineProperty(it, key = keys[i++], P[key]);\n  return it;\n};\nvar $create = function create(it, P) {\n  return P === undefined ? _create(it) : $defineProperties(_create(it), P);\n};\nvar $propertyIsEnumerable = function propertyIsEnumerable(key) {\n  var E = isEnum.call(this, key = toPrimitive(key, true));\n  if (this === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return false;\n  return E || !has(this, key) || !has(AllSymbols, key) || has(this, HIDDEN) && this[HIDDEN][key] ? E : true;\n};\nvar $getOwnPropertyDescriptor = function getOwnPropertyDescriptor(it, key) {\n  it = toIObject(it);\n  key = toPrimitive(key, true);\n  if (it === ObjectProto && has(AllSymbols, key) && !has(OPSymbols, key)) return;\n  var D = gOPD(it, key);\n  if (D && has(AllSymbols, key) && !(has(it, HIDDEN) && it[HIDDEN][key])) D.enumerable = true;\n  return D;\n};\nvar $getOwnPropertyNames = function getOwnPropertyNames(it) {\n  var names = gOPN(toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (!has(AllSymbols, key = names[i++]) && key != HIDDEN && key != META) result.push(key);\n  } return result;\n};\nvar $getOwnPropertySymbols = function getOwnPropertySymbols(it) {\n  var IS_OP = it === ObjectProto;\n  var names = gOPN(IS_OP ? OPSymbols : toIObject(it));\n  var result = [];\n  var i = 0;\n  var key;\n  while (names.length > i) {\n    if (has(AllSymbols, key = names[i++]) && (IS_OP ? has(ObjectProto, key) : true)) result.push(AllSymbols[key]);\n  } return result;\n};\n\n// 19.4.1.1 Symbol([description])\nif (!USE_NATIVE) {\n  $Symbol = function Symbol() {\n    if (this instanceof $Symbol) throw TypeError('Symbol is not a constructor!');\n    var tag = uid(arguments.length > 0 ? arguments[0] : undefined);\n    var $set = function (value) {\n      if (this === ObjectProto) $set.call(OPSymbols, value);\n      if (has(this, HIDDEN) && has(this[HIDDEN], tag)) this[HIDDEN][tag] = false;\n      setSymbolDesc(this, tag, createDesc(1, value));\n    };\n    if (DESCRIPTORS && setter) setSymbolDesc(ObjectProto, tag, { configurable: true, set: $set });\n    return wrap(tag);\n  };\n  redefine($Symbol[PROTOTYPE], 'toString', function toString() {\n    return this._k;\n  });\n\n  $GOPD.f = $getOwnPropertyDescriptor;\n  $DP.f = $defineProperty;\n  require('./_object-gopn').f = gOPNExt.f = $getOwnPropertyNames;\n  require('./_object-pie').f = $propertyIsEnumerable;\n  $GOPS.f = $getOwnPropertySymbols;\n\n  if (DESCRIPTORS && !require('./_library')) {\n    redefine(ObjectProto, 'propertyIsEnumerable', $propertyIsEnumerable, true);\n  }\n\n  wksExt.f = function (name) {\n    return wrap(wks(name));\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, { Symbol: $Symbol });\n\nfor (var es6Symbols = (\n  // 19.4.2.2, 19.4.2.3, 19.4.2.4, 19.4.2.6, 19.4.2.8, 19.4.2.9, 19.4.2.10, 19.4.2.11, 19.4.2.12, 19.4.2.13, 19.4.2.14\n  'hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables'\n).split(','), j = 0; es6Symbols.length > j;)wks(es6Symbols[j++]);\n\nfor (var wellKnownSymbols = $keys(wks.store), k = 0; wellKnownSymbols.length > k;) wksDefine(wellKnownSymbols[k++]);\n\n$export($export.S + $export.F * !USE_NATIVE, 'Symbol', {\n  // 19.4.2.1 Symbol.for(key)\n  'for': function (key) {\n    return has(SymbolRegistry, key += '')\n      ? SymbolRegistry[key]\n      : SymbolRegistry[key] = $Symbol(key);\n  },\n  // 19.4.2.5 Symbol.keyFor(sym)\n  keyFor: function keyFor(sym) {\n    if (!isSymbol(sym)) throw TypeError(sym + ' is not a symbol!');\n    for (var key in SymbolRegistry) if (SymbolRegistry[key] === sym) return key;\n  },\n  useSetter: function () { setter = true; },\n  useSimple: function () { setter = false; }\n});\n\n$export($export.S + $export.F * !USE_NATIVE, 'Object', {\n  // 19.1.2.2 Object.create(O [, Properties])\n  create: $create,\n  // 19.1.2.4 Object.defineProperty(O, P, Attributes)\n  defineProperty: $defineProperty,\n  // 19.1.2.3 Object.defineProperties(O, Properties)\n  defineProperties: $defineProperties,\n  // 19.1.2.6 Object.getOwnPropertyDescriptor(O, P)\n  getOwnPropertyDescriptor: $getOwnPropertyDescriptor,\n  // 19.1.2.7 Object.getOwnPropertyNames(O)\n  getOwnPropertyNames: $getOwnPropertyNames,\n  // 19.1.2.8 Object.getOwnPropertySymbols(O)\n  getOwnPropertySymbols: $getOwnPropertySymbols\n});\n\n// Chrome 38 and 39 `Object.getOwnPropertySymbols` fails on primitives\n// https://bugs.chromium.org/p/v8/issues/detail?id=3443\nvar FAILS_ON_PRIMITIVES = $fails(function () { $GOPS.f(1); });\n\n$export($export.S + $export.F * FAILS_ON_PRIMITIVES, 'Object', {\n  getOwnPropertySymbols: function getOwnPropertySymbols(it) {\n    return $GOPS.f(toObject(it));\n  }\n});\n\n// 24.3.2 JSON.stringify(value [, replacer [, space]])\n$JSON && $export($export.S + $export.F * (!USE_NATIVE || $fails(function () {\n  var S = $Symbol();\n  // MS Edge converts symbol values to JSON as {}\n  // WebKit converts symbol values to JSON as null\n  // V8 throws on boxed symbols\n  return _stringify([S]) != '[null]' || _stringify({ a: S }) != '{}' || _stringify(Object(S)) != '{}';\n})), 'JSON', {\n  stringify: function stringify(it) {\n    var args = [it];\n    var i = 1;\n    var replacer, $replacer;\n    while (arguments.length > i) args.push(arguments[i++]);\n    $replacer = replacer = args[1];\n    if (!isObject(replacer) && it === undefined || isSymbol(it)) return; // IE8 returns string on undefined\n    if (!isArray(replacer)) replacer = function (key, value) {\n      if (typeof $replacer == 'function') value = $replacer.call(this, key, value);\n      if (!isSymbol(value)) return value;\n    };\n    args[1] = replacer;\n    return _stringify.apply($JSON, args);\n  }\n});\n\n// 19.4.3.4 Symbol.prototype[@@toPrimitive](hint)\n$Symbol[PROTOTYPE][TO_PRIMITIVE] || require('./_hide')($Symbol[PROTOTYPE], TO_PRIMITIVE, $Symbol[PROTOTYPE].valueOf);\n// 19.4.3.5 Symbol.prototype[@@toStringTag]\nsetToStringTag($Symbol, 'Symbol');\n// 20.2.1.9 Math[@@toStringTag]\nsetToStringTag(Math, 'Math', true);\n// 24.3.3 JSON[@@toStringTag]\nsetToStringTag(global.JSON, 'JSON', true);\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.from\nrequire('./_set-collection-from')('Map');\n","// https://tc39.github.io/proposal-setmap-offrom/#sec-map.of\nrequire('./_set-collection-of')('Map');\n","// https://github.com/DavidBruant/Map-Set.prototype.toJSON\nvar $export = require('./_export');\n\n$export($export.P + $export.R, 'Map', { toJSON: require('./_collection-to-json')('Map') });\n","// https://github.com/tc39/proposal-object-values-entries\nvar $export = require('./_export');\nvar $values = require('./_object-to-array')(false);\n\n$export($export.S, 'Object', {\n  values: function values(it) {\n    return $values(it);\n  }\n});\n","// https://github.com/tc39/proposal-promise-finally\n'use strict';\nvar $export = require('./_export');\nvar core = require('./_core');\nvar global = require('./_global');\nvar speciesConstructor = require('./_species-constructor');\nvar promiseResolve = require('./_promise-resolve');\n\n$export($export.P + $export.R, 'Promise', { 'finally': function (onFinally) {\n  var C = speciesConstructor(this, core.Promise || global.Promise);\n  var isFunction = typeof onFinally == 'function';\n  return this.then(\n    isFunction ? function (x) {\n      return promiseResolve(C, onFinally()).then(function () { return x; });\n    } : onFinally,\n    isFunction ? function (e) {\n      return promiseResolve(C, onFinally()).then(function () { throw e; });\n    } : onFinally\n  );\n} });\n","'use strict';\n// https://github.com/tc39/proposal-promise-try\nvar $export = require('./_export');\nvar newPromiseCapability = require('./_new-promise-capability');\nvar perform = require('./_perform');\n\n$export($export.S, 'Promise', { 'try': function (callbackfn) {\n  var promiseCapability = newPromiseCapability.f(this);\n  var result = perform(callbackfn);\n  (result.e ? promiseCapability.reject : promiseCapability.resolve)(result.v);\n  return promiseCapability.promise;\n} });\n","require('./_wks-define')('asyncIterator');\n","require('./_wks-define')('observable');\n","require('./es6.array.iterator');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar TO_STRING_TAG = require('./_wks')('toStringTag');\n\nvar DOMIterables = ('CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,' +\n  'DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,' +\n  'MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,' +\n  'SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,' +\n  'TextTrackList,TouchList').split(',');\n\nfor (var i = 0; i < DOMIterables.length; i++) {\n  var NAME = DOMIterables[i];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  if (proto && !proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n","var _ = require('./lodash.min').runInContext();\nmodule.exports = require('./fp/_baseConvert')(_, _);\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function e(n,t){for(var r=null==n?0:n.length;r--&&t(n[r],r,n)!==!1;);return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;\nreturn!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);\nreturn r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split(\"\")}function _(n){return n.match($t)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?Z(n,t,r):g(n,b,r)}function d(n,t,r,e){\nfor(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:Cn}function m(n){return function(t){return null==t?X:t[n]}}function x(n){return function(t){return null==n?X:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i);\n}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return n?n.slice(0,H(n)+1).replace(Lt,\"\"):n}function z(n){return function(t){return n(t)}}function E(n,t){return c(t,function(t){return n[t]})}function S(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;\nreturn e}function U(n){return\"\\\\\"+Yr[n]}function B(n,t){return null==n?X:n[t]}function T(n){return Nr.test(n)}function $(n){return Pr.test(n)}function D(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function F(n,t){return function(r){return n(t(r))}}function N(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==cn||(n[r]=cn,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);\nreturn n.forEach(function(n){r[++t]=n}),r}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Z(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function K(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function V(n){return T(n)?J(n):_e(n)}function G(n){return T(n)?Y(n):p(n)}function H(n){for(var t=n.length;t--&&Ct.test(n.charAt(t)););return t}function J(n){for(var t=Mr.lastIndex=0;Mr.test(n);)++t;return t}function Y(n){return n.match(Mr)||[];\n}function Q(n){return n.match(Fr)||[]}var X,nn=\"4.17.21\",tn=200,rn=\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\",en=\"Expected a function\",un=\"Invalid `variable` option passed into `_.template`\",on=\"__lodash_hash_undefined__\",fn=500,cn=\"__lodash_placeholder__\",an=1,ln=2,sn=4,hn=1,pn=2,_n=1,vn=2,gn=4,yn=8,dn=16,bn=32,wn=64,mn=128,xn=256,jn=512,An=30,kn=\"...\",On=800,In=16,Rn=1,zn=2,En=3,Sn=1/0,Wn=9007199254740991,Ln=1.7976931348623157e308,Cn=NaN,Un=4294967295,Bn=Un-1,Tn=Un>>>1,$n=[[\"ary\",mn],[\"bind\",_n],[\"bindKey\",vn],[\"curry\",yn],[\"curryRight\",dn],[\"flip\",jn],[\"partial\",bn],[\"partialRight\",wn],[\"rearg\",xn]],Dn=\"[object Arguments]\",Mn=\"[object Array]\",Fn=\"[object AsyncFunction]\",Nn=\"[object Boolean]\",Pn=\"[object Date]\",qn=\"[object DOMException]\",Zn=\"[object Error]\",Kn=\"[object Function]\",Vn=\"[object GeneratorFunction]\",Gn=\"[object Map]\",Hn=\"[object Number]\",Jn=\"[object Null]\",Yn=\"[object Object]\",Qn=\"[object Promise]\",Xn=\"[object Proxy]\",nt=\"[object RegExp]\",tt=\"[object Set]\",rt=\"[object String]\",et=\"[object Symbol]\",ut=\"[object Undefined]\",it=\"[object WeakMap]\",ot=\"[object WeakSet]\",ft=\"[object ArrayBuffer]\",ct=\"[object DataView]\",at=\"[object Float32Array]\",lt=\"[object Float64Array]\",st=\"[object Int8Array]\",ht=\"[object Int16Array]\",pt=\"[object Int32Array]\",_t=\"[object Uint8Array]\",vt=\"[object Uint8ClampedArray]\",gt=\"[object Uint16Array]\",yt=\"[object Uint32Array]\",dt=/\\b__p \\+= '';/g,bt=/\\b(__p \\+=) '' \\+/g,wt=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>\"']/g,jt=RegExp(mt.source),At=RegExp(xt.source),kt=/<%-([\\s\\S]+?)%>/g,Ot=/<%([\\s\\S]+?)%>/g,It=/<%=([\\s\\S]+?)%>/g,Rt=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,zt=/^\\w*$/,Et=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,St=/[\\\\^$.*+?()[\\]{}|]/g,Wt=RegExp(St.source),Lt=/^\\s+/,Ct=/\\s/,Ut=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Bt=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,Tt=/,? & /,$t=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,Dt=/[()=,{}\\[\\]\\/\\s]/,Mt=/\\\\(\\\\)?/g,Ft=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Nt=/\\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Zt=/^\\[object .+?Constructor\\]$/,Kt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\\d*)$/,Gt=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Ht=/($^)/,Jt=/['\\n\\r\\u2028\\u2029\\\\]/g,Yt=\"\\\\ud800-\\\\udfff\",Qt=\"\\\\u0300-\\\\u036f\",Xt=\"\\\\ufe20-\\\\ufe2f\",nr=\"\\\\u20d0-\\\\u20ff\",tr=Qt+Xt+nr,rr=\"\\\\u2700-\\\\u27bf\",er=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",ur=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\",ir=\"\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\",or=\"\\\\u2000-\\\\u206f\",fr=\" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",cr=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",ar=\"\\\\ufe0e\\\\ufe0f\",lr=ur+ir+or+fr,sr=\"['\\u2019]\",hr=\"[\"+Yt+\"]\",pr=\"[\"+lr+\"]\",_r=\"[\"+tr+\"]\",vr=\"\\\\d+\",gr=\"[\"+rr+\"]\",yr=\"[\"+er+\"]\",dr=\"[^\"+Yt+lr+vr+rr+er+cr+\"]\",br=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",wr=\"(?:\"+_r+\"|\"+br+\")\",mr=\"[^\"+Yt+\"]\",xr=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",jr=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",Ar=\"[\"+cr+\"]\",kr=\"\\\\u200d\",Or=\"(?:\"+yr+\"|\"+dr+\")\",Ir=\"(?:\"+Ar+\"|\"+dr+\")\",Rr=\"(?:\"+sr+\"(?:d|ll|m|re|s|t|ve))?\",zr=\"(?:\"+sr+\"(?:D|LL|M|RE|S|T|VE))?\",Er=wr+\"?\",Sr=\"[\"+ar+\"]?\",Wr=\"(?:\"+kr+\"(?:\"+[mr,xr,jr].join(\"|\")+\")\"+Sr+Er+\")*\",Lr=\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",Cr=\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",Ur=Sr+Er+Wr,Br=\"(?:\"+[gr,xr,jr].join(\"|\")+\")\"+Ur,Tr=\"(?:\"+[mr+_r+\"?\",_r,xr,jr,hr].join(\"|\")+\")\",$r=RegExp(sr,\"g\"),Dr=RegExp(_r,\"g\"),Mr=RegExp(br+\"(?=\"+br+\")|\"+Tr+Ur,\"g\"),Fr=RegExp([Ar+\"?\"+yr+\"+\"+Rr+\"(?=\"+[pr,Ar,\"$\"].join(\"|\")+\")\",Ir+\"+\"+zr+\"(?=\"+[pr,Ar+Or,\"$\"].join(\"|\")+\")\",Ar+\"?\"+Or+\"+\"+Rr,Ar+\"+\"+zr,Cr,Lr,vr,Br].join(\"|\"),\"g\"),Nr=RegExp(\"[\"+kr+Yt+tr+ar+\"]\"),Pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Zr=-1,Kr={};\nKr[at]=Kr[lt]=Kr[st]=Kr[ht]=Kr[pt]=Kr[_t]=Kr[vt]=Kr[gt]=Kr[yt]=!0,Kr[Dn]=Kr[Mn]=Kr[ft]=Kr[Nn]=Kr[ct]=Kr[Pn]=Kr[Zn]=Kr[Kn]=Kr[Gn]=Kr[Hn]=Kr[Yn]=Kr[nt]=Kr[tt]=Kr[rt]=Kr[it]=!1;var Vr={};Vr[Dn]=Vr[Mn]=Vr[ft]=Vr[ct]=Vr[Nn]=Vr[Pn]=Vr[at]=Vr[lt]=Vr[st]=Vr[ht]=Vr[pt]=Vr[Gn]=Vr[Hn]=Vr[Yn]=Vr[nt]=Vr[tt]=Vr[rt]=Vr[et]=Vr[_t]=Vr[vt]=Vr[gt]=Vr[yt]=!0,Vr[Zn]=Vr[Kn]=Vr[it]=!1;var Gr={\"\\xc0\":\"A\",\"\\xc1\":\"A\",\"\\xc2\":\"A\",\"\\xc3\":\"A\",\"\\xc4\":\"A\",\"\\xc5\":\"A\",\"\\xe0\":\"a\",\"\\xe1\":\"a\",\"\\xe2\":\"a\",\"\\xe3\":\"a\",\"\\xe4\":\"a\",\"\\xe5\":\"a\",\n\"\\xc7\":\"C\",\"\\xe7\":\"c\",\"\\xd0\":\"D\",\"\\xf0\":\"d\",\"\\xc8\":\"E\",\"\\xc9\":\"E\",\"\\xca\":\"E\",\"\\xcb\":\"E\",\"\\xe8\":\"e\",\"\\xe9\":\"e\",\"\\xea\":\"e\",\"\\xeb\":\"e\",\"\\xcc\":\"I\",\"\\xcd\":\"I\",\"\\xce\":\"I\",\"\\xcf\":\"I\",\"\\xec\":\"i\",\"\\xed\":\"i\",\"\\xee\":\"i\",\"\\xef\":\"i\",\"\\xd1\":\"N\",\"\\xf1\":\"n\",\"\\xd2\":\"O\",\"\\xd3\":\"O\",\"\\xd4\":\"O\",\"\\xd5\":\"O\",\"\\xd6\":\"O\",\"\\xd8\":\"O\",\"\\xf2\":\"o\",\"\\xf3\":\"o\",\"\\xf4\":\"o\",\"\\xf5\":\"o\",\"\\xf6\":\"o\",\"\\xf8\":\"o\",\"\\xd9\":\"U\",\"\\xda\":\"U\",\"\\xdb\":\"U\",\"\\xdc\":\"U\",\"\\xf9\":\"u\",\"\\xfa\":\"u\",\"\\xfb\":\"u\",\"\\xfc\":\"u\",\"\\xdd\":\"Y\",\"\\xfd\":\"y\",\"\\xff\":\"y\",\"\\xc6\":\"Ae\",\n\"\\xe6\":\"ae\",\"\\xde\":\"Th\",\"\\xfe\":\"th\",\"\\xdf\":\"ss\",\"\\u0100\":\"A\",\"\\u0102\":\"A\",\"\\u0104\":\"A\",\"\\u0101\":\"a\",\"\\u0103\":\"a\",\"\\u0105\":\"a\",\"\\u0106\":\"C\",\"\\u0108\":\"C\",\"\\u010a\":\"C\",\"\\u010c\":\"C\",\"\\u0107\":\"c\",\"\\u0109\":\"c\",\"\\u010b\":\"c\",\"\\u010d\":\"c\",\"\\u010e\":\"D\",\"\\u0110\":\"D\",\"\\u010f\":\"d\",\"\\u0111\":\"d\",\"\\u0112\":\"E\",\"\\u0114\":\"E\",\"\\u0116\":\"E\",\"\\u0118\":\"E\",\"\\u011a\":\"E\",\"\\u0113\":\"e\",\"\\u0115\":\"e\",\"\\u0117\":\"e\",\"\\u0119\":\"e\",\"\\u011b\":\"e\",\"\\u011c\":\"G\",\"\\u011e\":\"G\",\"\\u0120\":\"G\",\"\\u0122\":\"G\",\"\\u011d\":\"g\",\"\\u011f\":\"g\",\"\\u0121\":\"g\",\n\"\\u0123\":\"g\",\"\\u0124\":\"H\",\"\\u0126\":\"H\",\"\\u0125\":\"h\",\"\\u0127\":\"h\",\"\\u0128\":\"I\",\"\\u012a\":\"I\",\"\\u012c\":\"I\",\"\\u012e\":\"I\",\"\\u0130\":\"I\",\"\\u0129\":\"i\",\"\\u012b\":\"i\",\"\\u012d\":\"i\",\"\\u012f\":\"i\",\"\\u0131\":\"i\",\"\\u0134\":\"J\",\"\\u0135\":\"j\",\"\\u0136\":\"K\",\"\\u0137\":\"k\",\"\\u0138\":\"k\",\"\\u0139\":\"L\",\"\\u013b\":\"L\",\"\\u013d\":\"L\",\"\\u013f\":\"L\",\"\\u0141\":\"L\",\"\\u013a\":\"l\",\"\\u013c\":\"l\",\"\\u013e\":\"l\",\"\\u0140\":\"l\",\"\\u0142\":\"l\",\"\\u0143\":\"N\",\"\\u0145\":\"N\",\"\\u0147\":\"N\",\"\\u014a\":\"N\",\"\\u0144\":\"n\",\"\\u0146\":\"n\",\"\\u0148\":\"n\",\"\\u014b\":\"n\",\"\\u014c\":\"O\",\n\"\\u014e\":\"O\",\"\\u0150\":\"O\",\"\\u014d\":\"o\",\"\\u014f\":\"o\",\"\\u0151\":\"o\",\"\\u0154\":\"R\",\"\\u0156\":\"R\",\"\\u0158\":\"R\",\"\\u0155\":\"r\",\"\\u0157\":\"r\",\"\\u0159\":\"r\",\"\\u015a\":\"S\",\"\\u015c\":\"S\",\"\\u015e\":\"S\",\"\\u0160\":\"S\",\"\\u015b\":\"s\",\"\\u015d\":\"s\",\"\\u015f\":\"s\",\"\\u0161\":\"s\",\"\\u0162\":\"T\",\"\\u0164\":\"T\",\"\\u0166\":\"T\",\"\\u0163\":\"t\",\"\\u0165\":\"t\",\"\\u0167\":\"t\",\"\\u0168\":\"U\",\"\\u016a\":\"U\",\"\\u016c\":\"U\",\"\\u016e\":\"U\",\"\\u0170\":\"U\",\"\\u0172\":\"U\",\"\\u0169\":\"u\",\"\\u016b\":\"u\",\"\\u016d\":\"u\",\"\\u016f\":\"u\",\"\\u0171\":\"u\",\"\\u0173\":\"u\",\"\\u0174\":\"W\",\"\\u0175\":\"w\",\n\"\\u0176\":\"Y\",\"\\u0177\":\"y\",\"\\u0178\":\"Y\",\"\\u0179\":\"Z\",\"\\u017b\":\"Z\",\"\\u017d\":\"Z\",\"\\u017a\":\"z\",\"\\u017c\":\"z\",\"\\u017e\":\"z\",\"\\u0132\":\"IJ\",\"\\u0133\":\"ij\",\"\\u0152\":\"Oe\",\"\\u0153\":\"oe\",\"\\u0149\":\"'n\",\"\\u017f\":\"s\"},Hr={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},Jr={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},Yr={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Qr=parseFloat,Xr=parseInt,ne=\"object\"==typeof global&&global&&global.Object===Object&&global,te=\"object\"==typeof self&&self&&self.Object===Object&&self,re=ne||te||Function(\"return this\")(),ee=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,ue=ee&&\"object\"==typeof module&&module&&!module.nodeType&&module,ie=ue&&ue.exports===ee,oe=ie&&ne.process,fe=function(){\ntry{var n=ue&&ue.require&&ue.require(\"util\").types;return n?n:oe&&oe.binding&&oe.binding(\"util\")}catch(n){}}(),ce=fe&&fe.isArrayBuffer,ae=fe&&fe.isDate,le=fe&&fe.isMap,se=fe&&fe.isRegExp,he=fe&&fe.isSet,pe=fe&&fe.isTypedArray,_e=m(\"length\"),ve=x(Gr),ge=x(Hr),ye=x(Jr),de=function p(x){function Z(n){if(cc(n)&&!bh(n)&&!(n instanceof Ct)){if(n instanceof Y)return n;if(bl.call(n,\"__wrapped__\"))return eo(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,\nthis.__index__=0,this.__values__=X}function Ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Un,this.__views__=[]}function $t(){var n=new Ct(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Yt(){if(this.__filtered__){var n=new Ct(this);n.__dir__=-1,\nn.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Qt(){var n=this.__wrapped__.value(),t=this.__dir__,r=bh(n),e=t<0,u=r?n.length:0,i=Oi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Hl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return wu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==zn)g=w;else if(!w){if(b==Rn)continue n;break n}}_[h++]=g}return _}function Xt(n){\nvar t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function nr(){this.__data__=is?is(null):{},this.size=0}function tr(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function rr(n){var t=this.__data__;if(is){var r=t[n];return r===on?X:r}return bl.call(t,n)?t[n]:X}function er(n){var t=this.__data__;return is?t[n]!==X:bl.call(t,n)}function ur(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=is&&t===X?on:t,this}function ir(n){\nvar t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function or(){this.__data__=[],this.size=0}function fr(n){var t=this.__data__,r=Wr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Ll.call(t,r,1),--this.size,!0)}function cr(n){var t=this.__data__,r=Wr(t,n);return r<0?X:t[r][1]}function ar(n){return Wr(this.__data__,n)>-1}function lr(n,t){var r=this.__data__,e=Wr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function sr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){\nvar e=n[t];this.set(e[0],e[1])}}function hr(){this.size=0,this.__data__={hash:new Xt,map:new(ts||ir),string:new Xt}}function pr(n){var t=xi(this,n).delete(n);return this.size-=t?1:0,t}function _r(n){return xi(this,n).get(n)}function vr(n){return xi(this,n).has(n)}function gr(n,t){var r=xi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function yr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new sr;++t<r;)this.add(n[t])}function dr(n){return this.__data__.set(n,on),this}function br(n){\nreturn this.__data__.has(n)}function wr(n){this.size=(this.__data__=new ir(n)).size}function mr(){this.__data__=new ir,this.size=0}function xr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function jr(n){return this.__data__.get(n)}function Ar(n){return this.__data__.has(n)}function kr(n,t){var r=this.__data__;if(r instanceof ir){var e=r.__data__;if(!ts||e.length<tn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new sr(e)}return r.set(n,t),this.size=r.size,this}function Or(n,t){\nvar r=bh(n),e=!r&&dh(n),u=!r&&!e&&mh(n),i=!r&&!e&&!u&&Oh(n),o=r||e||u||i,f=o?O(n.length,hl):[],c=f.length;for(var a in n)!t&&!bl.call(n,a)||o&&(\"length\"==a||u&&(\"offset\"==a||\"parent\"==a)||i&&(\"buffer\"==a||\"byteLength\"==a||\"byteOffset\"==a)||Ci(a,c))||f.push(a);return f}function Ir(n){var t=n.length;return t?n[tu(0,t-1)]:X}function Rr(n,t){return Xi(Tu(n),Mr(t,0,n.length))}function zr(n){return Xi(Tu(n))}function Er(n,t,r){(r===X||Gf(n[t],r))&&(r!==X||t in n)||Br(n,t,r)}function Sr(n,t,r){var e=n[t];\nbl.call(n,t)&&Gf(e,r)&&(r!==X||t in n)||Br(n,t,r)}function Wr(n,t){for(var r=n.length;r--;)if(Gf(n[r][0],t))return r;return-1}function Lr(n,t,r,e){return ys(n,function(n,u,i){t(e,n,r(n),i)}),e}function Cr(n,t){return n&&$u(t,Pc(t),n)}function Ur(n,t){return n&&$u(t,qc(t),n)}function Br(n,t,r){\"__proto__\"==t&&Tl?Tl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Tr(n,t){for(var r=-1,e=t.length,u=il(e),i=null==n;++r<e;)u[r]=i?X:Mc(n,t[r]);return u}function Mr(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),\nt!==X&&(n=n>=t?n:t)),n}function Fr(n,t,e,u,i,o){var f,c=t&an,a=t&ln,l=t&sn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==X)return f;if(!fc(n))return n;var s=bh(n);if(s){if(f=zi(n),!c)return Tu(n,f)}else{var h=zs(n),p=h==Kn||h==Vn;if(mh(n))return Iu(n,c);if(h==Yn||h==Dn||p&&!i){if(f=a||p?{}:Ei(n),!c)return a?Mu(n,Ur(f,n)):Du(n,Cr(f,n))}else{if(!Vr[h])return i?n:{};f=Si(n,h,c)}}o||(o=new wr);var _=o.get(n);if(_)return _;o.set(n,f),kh(n)?n.forEach(function(r){f.add(Fr(r,t,e,r,n,o))}):jh(n)&&n.forEach(function(r,u){\nf.set(u,Fr(r,t,e,u,n,o))});var v=l?a?di:yi:a?qc:Pc,g=s?X:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Sr(f,u,Fr(r,t,e,u,n,o))}),f}function Nr(n){var t=Pc(n);return function(r){return Pr(r,n,t)}}function Pr(n,t,r){var e=r.length;if(null==n)return!e;for(n=ll(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function Gr(n,t,r){if(\"function\"!=typeof n)throw new pl(en);return Ws(function(){n.apply(X,r)},t)}function Hr(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;\nif(!l)return s;r&&(t=c(t,z(r))),e?(i=f,a=!1):t.length>=tn&&(i=S,a=!1,t=new yr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function Jr(n,t){var r=!0;return ys(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Yr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!bc(o):r(o,f)))var f=o,c=i}return c}function ne(n,t,r,e){var u=n.length;for(r=kc(r),r<0&&(r=-r>u?0:u+r),\ne=e===X||e>u?u:kc(e),e<0&&(e+=u),e=r>e?0:Oc(e);r<e;)n[r++]=t;return n}function te(n,t){var r=[];return ys(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ee(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Li),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ee(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function ue(n,t){return n&&bs(n,t,Pc)}function oe(n,t){return n&&ws(n,t,Pc)}function fe(n,t){return i(t,function(t){return uc(n[t])})}function _e(n,t){t=ku(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[no(t[r++])];\nreturn r&&r==e?n:X}function de(n,t,r){var e=t(n);return bh(n)?e:a(e,r(n))}function we(n){return null==n?n===X?ut:Jn:Bl&&Bl in ll(n)?ki(n):Ki(n)}function me(n,t){return n>t}function xe(n,t){return null!=n&&bl.call(n,t)}function je(n,t){return null!=n&&t in ll(n)}function Ae(n,t,r){return n>=Hl(t,r)&&n<Gl(t,r)}function ke(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=il(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,z(t))),s=Hl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new yr(a&&p):X}p=n[0];\nvar _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?S(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?S(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Oe(n,t,r,e){return ue(n,function(n,u,i){t(e,r(n),u,i)}),e}function Ie(t,r,e){r=ku(r,t),t=Gi(t,r);var u=null==t?t:t[no(jo(r))];return null==u?X:n(u,t,e)}function Re(n){return cc(n)&&we(n)==Dn}function ze(n){return cc(n)&&we(n)==ft}function Ee(n){return cc(n)&&we(n)==Pn}function Se(n,t,r,e,u){\nreturn n===t||(null==n||null==t||!cc(n)&&!cc(t)?n!==n&&t!==t:We(n,t,r,e,Se,u))}function We(n,t,r,e,u,i){var o=bh(n),f=bh(t),c=o?Mn:zs(n),a=f?Mn:zs(t);c=c==Dn?Yn:c,a=a==Dn?Yn:a;var l=c==Yn,s=a==Yn,h=c==a;if(h&&mh(n)){if(!mh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new wr),o||Oh(n)?pi(n,t,r,e,u,i):_i(n,t,c,r,e,u,i);if(!(r&hn)){var p=l&&bl.call(n,\"__wrapped__\"),_=s&&bl.call(t,\"__wrapped__\");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new wr),u(v,g,r,e,i)}}return!!h&&(i||(i=new wr),vi(n,t,r,e,u,i));\n}function Le(n){return cc(n)&&zs(n)==Gn}function Ce(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ll(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new wr;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?Se(l,a,hn|pn,e,s):h))return!1}}return!0}function Ue(n){return!(!fc(n)||Di(n))&&(uc(n)?kl:Zt).test(to(n))}function Be(n){return cc(n)&&we(n)==nt}function Te(n){return cc(n)&&zs(n)==tt;\n}function $e(n){return cc(n)&&oc(n.length)&&!!Kr[we(n)]}function De(n){return\"function\"==typeof n?n:null==n?La:\"object\"==typeof n?bh(n)?Ze(n[0],n[1]):qe(n):Fa(n)}function Me(n){if(!Mi(n))return Vl(n);var t=[];for(var r in ll(n))bl.call(n,r)&&\"constructor\"!=r&&t.push(r);return t}function Fe(n){if(!fc(n))return Zi(n);var t=Mi(n),r=[];for(var e in n)(\"constructor\"!=e||!t&&bl.call(n,e))&&r.push(e);return r}function Ne(n,t){return n<t}function Pe(n,t){var r=-1,e=Hf(n)?il(n.length):[];return ys(n,function(n,u,i){\ne[++r]=t(n,u,i)}),e}function qe(n){var t=ji(n);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===n||Ce(r,n,t)}}function Ze(n,t){return Bi(n)&&Fi(t)?Ni(no(n),t):function(r){var e=Mc(r,n);return e===X&&e===t?Nc(r,n):Se(t,e,hn|pn)}}function Ke(n,t,r,e,u){n!==t&&bs(t,function(i,o){if(u||(u=new wr),fc(i))Ve(n,t,o,r,Ke,e,u);else{var f=e?e(Ji(n,o),i,o+\"\",n,t,u):X;f===X&&(f=i),Er(n,o,f)}},qc)}function Ve(n,t,r,e,u,i,o){var f=Ji(n,r),c=Ji(t,r),a=o.get(c);if(a)return Er(n,r,a),X;var l=i?i(f,c,r+\"\",n,t,o):X,s=l===X;\nif(s){var h=bh(c),p=!h&&mh(c),_=!h&&!p&&Oh(c);l=c,h||p||_?bh(f)?l=f:Jf(f)?l=Tu(f):p?(s=!1,l=Iu(c,!0)):_?(s=!1,l=Wu(c,!0)):l=[]:gc(c)||dh(c)?(l=f,dh(f)?l=Rc(f):fc(f)&&!uc(f)||(l=Ei(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Er(n,r,l)}function Ge(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ci(t,r)?n[t]:X}function He(n,t,r){t=t.length?c(t,function(n){return bh(n)?function(t){return _e(t,1===n.length?n[0]:n)}:n}):[La];var e=-1;return t=c(t,z(mi())),A(Pe(n,function(n,r,u){return{criteria:c(t,function(t){\nreturn t(n)}),index:++e,value:n}}),function(n,t){return Cu(n,t,r)})}function Je(n,t){return Ye(n,t,function(t,r){return Nc(n,r)})}function Ye(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=_e(n,o);r(f,o)&&fu(i,ku(o,n),f)}return i}function Qe(n){return function(t){return _e(t,n)}}function Xe(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Tu(t)),r&&(f=c(n,z(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Ll.call(f,a,1),Ll.call(n,a,1);return n}function nu(n,t){for(var r=n?t.length:0,e=r-1;r--;){\nvar u=t[r];if(r==e||u!==i){var i=u;Ci(u)?Ll.call(n,u,1):yu(n,u)}}return n}function tu(n,t){return n+Nl(Ql()*(t-n+1))}function ru(n,t,r,e){for(var u=-1,i=Gl(Fl((t-n)/(r||1)),0),o=il(i);i--;)o[e?i:++u]=n,n+=r;return o}function eu(n,t){var r=\"\";if(!n||t<1||t>Wn)return r;do t%2&&(r+=n),t=Nl(t/2),t&&(n+=n);while(t);return r}function uu(n,t){return Ls(Vi(n,t,La),n+\"\")}function iu(n){return Ir(ra(n))}function ou(n,t){var r=ra(n);return Xi(r,Mr(t,0,r.length))}function fu(n,t,r,e){if(!fc(n))return n;t=ku(t,n);\nfor(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=no(t[u]),a=r;if(\"__proto__\"===c||\"constructor\"===c||\"prototype\"===c)return n;if(u!=o){var l=f[c];a=e?e(l,c,f):X,a===X&&(a=fc(l)?l:Ci(t[u+1])?[]:{})}Sr(f,c,a),f=f[c]}return n}function cu(n){return Xi(ra(n))}function au(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=il(u);++e<u;)i[e]=n[e+t];return i}function lu(n,t){var r;return ys(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function su(n,t,r){\nvar e=0,u=null==n?e:n.length;if(\"number\"==typeof t&&t===t&&u<=Tn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!bc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return hu(n,t,La,r)}function hu(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!==t,f=null===t,c=bc(t),a=t===X;u<i;){var l=Nl((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=bc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Hl(i,Bn)}function pu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){\nvar o=n[r],f=t?t(o):o;if(!r||!Gf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function _u(n){return\"number\"==typeof n?n:bc(n)?Cn:+n}function vu(n){if(\"string\"==typeof n)return n;if(bh(n))return c(n,vu)+\"\";if(bc(n))return vs?vs.call(n):\"\";var t=n+\"\";return\"0\"==t&&1/n==-Sn?\"-0\":t}function gu(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=tn){var s=t?null:ks(n);if(s)return P(s);c=!1,u=S,l=new yr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;\nt&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function yu(n,t){return t=ku(t,n),n=Gi(n,t),null==n||delete n[no(jo(t))]}function du(n,t,r,e){return fu(n,t,r(_e(n,t)),e)}function bu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?au(n,e?0:i,e?i+1:u):au(n,e?i+1:0,e?u:i)}function wu(n,t){var r=n;return r instanceof Ct&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function mu(n,t,r){var e=n.length;if(e<2)return e?gu(n[0]):[];\nfor(var u=-1,i=il(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=Hr(i[u]||o,n[f],t,r));return gu(ee(i,1),t,r)}function xu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){r(o,n[e],e<i?t[e]:X)}return o}function ju(n){return Jf(n)?n:[]}function Au(n){return\"function\"==typeof n?n:La}function ku(n,t){return bh(n)?n:Bi(n,t)?[n]:Cs(Ec(n))}function Ou(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:au(n,t,r)}function Iu(n,t){if(t)return n.slice();var r=n.length,e=zl?zl(r):new n.constructor(r);\nreturn n.copy(e),e}function Ru(n){var t=new n.constructor(n.byteLength);return new Rl(t).set(new Rl(n)),t}function zu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.byteLength)}function Eu(n){var t=new n.constructor(n.source,Nt.exec(n));return t.lastIndex=n.lastIndex,t}function Su(n){return _s?ll(_s.call(n)):{}}function Wu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.length)}function Lu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=bc(n),o=t!==X,f=null===t,c=t===t,a=bc(t);\nif(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Lu(u[e],i[e]);if(c){if(e>=f)return c;return c*(\"desc\"==r[e]?-1:1)}}return n.index-t.index}function Uu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Gl(i-o,0),l=il(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l;\n}function Bu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Gl(i-f,0),s=il(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Tu(n,t){var r=-1,e=n.length;for(t||(t=il(e));++r<e;)t[r]=n[r];return t}function $u(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?Br(r,f,c):Sr(r,f,c)}return r}function Du(n,t){return $u(n,Is(n),t)}function Mu(n,t){return $u(n,Rs(n),t);\n}function Fu(n,r){return function(e,u){var i=bh(e)?t:Lr,o=r?r():{};return i(e,n,mi(u,2),o)}}function Nu(n){return uu(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&\"function\"==typeof i?(u--,i):X,o&&Ui(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=ll(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Pu(n,t){return function(r,e){if(null==r)return r;if(!Hf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ll(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function qu(n){return function(t,r,e){\nfor(var u=-1,i=ll(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(r(i[c],c,i)===!1)break}return t}}function Zu(n,t,r){function e(){return(this&&this!==re&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&_n,i=Gu(n);return e}function Ku(n){return function(t){t=Ec(t);var r=T(t)?G(t):X,e=r?r[0]:t.charAt(0),u=r?Ou(r,1).join(\"\"):t.slice(1);return e[n]()+u}}function Vu(n){return function(t){return l(Ra(ca(t).replace($r,\"\")),n,\"\")}}function Gu(n){return function(){var t=arguments;switch(t.length){\ncase 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gs(n.prototype),e=n.apply(r,t);return fc(e)?e:r}}function Hu(t,r,e){function u(){for(var o=arguments.length,f=il(o),c=o,a=wi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:N(f,a);\nreturn o-=l.length,o<e?oi(t,r,Qu,u.placeholder,X,f,l,X,X,e-o):n(this&&this!==re&&this instanceof u?i:t,this,f)}var i=Gu(t);return u}function Ju(n){return function(t,r,e){var u=ll(t);if(!Hf(t)){var i=mi(r,3);t=Pc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Yu(n){return gi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if(\"function\"!=typeof i)throw new pl(en);if(u&&!o&&\"wrapper\"==bi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){\ni=t[e];var f=bi(i),c=\"wrapper\"==f?Os(i):X;o=c&&$i(c[0])&&c[1]==(mn|yn|bn|xn)&&!c[4].length&&1==c[9]?o[bi(c[0])].apply(o,c[3]):1==i.length&&$i(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&bh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Qu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=il(y),b=y;b--;)d[b]=arguments[b];if(_)var w=wi(l),m=C(d,w);if(e&&(d=Uu(d,e,u,_)),i&&(d=Bu(d,i,o,_)),\ny-=m,_&&y<a){return oi(n,t,Qu,l.placeholder,r,d,N(d,w),f,c,a-y)}var x=h?r:this,j=p?x[n]:n;return y=d.length,f?d=Hi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==re&&this instanceof l&&(j=g||Gu(j)),j.apply(x,d)}var s=t&mn,h=t&_n,p=t&vn,_=t&(yn|dn),v=t&jn,g=p?X:Gu(n);return l}function Xu(n,t){return function(r,e){return Oe(r,n,t(e),{})}}function ni(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;\"string\"==typeof r||\"string\"==typeof e?(r=vu(r),\ne=vu(e)):(r=_u(r),e=_u(e)),u=n(r,e)}return u}}function ti(t){return gi(function(r){return r=c(r,z(mi())),uu(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function ri(n,t){t=t===X?\" \":vu(t);var r=t.length;if(r<2)return r?eu(t,n):t;var e=eu(t,Fl(n/V(t)));return T(t)?Ou(G(e),0,n).join(\"\"):e.slice(0,n)}function ei(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=il(l+c),h=this&&this!==re&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];\nreturn n(h,o?e:this,s)}var o=r&_n,f=Gu(t);return i}function ui(n){return function(t,r,e){return e&&\"number\"!=typeof e&&Ui(t,r,e)&&(r=e=X),t=Ac(t),r===X?(r=t,t=0):r=Ac(r),e=e===X?t<r?1:-1:Ac(e),ru(t,r,e,n)}}function ii(n){return function(t,r){return\"string\"==typeof t&&\"string\"==typeof r||(t=Ic(t),r=Ic(r)),n(t,r)}}function oi(n,t,r,e,u,i,o,f,c,a){var l=t&yn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?bn:wn,t&=~(l?wn:bn),t&gn||(t&=~(_n|vn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return $i(n)&&Ss(g,v),g.placeholder=e,\nYi(g,n,t)}function fi(n){var t=al[n];return function(n,r){if(n=Ic(n),r=null==r?0:Hl(kc(r),292),r&&Zl(n)){var e=(Ec(n)+\"e\").split(\"e\");return e=(Ec(t(e[0]+\"e\"+(+e[1]+r)))+\"e\").split(\"e\"),+(e[0]+\"e\"+(+e[1]-r))}return t(n)}}function ci(n){return function(t){var r=zs(t);return r==Gn?M(t):r==tt?q(t):I(t,n(t))}}function ai(n,t,r,e,u,i,o,f){var c=t&vn;if(!c&&\"function\"!=typeof n)throw new pl(en);var a=e?e.length:0;if(a||(t&=~(bn|wn),e=u=X),o=o===X?o:Gl(kc(o),0),f=f===X?f:kc(f),a-=u?u.length:0,t&wn){var l=e,s=u;\ne=u=X}var h=c?X:Os(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&qi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:Gl(p[9]-a,0),!f&&t&(yn|dn)&&(t&=~(yn|dn)),t&&t!=_n)_=t==yn||t==dn?Hu(n,t,f):t!=bn&&t!=(_n|bn)||u.length?Qu.apply(X,p):ei(n,t,r,e);else var _=Zu(n,t,r);return Yi((h?ms:Ss)(_,p),n,t)}function li(n,t,r,e){return n===X||Gf(n,gl[r])&&!bl.call(e,r)?t:n}function si(n,t,r,e,u,i){return fc(n)&&fc(t)&&(i.set(t,n),Ke(n,t,X,si,i),i.delete(t)),n}function hi(n){return gc(n)?X:n}function pi(n,t,r,e,u,i){\nvar o=r&hn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,p=!0,_=r&pn?new yr:X;for(i.set(n,t),i.set(t,n);++s<f;){var v=n[s],g=t[s];if(e)var y=o?e(g,v,s,t,n,i):e(v,g,s,n,t,i);if(y!==X){if(y)continue;p=!1;break}if(_){if(!h(t,function(n,t){if(!S(_,t)&&(v===n||u(v,n,r,e,i)))return _.push(t)})){p=!1;break}}else if(v!==g&&!u(v,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function _i(n,t,r,e,u,i,o){switch(r){case ct:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;\nn=n.buffer,t=t.buffer;case ft:return!(n.byteLength!=t.byteLength||!i(new Rl(n),new Rl(t)));case Nn:case Pn:case Hn:return Gf(+n,+t);case Zn:return n.name==t.name&&n.message==t.message;case nt:case rt:return n==t+\"\";case Gn:var f=M;case tt:var c=e&hn;if(f||(f=P),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=pn,o.set(n,t);var l=pi(f(n),f(t),e,u,i,o);return o.delete(n),l;case et:if(_s)return _s.call(n)==_s.call(t)}return!1}function vi(n,t,r,e,u,i){var o=r&hn,f=yi(n),c=f.length;if(c!=yi(t).length&&!o)return!1;\nfor(var a=c;a--;){var l=f[a];if(!(o?l in t:bl.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var _=o;++a<c;){l=f[a];var v=n[l],g=t[l];if(e)var y=o?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(y===X?v===g||u(v,g,r,e,i):y)){p=!1;break}_||(_=\"constructor\"==l)}if(p&&!_){var d=n.constructor,b=t.constructor;d!=b&&\"constructor\"in n&&\"constructor\"in t&&!(\"function\"==typeof d&&d instanceof d&&\"function\"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),\ni.delete(t),p}function gi(n){return Ls(Vi(n,X,_o),n+\"\")}function yi(n){return de(n,Pc,Is)}function di(n){return de(n,qc,Rs)}function bi(n){for(var t=n.name+\"\",r=fs[t],e=bl.call(fs,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function wi(n){return(bl.call(Z,\"placeholder\")?Z:n).placeholder}function mi(){var n=Z.iteratee||Ca;return n=n===Ca?De:n,arguments.length?n(arguments[0],arguments[1]):n}function xi(n,t){var r=n.__data__;return Ti(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map;\n}function ji(n){for(var t=Pc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Fi(u)]}return t}function Ai(n,t){var r=B(n,t);return Ue(r)?r:X}function ki(n){var t=bl.call(n,Bl),r=n[Bl];try{n[Bl]=X;var e=!0}catch(n){}var u=xl.call(n);return e&&(t?n[Bl]=r:delete n[Bl]),u}function Oi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case\"drop\":n+=o;break;case\"dropRight\":t-=o;break;case\"take\":t=Hl(t,n+o);break;case\"takeRight\":n=Gl(n,t-o)}}return{start:n,end:t}}function Ii(n){var t=n.match(Bt);\nreturn t?t[1].split(Tt):[]}function Ri(n,t,r){t=ku(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=no(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&oc(u)&&Ci(o,u)&&(bh(n)||dh(n)))}function zi(n){var t=n.length,r=new n.constructor(t);return t&&\"string\"==typeof n[0]&&bl.call(n,\"index\")&&(r.index=n.index,r.input=n.input),r}function Ei(n){return\"function\"!=typeof n.constructor||Mi(n)?{}:gs(El(n))}function Si(n,t,r){var e=n.constructor;switch(t){case ft:return Ru(n);\ncase Nn:case Pn:return new e(+n);case ct:return zu(n,r);case at:case lt:case st:case ht:case pt:case _t:case vt:case gt:case yt:return Wu(n,r);case Gn:return new e;case Hn:case rt:return new e(n);case nt:return Eu(n);case tt:return new e;case et:return Su(n)}}function Wi(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?\"& \":\"\")+t[e],t=t.join(r>2?\", \":\" \"),n.replace(Ut,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}function Li(n){return bh(n)||dh(n)||!!(Cl&&n&&n[Cl])}function Ci(n,t){var r=typeof n;\nreturn t=null==t?Wn:t,!!t&&(\"number\"==r||\"symbol\"!=r&&Vt.test(n))&&n>-1&&n%1==0&&n<t}function Ui(n,t,r){if(!fc(r))return!1;var e=typeof t;return!!(\"number\"==e?Hf(r)&&Ci(t,r.length):\"string\"==e&&t in r)&&Gf(r[t],n)}function Bi(n,t){if(bh(n))return!1;var r=typeof n;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=n&&!bc(n))||(zt.test(n)||!Rt.test(n)||null!=t&&n in ll(t))}function Ti(n){var t=typeof n;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==n:null===n}function $i(n){\nvar t=bi(n),r=Z[t];if(\"function\"!=typeof r||!(t in Ct.prototype))return!1;if(n===r)return!0;var e=Os(r);return!!e&&n===e[0]}function Di(n){return!!ml&&ml in n}function Mi(n){var t=n&&n.constructor;return n===(\"function\"==typeof t&&t.prototype||gl)}function Fi(n){return n===n&&!fc(n)}function Ni(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==X||n in ll(r)))}}function Pi(n){var t=Cf(n,function(n){return r.size===fn&&r.clear(),n}),r=t.cache;return t}function qi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(_n|vn|mn),o=e==mn&&r==yn||e==mn&&r==xn&&n[7].length<=t[8]||e==(mn|xn)&&t[7].length<=t[8]&&r==yn;\nif(!i&&!o)return n;e&_n&&(n[2]=t[2],u|=r&_n?0:gn);var f=t[3];if(f){var c=n[3];n[3]=c?Uu(c,f,t[4]):f,n[4]=c?N(n[3],cn):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Bu(c,f,t[6]):f,n[6]=c?N(n[5],cn):t[6]),f=t[7],f&&(n[7]=f),e&mn&&(n[8]=null==n[8]?t[8]:Hl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Zi(n){var t=[];if(null!=n)for(var r in ll(n))t.push(r);return t}function Ki(n){return xl.call(n)}function Vi(t,r,e){return r=Gl(r===X?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Gl(u.length-r,0),f=il(o);++i<o;)f[i]=u[r+i];\ni=-1;for(var c=il(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Gi(n,t){return t.length<2?n:_e(n,au(t,0,-1))}function Hi(n,t){for(var r=n.length,e=Hl(t.length,r),u=Tu(n);e--;){var i=t[e];n[e]=Ci(i,r)?u[i]:X}return n}function Ji(n,t){if((\"constructor\"!==t||\"function\"!=typeof n[t])&&\"__proto__\"!=t)return n[t]}function Yi(n,t,r){var e=t+\"\";return Ls(n,Wi(e,ro(Ii(e),r)))}function Qi(n){var t=0,r=0;return function(){var e=Jl(),u=In-(e-r);if(r=e,u>0){if(++t>=On)return arguments[0]}else t=0;\nreturn n.apply(X,arguments)}}function Xi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=tu(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function no(n){if(\"string\"==typeof n||bc(n))return n;var t=n+\"\";return\"0\"==t&&1/n==-Sn?\"-0\":t}function to(n){if(null!=n){try{return dl.call(n)}catch(n){}try{return n+\"\"}catch(n){}}return\"\"}function ro(n,t){return r($n,function(r){var e=\"_.\"+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function eo(n){if(n instanceof Ct)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);\nreturn t.__actions__=Tu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function uo(n,t,r){t=(r?Ui(n,t,r):t===X)?1:Gl(kc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=il(Fl(e/t));u<e;)o[i++]=au(n,u,u+=t);return o}function io(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function oo(){var n=arguments.length;if(!n)return[];for(var t=il(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(bh(r)?Tu(r):[r],ee(t,1));\n}function fo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),au(n,t<0?0:t,e)):[]}function co(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,0,t<0?0:t)):[]}function ao(n,t){return n&&n.length?bu(n,mi(t,3),!0,!0):[]}function lo(n,t){return n&&n.length?bu(n,mi(t,3),!0):[]}function so(n,t,r,e){var u=null==n?0:n.length;return u?(r&&\"number\"!=typeof r&&Ui(n,t,r)&&(r=0,e=u),ne(n,t,r,e)):[]}function ho(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);\nreturn u<0&&(u=Gl(e+u,0)),g(n,mi(t,3),u)}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=kc(r),u=r<0?Gl(e+u,0):Hl(u,e-1)),g(n,mi(t,3),u,!0)}function _o(n){return(null==n?0:n.length)?ee(n,1):[]}function vo(n){return(null==n?0:n.length)?ee(n,Sn):[]}function go(n,t){return(null==n?0:n.length)?(t=t===X?1:kc(t),ee(n,t)):[]}function yo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function bo(n){return n&&n.length?n[0]:X}function wo(n,t,r){\nvar e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);return u<0&&(u=Gl(e+u,0)),y(n,t,u)}function mo(n){return(null==n?0:n.length)?au(n,0,-1):[]}function xo(n,t){return null==n?\"\":Kl.call(n,t)}function jo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function Ao(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=kc(r),u=u<0?Gl(e+u,0):Hl(u,e-1)),t===t?K(n,t,u):g(n,b,u,!0)}function ko(n,t){return n&&n.length?Ge(n,kc(t)):X}function Oo(n,t){return n&&n.length&&t&&t.length?Xe(n,t):n;\n}function Io(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,mi(r,2)):n}function Ro(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,X,r):n}function zo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=mi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return nu(n,u),r}function Eo(n){return null==n?n:Xl.call(n)}function So(n,t,r){var e=null==n?0:n.length;return e?(r&&\"number\"!=typeof r&&Ui(n,t,r)?(t=0,r=e):(t=null==t?0:kc(t),r=r===X?e:kc(r)),au(n,t,r)):[]}function Wo(n,t){\nreturn su(n,t)}function Lo(n,t,r){return hu(n,t,mi(r,2))}function Co(n,t){var r=null==n?0:n.length;if(r){var e=su(n,t);if(e<r&&Gf(n[e],t))return e}return-1}function Uo(n,t){return su(n,t,!0)}function Bo(n,t,r){return hu(n,t,mi(r,2),!0)}function To(n,t){if(null==n?0:n.length){var r=su(n,t,!0)-1;if(Gf(n[r],t))return r}return-1}function $o(n){return n&&n.length?pu(n):[]}function Do(n,t){return n&&n.length?pu(n,mi(t,2)):[]}function Mo(n){var t=null==n?0:n.length;return t?au(n,1,t):[]}function Fo(n,t,r){\nreturn n&&n.length?(t=r||t===X?1:kc(t),au(n,0,t<0?0:t)):[]}function No(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,t<0?0:t,e)):[]}function Po(n,t){return n&&n.length?bu(n,mi(t,3),!1,!0):[]}function qo(n,t){return n&&n.length?bu(n,mi(t,3)):[]}function Zo(n){return n&&n.length?gu(n):[]}function Ko(n,t){return n&&n.length?gu(n,mi(t,2)):[]}function Vo(n,t){return t=\"function\"==typeof t?t:X,n&&n.length?gu(n,X,t):[]}function Go(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){\nif(Jf(n))return t=Gl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Ho(t,r){if(!t||!t.length)return[];var e=Go(t);return null==r?e:c(e,function(t){return n(r,X,t)})}function Jo(n,t){return xu(n||[],t||[],Sr)}function Yo(n,t){return xu(n||[],t||[],fu)}function Qo(n){var t=Z(n);return t.__chain__=!0,t}function Xo(n,t){return t(n),n}function nf(n,t){return t(n)}function tf(){return Qo(this)}function rf(){return new Y(this.value(),this.__chain__)}function ef(){this.__values__===X&&(this.__values__=jc(this.value()));\nvar n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function uf(){return this}function of(n){for(var t,r=this;r instanceof J;){var e=eo(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function ff(){var n=this.__wrapped__;if(n instanceof Ct){var t=n;return this.__actions__.length&&(t=new Ct(this)),t=t.reverse(),t.__actions__.push({func:nf,args:[Eo],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Eo);\n}function cf(){return wu(this.__wrapped__,this.__actions__)}function af(n,t,r){var e=bh(n)?u:Jr;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function lf(n,t){return(bh(n)?i:te)(n,mi(t,3))}function sf(n,t){return ee(yf(n,t),1)}function hf(n,t){return ee(yf(n,t),Sn)}function pf(n,t,r){return r=r===X?1:kc(r),ee(yf(n,t),r)}function _f(n,t){return(bh(n)?r:ys)(n,mi(t,3))}function vf(n,t){return(bh(n)?e:ds)(n,mi(t,3))}function gf(n,t,r,e){n=Hf(n)?n:ra(n),r=r&&!e?kc(r):0;var u=n.length;return r<0&&(r=Gl(u+r,0)),\ndc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function yf(n,t){return(bh(n)?c:Pe)(n,mi(t,3))}function df(n,t,r,e){return null==n?[]:(bh(t)||(t=null==t?[]:[t]),r=e?X:r,bh(r)||(r=null==r?[]:[r]),He(n,t,r))}function bf(n,t,r){var e=bh(n)?l:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ys)}function wf(n,t,r){var e=bh(n)?s:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ds)}function mf(n,t){return(bh(n)?i:te)(n,Uf(mi(t,3)))}function xf(n){return(bh(n)?Ir:iu)(n)}function jf(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),\n(bh(n)?Rr:ou)(n,t)}function Af(n){return(bh(n)?zr:cu)(n)}function kf(n){if(null==n)return 0;if(Hf(n))return dc(n)?V(n):n.length;var t=zs(n);return t==Gn||t==tt?n.size:Me(n).length}function Of(n,t,r){var e=bh(n)?h:lu;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function If(n,t){if(\"function\"!=typeof t)throw new pl(en);return n=kc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Rf(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,ai(n,mn,X,X,X,X,t)}function zf(n,t){var r;if(\"function\"!=typeof t)throw new pl(en);\nreturn n=kc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Ef(n,t,r){t=r?X:t;var e=ai(n,yn,X,X,X,X,X,t);return e.placeholder=Ef.placeholder,e}function Sf(n,t,r){t=r?X:t;var e=ai(n,dn,X,X,X,X,X,t);return e.placeholder=Sf.placeholder,e}function Wf(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Ws(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Hl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_;\n}function f(){var n=fh();return o(n)?c(n):(g=Ws(f,i(n)),X)}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&As(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(fh())}function s(){var n=fh(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return As(g),g=Ws(f,t),e(y)}return g===X&&(g=Ws(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if(\"function\"!=typeof n)throw new pl(en);return t=Ic(t)||0,fc(r)&&(b=!!r.leading,w=\"maxWait\"in r,_=w?Gl(Ic(r.maxWait)||0,t):_,m=\"trailing\"in r?!!r.trailing:m),\ns.cancel=a,s.flush=l,s}function Lf(n){return ai(n,jn)}function Cf(n,t){if(\"function\"!=typeof n||null!=t&&\"function\"!=typeof t)throw new pl(en);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Cf.Cache||sr),r}function Uf(n){if(\"function\"!=typeof n)throw new pl(en);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:\nreturn!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Bf(n){return zf(2,n)}function Tf(n,t){if(\"function\"!=typeof n)throw new pl(en);return t=t===X?t:kc(t),uu(n,t)}function $f(t,r){if(\"function\"!=typeof t)throw new pl(en);return r=null==r?0:Gl(kc(r),0),uu(function(e){var u=e[r],i=Ou(e,0,r);return u&&a(i,u),n(t,this,i)})}function Df(n,t,r){var e=!0,u=!0;if(\"function\"!=typeof n)throw new pl(en);return fc(r)&&(e=\"leading\"in r?!!r.leading:e,u=\"trailing\"in r?!!r.trailing:u),\nWf(n,t,{leading:e,maxWait:t,trailing:u})}function Mf(n){return Rf(n,1)}function Ff(n,t){return ph(Au(t),n)}function Nf(){if(!arguments.length)return[];var n=arguments[0];return bh(n)?n:[n]}function Pf(n){return Fr(n,sn)}function qf(n,t){return t=\"function\"==typeof t?t:X,Fr(n,sn,t)}function Zf(n){return Fr(n,an|sn)}function Kf(n,t){return t=\"function\"==typeof t?t:X,Fr(n,an|sn,t)}function Vf(n,t){return null==t||Pr(n,t,Pc(t))}function Gf(n,t){return n===t||n!==n&&t!==t}function Hf(n){return null!=n&&oc(n.length)&&!uc(n);\n}function Jf(n){return cc(n)&&Hf(n)}function Yf(n){return n===!0||n===!1||cc(n)&&we(n)==Nn}function Qf(n){return cc(n)&&1===n.nodeType&&!gc(n)}function Xf(n){if(null==n)return!0;if(Hf(n)&&(bh(n)||\"string\"==typeof n||\"function\"==typeof n.splice||mh(n)||Oh(n)||dh(n)))return!n.length;var t=zs(n);if(t==Gn||t==tt)return!n.size;if(Mi(n))return!Me(n).length;for(var r in n)if(bl.call(n,r))return!1;return!0}function nc(n,t){return Se(n,t)}function tc(n,t,r){r=\"function\"==typeof r?r:X;var e=r?r(n,t):X;return e===X?Se(n,t,X,r):!!e;\n}function rc(n){if(!cc(n))return!1;var t=we(n);return t==Zn||t==qn||\"string\"==typeof n.message&&\"string\"==typeof n.name&&!gc(n)}function ec(n){return\"number\"==typeof n&&Zl(n)}function uc(n){if(!fc(n))return!1;var t=we(n);return t==Kn||t==Vn||t==Fn||t==Xn}function ic(n){return\"number\"==typeof n&&n==kc(n)}function oc(n){return\"number\"==typeof n&&n>-1&&n%1==0&&n<=Wn}function fc(n){var t=typeof n;return null!=n&&(\"object\"==t||\"function\"==t)}function cc(n){return null!=n&&\"object\"==typeof n}function ac(n,t){\nreturn n===t||Ce(n,t,ji(t))}function lc(n,t,r){return r=\"function\"==typeof r?r:X,Ce(n,t,ji(t),r)}function sc(n){return vc(n)&&n!=+n}function hc(n){if(Es(n))throw new fl(rn);return Ue(n)}function pc(n){return null===n}function _c(n){return null==n}function vc(n){return\"number\"==typeof n||cc(n)&&we(n)==Hn}function gc(n){if(!cc(n)||we(n)!=Yn)return!1;var t=El(n);if(null===t)return!0;var r=bl.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof r&&r instanceof r&&dl.call(r)==jl}function yc(n){\nreturn ic(n)&&n>=-Wn&&n<=Wn}function dc(n){return\"string\"==typeof n||!bh(n)&&cc(n)&&we(n)==rt}function bc(n){return\"symbol\"==typeof n||cc(n)&&we(n)==et}function wc(n){return n===X}function mc(n){return cc(n)&&zs(n)==it}function xc(n){return cc(n)&&we(n)==ot}function jc(n){if(!n)return[];if(Hf(n))return dc(n)?G(n):Tu(n);if(Ul&&n[Ul])return D(n[Ul]());var t=zs(n);return(t==Gn?M:t==tt?P:ra)(n)}function Ac(n){if(!n)return 0===n?n:0;if(n=Ic(n),n===Sn||n===-Sn){return(n<0?-1:1)*Ln}return n===n?n:0}function kc(n){\nvar t=Ac(n),r=t%1;return t===t?r?t-r:t:0}function Oc(n){return n?Mr(kc(n),0,Un):0}function Ic(n){if(\"number\"==typeof n)return n;if(bc(n))return Cn;if(fc(n)){var t=\"function\"==typeof n.valueOf?n.valueOf():n;n=fc(t)?t+\"\":t}if(\"string\"!=typeof n)return 0===n?n:+n;n=R(n);var r=qt.test(n);return r||Kt.test(n)?Xr(n.slice(2),r?2:8):Pt.test(n)?Cn:+n}function Rc(n){return $u(n,qc(n))}function zc(n){return n?Mr(kc(n),-Wn,Wn):0===n?n:0}function Ec(n){return null==n?\"\":vu(n)}function Sc(n,t){var r=gs(n);return null==t?r:Cr(r,t);\n}function Wc(n,t){return v(n,mi(t,3),ue)}function Lc(n,t){return v(n,mi(t,3),oe)}function Cc(n,t){return null==n?n:bs(n,mi(t,3),qc)}function Uc(n,t){return null==n?n:ws(n,mi(t,3),qc)}function Bc(n,t){return n&&ue(n,mi(t,3))}function Tc(n,t){return n&&oe(n,mi(t,3))}function $c(n){return null==n?[]:fe(n,Pc(n))}function Dc(n){return null==n?[]:fe(n,qc(n))}function Mc(n,t,r){var e=null==n?X:_e(n,t);return e===X?r:e}function Fc(n,t){return null!=n&&Ri(n,t,xe)}function Nc(n,t){return null!=n&&Ri(n,t,je);\n}function Pc(n){return Hf(n)?Or(n):Me(n)}function qc(n){return Hf(n)?Or(n,!0):Fe(n)}function Zc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,t(n,e,u),n)}),r}function Kc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,e,t(n,e,u))}),r}function Vc(n,t){return Gc(n,Uf(mi(t)))}function Gc(n,t){if(null==n)return{};var r=c(di(n),function(n){return[n]});return t=mi(t),Ye(n,r,function(n,r){return t(n,r[0])})}function Hc(n,t,r){t=ku(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[no(t[e])];\ni===X&&(e=u,i=r),n=uc(i)?i.call(n):i}return n}function Jc(n,t,r){return null==n?n:fu(n,t,r)}function Yc(n,t,r,e){return e=\"function\"==typeof e?e:X,null==n?n:fu(n,t,r,e)}function Qc(n,t,e){var u=bh(n),i=u||mh(n)||Oh(n);if(t=mi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:fc(n)&&uc(o)?gs(El(n)):{}}return(i?r:ue)(n,function(n,r,u){return t(e,n,r,u)}),e}function Xc(n,t){return null==n||yu(n,t)}function na(n,t,r){return null==n?n:du(n,t,Au(r))}function ta(n,t,r,e){return e=\"function\"==typeof e?e:X,\nnull==n?n:du(n,t,Au(r),e)}function ra(n){return null==n?[]:E(n,Pc(n))}function ea(n){return null==n?[]:E(n,qc(n))}function ua(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=Ic(r),r=r===r?r:0),t!==X&&(t=Ic(t),t=t===t?t:0),Mr(Ic(n),t,r)}function ia(n,t,r){return t=Ac(t),r===X?(r=t,t=0):r=Ac(r),n=Ic(n),Ae(n,t,r)}function oa(n,t,r){if(r&&\"boolean\"!=typeof r&&Ui(n,t,r)&&(t=r=X),r===X&&(\"boolean\"==typeof t?(r=t,t=X):\"boolean\"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=Ac(n),t===X?(t=n,n=0):t=Ac(t)),n>t){\nvar e=n;n=t,t=e}if(r||n%1||t%1){var u=Ql();return Hl(n+u*(t-n+Qr(\"1e-\"+((u+\"\").length-1))),t)}return tu(n,t)}function fa(n){return Qh(Ec(n).toLowerCase())}function ca(n){return n=Ec(n),n&&n.replace(Gt,ve).replace(Dr,\"\")}function aa(n,t,r){n=Ec(n),t=vu(t);var e=n.length;r=r===X?e:Mr(kc(r),0,e);var u=r;return r-=t.length,r>=0&&n.slice(r,u)==t}function la(n){return n=Ec(n),n&&At.test(n)?n.replace(xt,ge):n}function sa(n){return n=Ec(n),n&&Wt.test(n)?n.replace(St,\"\\\\$&\"):n}function ha(n,t,r){n=Ec(n),t=kc(t);\nvar e=t?V(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Nl(u),r)+n+ri(Fl(u),r)}function pa(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?n+ri(t-e,r):n}function _a(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?ri(t-e,r)+n:n}function va(n,t,r){return r||null==t?t=0:t&&(t=+t),Yl(Ec(n).replace(Lt,\"\"),t||0)}function ga(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),eu(Ec(n),t)}function ya(){var n=arguments,t=Ec(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function da(n,t,r){return r&&\"number\"!=typeof r&&Ui(n,t,r)&&(t=r=X),\n(r=r===X?Un:r>>>0)?(n=Ec(n),n&&(\"string\"==typeof t||null!=t&&!Ah(t))&&(t=vu(t),!t&&T(n))?Ou(G(n),0,r):n.split(t,r)):[]}function ba(n,t,r){return n=Ec(n),r=null==r?0:Mr(kc(r),0,n.length),t=vu(t),n.slice(r,r+t.length)==t}function wa(n,t,r){var e=Z.templateSettings;r&&Ui(n,t,r)&&(t=X),n=Ec(n),t=Sh({},t,e,li);var u,i,o=Sh({},t.imports,e.imports,li),f=Pc(o),c=E(o,f),a=0,l=t.interpolate||Ht,s=\"__p += '\",h=sl((t.escape||Ht).source+\"|\"+l.source+\"|\"+(l===It?Ft:Ht).source+\"|\"+(t.evaluate||Ht).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(bl.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++Zr+\"]\")+\"\\n\";\nn.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Jt,U),r&&(u=!0,s+=\"' +\\n__e(\"+r+\") +\\n'\"),f&&(i=!0,s+=\"';\\n\"+f+\";\\n__p += '\"),e&&(s+=\"' +\\n((__t = (\"+e+\")) == null ? '' : __t) +\\n'\"),a=c+t.length,t}),s+=\"';\\n\";var _=bl.call(t,\"variable\")&&t.variable;if(_){if(Dt.test(_))throw new fl(un)}else s=\"with (obj) {\\n\"+s+\"\\n}\\n\";s=(i?s.replace(dt,\"\"):s).replace(bt,\"$1\").replace(wt,\"$1;\"),s=\"function(\"+(_||\"obj\")+\") {\\n\"+(_?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(u?\", __e = _.escape\":\"\")+(i?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+s+\"return __p\\n}\";\nvar v=Xh(function(){return cl(f,p+\"return \"+s).apply(X,c)});if(v.source=s,rc(v))throw v;return v}function ma(n){return Ec(n).toLowerCase()}function xa(n){return Ec(n).toUpperCase()}function ja(n,t,r){if(n=Ec(n),n&&(r||t===X))return R(n);if(!n||!(t=vu(t)))return n;var e=G(n),u=G(t);return Ou(e,W(e,u),L(e,u)+1).join(\"\")}function Aa(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.slice(0,H(n)+1);if(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,0,L(e,G(t))+1).join(\"\")}function ka(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.replace(Lt,\"\");\nif(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,W(e,G(t))).join(\"\")}function Oa(n,t){var r=An,e=kn;if(fc(t)){var u=\"separator\"in t?t.separator:u;r=\"length\"in t?kc(t.length):r,e=\"omission\"in t?vu(t.omission):e}n=Ec(n);var i=n.length;if(T(n)){var o=G(n);i=o.length}if(r>=i)return n;var f=r-V(e);if(f<1)return e;var c=o?Ou(o,0,f).join(\"\"):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),Ah(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=sl(u.source,Ec(Nt.exec(u))+\"g\")),u.lastIndex=0;a=u.exec(l);)var s=a.index;\nc=c.slice(0,s===X?f:s)}}else if(n.indexOf(vu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function Ia(n){return n=Ec(n),n&&jt.test(n)?n.replace(mt,ye):n}function Ra(n,t,r){return n=Ec(n),t=r?X:t,t===X?$(n)?Q(n):_(n):n.match(t)||[]}function za(t){var r=null==t?0:t.length,e=mi();return t=r?c(t,function(n){if(\"function\"!=typeof n[1])throw new pl(en);return[e(n[0]),n[1]]}):[],uu(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Ea(n){\nreturn Nr(Fr(n,an))}function Sa(n){return function(){return n}}function Wa(n,t){return null==n||n!==n?t:n}function La(n){return n}function Ca(n){return De(\"function\"==typeof n?n:Fr(n,an))}function Ua(n){return qe(Fr(n,an))}function Ba(n,t){return Ze(n,Fr(t,an))}function Ta(n,t,e){var u=Pc(t),i=fe(t,u);null!=e||fc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=fe(t,Pc(t)));var o=!(fc(e)&&\"chain\"in e&&!e.chain),f=uc(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;\nif(o||t){var r=n(this.__wrapped__);return(r.__actions__=Tu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function $a(){return re._===this&&(re._=Al),this}function Da(){}function Ma(n){return n=kc(n),uu(function(t){return Ge(t,n)})}function Fa(n){return Bi(n)?m(no(n)):Qe(n)}function Na(n){return function(t){return null==n?X:_e(n,t)}}function Pa(){return[]}function qa(){return!1}function Za(){return{}}function Ka(){return\"\";\n}function Va(){return!0}function Ga(n,t){if(n=kc(n),n<1||n>Wn)return[];var r=Un,e=Hl(n,Un);t=mi(t),n-=Un;for(var u=O(e,t);++r<n;)t(r);return u}function Ha(n){return bh(n)?c(n,no):bc(n)?[n]:Tu(Cs(Ec(n)))}function Ja(n){var t=++wl;return Ec(n)+t}function Ya(n){return n&&n.length?Yr(n,La,me):X}function Qa(n,t){return n&&n.length?Yr(n,mi(t,2),me):X}function Xa(n){return w(n,La)}function nl(n,t){return w(n,mi(t,2))}function tl(n){return n&&n.length?Yr(n,La,Ne):X}function rl(n,t){return n&&n.length?Yr(n,mi(t,2),Ne):X;\n}function el(n){return n&&n.length?k(n,La):0}function ul(n,t){return n&&n.length?k(n,mi(t,2)):0}x=null==x?re:be.defaults(re.Object(),x,be.pick(re,qr));var il=x.Array,ol=x.Date,fl=x.Error,cl=x.Function,al=x.Math,ll=x.Object,sl=x.RegExp,hl=x.String,pl=x.TypeError,_l=il.prototype,vl=cl.prototype,gl=ll.prototype,yl=x[\"__core-js_shared__\"],dl=vl.toString,bl=gl.hasOwnProperty,wl=0,ml=function(){var n=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}(),xl=gl.toString,jl=dl.call(ll),Al=re._,kl=sl(\"^\"+dl.call(bl).replace(St,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ol=ie?x.Buffer:X,Il=x.Symbol,Rl=x.Uint8Array,zl=Ol?Ol.allocUnsafe:X,El=F(ll.getPrototypeOf,ll),Sl=ll.create,Wl=gl.propertyIsEnumerable,Ll=_l.splice,Cl=Il?Il.isConcatSpreadable:X,Ul=Il?Il.iterator:X,Bl=Il?Il.toStringTag:X,Tl=function(){\ntry{var n=Ai(ll,\"defineProperty\");return n({},\"\",{}),n}catch(n){}}(),$l=x.clearTimeout!==re.clearTimeout&&x.clearTimeout,Dl=ol&&ol.now!==re.Date.now&&ol.now,Ml=x.setTimeout!==re.setTimeout&&x.setTimeout,Fl=al.ceil,Nl=al.floor,Pl=ll.getOwnPropertySymbols,ql=Ol?Ol.isBuffer:X,Zl=x.isFinite,Kl=_l.join,Vl=F(ll.keys,ll),Gl=al.max,Hl=al.min,Jl=ol.now,Yl=x.parseInt,Ql=al.random,Xl=_l.reverse,ns=Ai(x,\"DataView\"),ts=Ai(x,\"Map\"),rs=Ai(x,\"Promise\"),es=Ai(x,\"Set\"),us=Ai(x,\"WeakMap\"),is=Ai(ll,\"create\"),os=us&&new us,fs={},cs=to(ns),as=to(ts),ls=to(rs),ss=to(es),hs=to(us),ps=Il?Il.prototype:X,_s=ps?ps.valueOf:X,vs=ps?ps.toString:X,gs=function(){\nfunction n(){}return function(t){if(!fc(t))return{};if(Sl)return Sl(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();Z.templateSettings={escape:kt,evaluate:Ot,interpolate:It,variable:\"\",imports:{_:Z}},Z.prototype=J.prototype,Z.prototype.constructor=Z,Y.prototype=gs(J.prototype),Y.prototype.constructor=Y,Ct.prototype=gs(J.prototype),Ct.prototype.constructor=Ct,Xt.prototype.clear=nr,Xt.prototype.delete=tr,Xt.prototype.get=rr,Xt.prototype.has=er,Xt.prototype.set=ur,ir.prototype.clear=or,ir.prototype.delete=fr,\nir.prototype.get=cr,ir.prototype.has=ar,ir.prototype.set=lr,sr.prototype.clear=hr,sr.prototype.delete=pr,sr.prototype.get=_r,sr.prototype.has=vr,sr.prototype.set=gr,yr.prototype.add=yr.prototype.push=dr,yr.prototype.has=br,wr.prototype.clear=mr,wr.prototype.delete=xr,wr.prototype.get=jr,wr.prototype.has=Ar,wr.prototype.set=kr;var ys=Pu(ue),ds=Pu(oe,!0),bs=qu(),ws=qu(!0),ms=os?function(n,t){return os.set(n,t),n}:La,xs=Tl?function(n,t){return Tl(n,\"toString\",{configurable:!0,enumerable:!1,value:Sa(t),\nwritable:!0})}:La,js=uu,As=$l||function(n){return re.clearTimeout(n)},ks=es&&1/P(new es([,-0]))[1]==Sn?function(n){return new es(n)}:Da,Os=os?function(n){return os.get(n)}:Da,Is=Pl?function(n){return null==n?[]:(n=ll(n),i(Pl(n),function(t){return Wl.call(n,t)}))}:Pa,Rs=Pl?function(n){for(var t=[];n;)a(t,Is(n)),n=El(n);return t}:Pa,zs=we;(ns&&zs(new ns(new ArrayBuffer(1)))!=ct||ts&&zs(new ts)!=Gn||rs&&zs(rs.resolve())!=Qn||es&&zs(new es)!=tt||us&&zs(new us)!=it)&&(zs=function(n){var t=we(n),r=t==Yn?n.constructor:X,e=r?to(r):\"\";\nif(e)switch(e){case cs:return ct;case as:return Gn;case ls:return Qn;case ss:return tt;case hs:return it}return t});var Es=yl?uc:qa,Ss=Qi(ms),Ws=Ml||function(n,t){return re.setTimeout(n,t)},Ls=Qi(xs),Cs=Pi(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(\"\"),n.replace(Et,function(n,r,e,u){t.push(e?u.replace(Mt,\"$1\"):r||n)}),t}),Us=uu(function(n,t){return Jf(n)?Hr(n,ee(t,1,Jf,!0)):[]}),Bs=uu(function(n,t){var r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),mi(r,2)):[]}),Ts=uu(function(n,t){\nvar r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),X,r):[]}),$s=uu(function(n){var t=c(n,ju);return t.length&&t[0]===n[0]?ke(t):[]}),Ds=uu(function(n){var t=jo(n),r=c(n,ju);return t===jo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?ke(r,mi(t,2)):[]}),Ms=uu(function(n){var t=jo(n),r=c(n,ju);return t=\"function\"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?ke(r,X,t):[]}),Fs=uu(Oo),Ns=gi(function(n,t){var r=null==n?0:n.length,e=Tr(n,t);return nu(n,c(t,function(n){return Ci(n,r)?+n:n}).sort(Lu)),e}),Ps=uu(function(n){\nreturn gu(ee(n,1,Jf,!0))}),qs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),gu(ee(n,1,Jf,!0),mi(t,2))}),Zs=uu(function(n){var t=jo(n);return t=\"function\"==typeof t?t:X,gu(ee(n,1,Jf,!0),X,t)}),Ks=uu(function(n,t){return Jf(n)?Hr(n,t):[]}),Vs=uu(function(n){return mu(i(n,Jf))}),Gs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),mu(i(n,Jf),mi(t,2))}),Hs=uu(function(n){var t=jo(n);return t=\"function\"==typeof t?t:X,mu(i(n,Jf),X,t)}),Js=uu(Go),Ys=uu(function(n){var t=n.length,r=t>1?n[t-1]:X;return r=\"function\"==typeof r?(n.pop(),\nr):X,Ho(n,r)}),Qs=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Tr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Ct&&Ci(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:nf,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Xs=Fu(function(n,t,r){bl.call(n,r)?++n[r]:Br(n,r,1)}),nh=Ju(ho),th=Ju(po),rh=Fu(function(n,t,r){bl.call(n,r)?n[r].push(t):Br(n,r,[t])}),eh=uu(function(t,r,e){var u=-1,i=\"function\"==typeof r,o=Hf(t)?il(t.length):[];\nreturn ys(t,function(t){o[++u]=i?n(r,t,e):Ie(t,r,e)}),o}),uh=Fu(function(n,t,r){Br(n,r,t)}),ih=Fu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),oh=uu(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ui(n,t[0],t[1])?t=[]:r>2&&Ui(t[0],t[1],t[2])&&(t=[t[0]]),He(n,ee(t,1),[])}),fh=Dl||function(){return re.Date.now()},ch=uu(function(n,t,r){var e=_n;if(r.length){var u=N(r,wi(ch));e|=bn}return ai(n,e,t,r,u)}),ah=uu(function(n,t,r){var e=_n|vn;if(r.length){var u=N(r,wi(ah));e|=bn;\n}return ai(t,e,n,r,u)}),lh=uu(function(n,t){return Gr(n,1,t)}),sh=uu(function(n,t,r){return Gr(n,Ic(t)||0,r)});Cf.Cache=sr;var hh=js(function(t,r){r=1==r.length&&bh(r[0])?c(r[0],z(mi())):c(ee(r,1),z(mi()));var e=r.length;return uu(function(u){for(var i=-1,o=Hl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),ph=uu(function(n,t){return ai(n,bn,X,t,N(t,wi(ph)))}),_h=uu(function(n,t){return ai(n,wn,X,t,N(t,wi(_h)))}),vh=gi(function(n,t){return ai(n,xn,X,X,X,t)}),gh=ii(me),yh=ii(function(n,t){\nreturn n>=t}),dh=Re(function(){return arguments}())?Re:function(n){return cc(n)&&bl.call(n,\"callee\")&&!Wl.call(n,\"callee\")},bh=il.isArray,wh=ce?z(ce):ze,mh=ql||qa,xh=ae?z(ae):Ee,jh=le?z(le):Le,Ah=se?z(se):Be,kh=he?z(he):Te,Oh=pe?z(pe):$e,Ih=ii(Ne),Rh=ii(function(n,t){return n<=t}),zh=Nu(function(n,t){if(Mi(t)||Hf(t))return $u(t,Pc(t),n),X;for(var r in t)bl.call(t,r)&&Sr(n,r,t[r])}),Eh=Nu(function(n,t){$u(t,qc(t),n)}),Sh=Nu(function(n,t,r,e){$u(t,qc(t),n,e)}),Wh=Nu(function(n,t,r,e){$u(t,Pc(t),n,e);\n}),Lh=gi(Tr),Ch=uu(function(n,t){n=ll(n);var r=-1,e=t.length,u=e>2?t[2]:X;for(u&&Ui(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=qc(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===X||Gf(l,gl[a])&&!bl.call(n,a))&&(n[a]=i[a])}return n}),Uh=uu(function(t){return t.push(X,si),n(Mh,X,t)}),Bh=Xu(function(n,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=xl.call(t)),n[t]=r},Sa(La)),Th=Xu(function(n,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=xl.call(t)),bl.call(n,t)?n[t].push(r):n[t]=[r]},mi),$h=uu(Ie),Dh=Nu(function(n,t,r){\nKe(n,t,r)}),Mh=Nu(function(n,t,r,e){Ke(n,t,r,e)}),Fh=gi(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=ku(t,n),e||(e=t.length>1),t}),$u(n,di(n),r),e&&(r=Fr(r,an|ln|sn,hi));for(var u=t.length;u--;)yu(r,t[u]);return r}),Nh=gi(function(n,t){return null==n?{}:Je(n,t)}),Ph=ci(Pc),qh=ci(qc),Zh=Vu(function(n,t,r){return t=t.toLowerCase(),n+(r?fa(t):t)}),Kh=Vu(function(n,t,r){return n+(r?\"-\":\"\")+t.toLowerCase()}),Vh=Vu(function(n,t,r){return n+(r?\" \":\"\")+t.toLowerCase()}),Gh=Ku(\"toLowerCase\"),Hh=Vu(function(n,t,r){\nreturn n+(r?\"_\":\"\")+t.toLowerCase()}),Jh=Vu(function(n,t,r){return n+(r?\" \":\"\")+Qh(t)}),Yh=Vu(function(n,t,r){return n+(r?\" \":\"\")+t.toUpperCase()}),Qh=Ku(\"toUpperCase\"),Xh=uu(function(t,r){try{return n(t,X,r)}catch(n){return rc(n)?n:new fl(n)}}),np=gi(function(n,t){return r(t,function(t){t=no(t),Br(n,t,ch(n[t],n))}),n}),tp=Yu(),rp=Yu(!0),ep=uu(function(n,t){return function(r){return Ie(r,n,t)}}),up=uu(function(n,t){return function(r){return Ie(n,r,t)}}),ip=ti(c),op=ti(u),fp=ti(h),cp=ui(),ap=ui(!0),lp=ni(function(n,t){\nreturn n+t},0),sp=fi(\"ceil\"),hp=ni(function(n,t){return n/t},1),pp=fi(\"floor\"),_p=ni(function(n,t){return n*t},1),vp=fi(\"round\"),gp=ni(function(n,t){return n-t},0);return Z.after=If,Z.ary=Rf,Z.assign=zh,Z.assignIn=Eh,Z.assignInWith=Sh,Z.assignWith=Wh,Z.at=Lh,Z.before=zf,Z.bind=ch,Z.bindAll=np,Z.bindKey=ah,Z.castArray=Nf,Z.chain=Qo,Z.chunk=uo,Z.compact=io,Z.concat=oo,Z.cond=za,Z.conforms=Ea,Z.constant=Sa,Z.countBy=Xs,Z.create=Sc,Z.curry=Ef,Z.curryRight=Sf,Z.debounce=Wf,Z.defaults=Ch,Z.defaultsDeep=Uh,\nZ.defer=lh,Z.delay=sh,Z.difference=Us,Z.differenceBy=Bs,Z.differenceWith=Ts,Z.drop=fo,Z.dropRight=co,Z.dropRightWhile=ao,Z.dropWhile=lo,Z.fill=so,Z.filter=lf,Z.flatMap=sf,Z.flatMapDeep=hf,Z.flatMapDepth=pf,Z.flatten=_o,Z.flattenDeep=vo,Z.flattenDepth=go,Z.flip=Lf,Z.flow=tp,Z.flowRight=rp,Z.fromPairs=yo,Z.functions=$c,Z.functionsIn=Dc,Z.groupBy=rh,Z.initial=mo,Z.intersection=$s,Z.intersectionBy=Ds,Z.intersectionWith=Ms,Z.invert=Bh,Z.invertBy=Th,Z.invokeMap=eh,Z.iteratee=Ca,Z.keyBy=uh,Z.keys=Pc,Z.keysIn=qc,\nZ.map=yf,Z.mapKeys=Zc,Z.mapValues=Kc,Z.matches=Ua,Z.matchesProperty=Ba,Z.memoize=Cf,Z.merge=Dh,Z.mergeWith=Mh,Z.method=ep,Z.methodOf=up,Z.mixin=Ta,Z.negate=Uf,Z.nthArg=Ma,Z.omit=Fh,Z.omitBy=Vc,Z.once=Bf,Z.orderBy=df,Z.over=ip,Z.overArgs=hh,Z.overEvery=op,Z.overSome=fp,Z.partial=ph,Z.partialRight=_h,Z.partition=ih,Z.pick=Nh,Z.pickBy=Gc,Z.property=Fa,Z.propertyOf=Na,Z.pull=Fs,Z.pullAll=Oo,Z.pullAllBy=Io,Z.pullAllWith=Ro,Z.pullAt=Ns,Z.range=cp,Z.rangeRight=ap,Z.rearg=vh,Z.reject=mf,Z.remove=zo,Z.rest=Tf,\nZ.reverse=Eo,Z.sampleSize=jf,Z.set=Jc,Z.setWith=Yc,Z.shuffle=Af,Z.slice=So,Z.sortBy=oh,Z.sortedUniq=$o,Z.sortedUniqBy=Do,Z.split=da,Z.spread=$f,Z.tail=Mo,Z.take=Fo,Z.takeRight=No,Z.takeRightWhile=Po,Z.takeWhile=qo,Z.tap=Xo,Z.throttle=Df,Z.thru=nf,Z.toArray=jc,Z.toPairs=Ph,Z.toPairsIn=qh,Z.toPath=Ha,Z.toPlainObject=Rc,Z.transform=Qc,Z.unary=Mf,Z.union=Ps,Z.unionBy=qs,Z.unionWith=Zs,Z.uniq=Zo,Z.uniqBy=Ko,Z.uniqWith=Vo,Z.unset=Xc,Z.unzip=Go,Z.unzipWith=Ho,Z.update=na,Z.updateWith=ta,Z.values=ra,Z.valuesIn=ea,\nZ.without=Ks,Z.words=Ra,Z.wrap=Ff,Z.xor=Vs,Z.xorBy=Gs,Z.xorWith=Hs,Z.zip=Js,Z.zipObject=Jo,Z.zipObjectDeep=Yo,Z.zipWith=Ys,Z.entries=Ph,Z.entriesIn=qh,Z.extend=Eh,Z.extendWith=Sh,Ta(Z,Z),Z.add=lp,Z.attempt=Xh,Z.camelCase=Zh,Z.capitalize=fa,Z.ceil=sp,Z.clamp=ua,Z.clone=Pf,Z.cloneDeep=Zf,Z.cloneDeepWith=Kf,Z.cloneWith=qf,Z.conformsTo=Vf,Z.deburr=ca,Z.defaultTo=Wa,Z.divide=hp,Z.endsWith=aa,Z.eq=Gf,Z.escape=la,Z.escapeRegExp=sa,Z.every=af,Z.find=nh,Z.findIndex=ho,Z.findKey=Wc,Z.findLast=th,Z.findLastIndex=po,\nZ.findLastKey=Lc,Z.floor=pp,Z.forEach=_f,Z.forEachRight=vf,Z.forIn=Cc,Z.forInRight=Uc,Z.forOwn=Bc,Z.forOwnRight=Tc,Z.get=Mc,Z.gt=gh,Z.gte=yh,Z.has=Fc,Z.hasIn=Nc,Z.head=bo,Z.identity=La,Z.includes=gf,Z.indexOf=wo,Z.inRange=ia,Z.invoke=$h,Z.isArguments=dh,Z.isArray=bh,Z.isArrayBuffer=wh,Z.isArrayLike=Hf,Z.isArrayLikeObject=Jf,Z.isBoolean=Yf,Z.isBuffer=mh,Z.isDate=xh,Z.isElement=Qf,Z.isEmpty=Xf,Z.isEqual=nc,Z.isEqualWith=tc,Z.isError=rc,Z.isFinite=ec,Z.isFunction=uc,Z.isInteger=ic,Z.isLength=oc,Z.isMap=jh,\nZ.isMatch=ac,Z.isMatchWith=lc,Z.isNaN=sc,Z.isNative=hc,Z.isNil=_c,Z.isNull=pc,Z.isNumber=vc,Z.isObject=fc,Z.isObjectLike=cc,Z.isPlainObject=gc,Z.isRegExp=Ah,Z.isSafeInteger=yc,Z.isSet=kh,Z.isString=dc,Z.isSymbol=bc,Z.isTypedArray=Oh,Z.isUndefined=wc,Z.isWeakMap=mc,Z.isWeakSet=xc,Z.join=xo,Z.kebabCase=Kh,Z.last=jo,Z.lastIndexOf=Ao,Z.lowerCase=Vh,Z.lowerFirst=Gh,Z.lt=Ih,Z.lte=Rh,Z.max=Ya,Z.maxBy=Qa,Z.mean=Xa,Z.meanBy=nl,Z.min=tl,Z.minBy=rl,Z.stubArray=Pa,Z.stubFalse=qa,Z.stubObject=Za,Z.stubString=Ka,\nZ.stubTrue=Va,Z.multiply=_p,Z.nth=ko,Z.noConflict=$a,Z.noop=Da,Z.now=fh,Z.pad=ha,Z.padEnd=pa,Z.padStart=_a,Z.parseInt=va,Z.random=oa,Z.reduce=bf,Z.reduceRight=wf,Z.repeat=ga,Z.replace=ya,Z.result=Hc,Z.round=vp,Z.runInContext=p,Z.sample=xf,Z.size=kf,Z.snakeCase=Hh,Z.some=Of,Z.sortedIndex=Wo,Z.sortedIndexBy=Lo,Z.sortedIndexOf=Co,Z.sortedLastIndex=Uo,Z.sortedLastIndexBy=Bo,Z.sortedLastIndexOf=To,Z.startCase=Jh,Z.startsWith=ba,Z.subtract=gp,Z.sum=el,Z.sumBy=ul,Z.template=wa,Z.times=Ga,Z.toFinite=Ac,Z.toInteger=kc,\nZ.toLength=Oc,Z.toLower=ma,Z.toNumber=Ic,Z.toSafeInteger=zc,Z.toString=Ec,Z.toUpper=xa,Z.trim=ja,Z.trimEnd=Aa,Z.trimStart=ka,Z.truncate=Oa,Z.unescape=Ia,Z.uniqueId=Ja,Z.upperCase=Yh,Z.upperFirst=Qh,Z.each=_f,Z.eachRight=vf,Z.first=bo,Ta(Z,function(){var n={};return ue(Z,function(t,r){bl.call(Z.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Z.VERSION=nn,r([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(n){Z[n].placeholder=Z}),r([\"drop\",\"take\"],function(n,t){Ct.prototype[n]=function(r){\nr=r===X?1:Gl(kc(r),0);var e=this.__filtered__&&!t?new Ct(this):this.clone();return e.__filtered__?e.__takeCount__=Hl(r,e.__takeCount__):e.__views__.push({size:Hl(r,Un),type:n+(e.__dir__<0?\"Right\":\"\")}),e},Ct.prototype[n+\"Right\"]=function(t){return this.reverse()[n](t).reverse()}}),r([\"filter\",\"map\",\"takeWhile\"],function(n,t){var r=t+1,e=r==Rn||r==En;Ct.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:mi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r([\"head\",\"last\"],function(n,t){\nvar r=\"take\"+(t?\"Right\":\"\");Ct.prototype[n]=function(){return this[r](1).value()[0]}}),r([\"initial\",\"tail\"],function(n,t){var r=\"drop\"+(t?\"\":\"Right\");Ct.prototype[n]=function(){return this.__filtered__?new Ct(this):this[r](1)}}),Ct.prototype.compact=function(){return this.filter(La)},Ct.prototype.find=function(n){return this.filter(n).head()},Ct.prototype.findLast=function(n){return this.reverse().find(n)},Ct.prototype.invokeMap=uu(function(n,t){return\"function\"==typeof n?new Ct(this):this.map(function(r){\nreturn Ie(r,n,t)})}),Ct.prototype.reject=function(n){return this.filter(Uf(mi(n)))},Ct.prototype.slice=function(n,t){n=kc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Ct(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=kc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ct.prototype.toArray=function(){return this.take(Un)},ue(Ct.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Z[e?\"take\"+(\"last\"==t?\"Right\":\"\"):t],i=e||/^find/.test(t);\nu&&(Z.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Ct,c=o[0],l=f||bh(t),s=function(n){var t=u.apply(Z,a([n],o));return e&&h?t[0]:t};l&&r&&\"function\"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Ct(this);var g=n.apply(t,o);return g.__actions__.push({func:nf,args:[s],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(n){\nvar t=_l[n],r=/^(?:push|sort|unshift)$/.test(n)?\"tap\":\"thru\",e=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(bh(u)?u:[],n)}return this[r](function(r){return t.apply(bh(r)?r:[],n)})}}),ue(Ct.prototype,function(n,t){var r=Z[t];if(r){var e=r.name+\"\";bl.call(fs,e)||(fs[e]=[]),fs[e].push({name:t,func:r})}}),fs[Qu(X,vn).name]=[{name:\"wrapper\",func:X}],Ct.prototype.clone=$t,Ct.prototype.reverse=Yt,Ct.prototype.value=Qt,Z.prototype.at=Qs,\nZ.prototype.chain=tf,Z.prototype.commit=rf,Z.prototype.next=ef,Z.prototype.plant=of,Z.prototype.reverse=ff,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=cf,Z.prototype.first=Z.prototype.head,Ul&&(Z.prototype[Ul]=uf),Z},be=de();\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd?(re._=be,define(function(){return be})):ue?((ue.exports=be)._=be,ee._=be):re._=be}).call(this);","var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n","var parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseParams = parser.parseParams;\nexports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n","var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n","var grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function get() {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function get() {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function get() {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function get() {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function get() {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function get() {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function get() {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function get() {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar _default = {\n  randomUUID\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return (byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]]).toLowerCase();\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.adapter = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nvar _adapter_factory = require('./adapter_factory.js');\n\nvar adapter = (0, _adapter_factory.adapterFactory)({ window: typeof window === 'undefined' ? undefined : window });\nmodule.exports = adapter; // this is the difference from adapter_core.\n\n},{\"./adapter_factory.js\":2}],2:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adapterFactory = adapterFactory;\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nvar _chrome_shim = require('./chrome/chrome_shim');\n\nvar chromeShim = _interopRequireWildcard(_chrome_shim);\n\nvar _firefox_shim = require('./firefox/firefox_shim');\n\nvar firefoxShim = _interopRequireWildcard(_firefox_shim);\n\nvar _safari_shim = require('./safari/safari_shim');\n\nvar safariShim = _interopRequireWildcard(_safari_shim);\n\nvar _common_shim = require('./common_shim');\n\nvar commonShim = _interopRequireWildcard(_common_shim);\n\nvar _sdp = require('sdp');\n\nvar sdp = _interopRequireWildcard(_sdp);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n// Shimming starts here.\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\nfunction adapterFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n      window = _ref.window;\n\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    shimChrome: true,\n    shimFirefox: true,\n    shimSafari: true\n  };\n\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp: sdp\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection || !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimGetStats(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection || !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n\n  return adapter;\n}\n\n// Browser shims.\n\n},{\"./chrome/chrome_shim\":3,\"./common_shim\":6,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":10,\"./utils\":11,\"sdp\":12}],3:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _getusermedia = require('./getusermedia');\n\nObject.defineProperty(exports, 'shimGetUserMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\n\nvar _getdisplaymedia = require('./getdisplaymedia');\n\nObject.defineProperty(exports, 'shimGetDisplayMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimMediaStream = shimMediaStream;\nexports.shimOnTrack = shimOnTrack;\nexports.shimGetSendersWithDtmf = shimGetSendersWithDtmf;\nexports.shimGetStats = shimGetStats;\nexports.shimSenderReceiverGetStats = shimSenderReceiverGetStats;\nexports.shimAddTrackRemoveTrackWithNative = shimAddTrackRemoveTrackWithNative;\nexports.shimAddTrackRemoveTrack = shimAddTrackRemoveTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.fixNegotiationNeeded = fixNegotiationNeeded;\n\nvar _utils = require('../utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\n\nfunction shimOnTrack(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get: function get() {\n        return this._ontrack;\n      },\n      set: function set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n\n      enumerable: true,\n      configurable: true\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var _this = this;\n\n      if (!this._ontrackpoly) {\n        this._ontrackpoly = function (e) {\n          // onaddstream does not fire when a track is added to an existing\n          // stream. But stream.onaddtrack is implemented so we use that.\n          e.stream.addEventListener('addtrack', function (te) {\n            var receiver = void 0;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === te.track.id;\n              });\n            } else {\n              receiver = { track: te.track };\n            }\n\n            var event = new Event('track');\n            event.track = te.track;\n            event.receiver = receiver;\n            event.transceiver = { receiver: receiver };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n          e.stream.getTracks().forEach(function (track) {\n            var receiver = void 0;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === track.id;\n              });\n            } else {\n              receiver = { track: track };\n            }\n            var event = new Event('track');\n            event.track = track;\n            event.receiver = receiver;\n            event.transceiver = { receiver: receiver };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n        };\n        this.addEventListener('addstream', this._ontrackpoly);\n      }\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver', { value: { receiver: e.receiver } });\n      }\n      return e;\n    });\n  }\n}\n\nfunction shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && !('getSenders' in window.RTCPeerConnection.prototype) && 'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    var shimSenderWithDtmf = function shimSenderWithDtmf(pc, track) {\n      return {\n        track: track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        var sender = origAddTrack.apply(this, arguments);\n        if (!sender) {\n          sender = shimSenderWithDtmf(this, track);\n          this._senders.push(sender);\n        }\n        return sender;\n      };\n\n      var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        origRemoveTrack.apply(this, arguments);\n        var idx = this._senders.indexOf(sender);\n        if (idx !== -1) {\n          this._senders.splice(idx, 1);\n        }\n      };\n    }\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this2 = this;\n\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(function (track) {\n        _this2._senders.push(shimSenderWithDtmf(_this2, track));\n      });\n    };\n\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n\n      this._senders = this._senders || [];\n      origRemoveStream.apply(this, [stream]);\n\n      stream.getTracks().forEach(function (track) {\n        var sender = _this3._senders.find(function (s) {\n          return s.track === track;\n        });\n        if (sender) {\n          // remove sender\n          _this3._senders.splice(_this3._senders.indexOf(sender), 1);\n        }\n      });\n    };\n  } else if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && 'getSenders' in window.RTCPeerConnection.prototype && 'createDTMFSender' in window.RTCPeerConnection.prototype && window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this4 = this;\n\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this4;\n      });\n      return senders;\n    };\n\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get: function get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\n\nfunction shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _this5 = this;\n\n    var _arguments = Array.prototype.slice.call(arguments),\n        selector = _arguments[0],\n        onSucc = _arguments[1],\n        onErr = _arguments[2];\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n\n\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n\n    var fixChromeStats_ = function fixChromeStats_(response) {\n      var standardReport = {};\n      var reports = response.result();\n      reports.forEach(function (report) {\n        var standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(function (name) {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function makeMapStats(stats) {\n      return new Map(Object.keys(stats).map(function (key) {\n        return [key, stats[key]];\n      }));\n    };\n\n    if (arguments.length >= 2) {\n      var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n\n      return origGetStats.apply(this, [successCallbackWrapper_, selector]);\n    }\n\n    // promise-support\n    return new Promise(function (resolve, reject) {\n      origGetStats.apply(_this5, [function (response) {\n        resolve(makeMapStats(fixChromeStats_(response)));\n      }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderReceiverGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        var _this6 = this;\n\n        var senders = origGetSenders.apply(this, []);\n        senders.forEach(function (sender) {\n          return sender._pc = _this6;\n        });\n        return senders;\n      };\n    }\n\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        var sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      var sender = this;\n      return this._pc.getStats().then(function (result) {\n        return (\n          /* Note: this will include stats of all senders that\n           *   send a track with the same id as sender.track as\n           *   it is not possible to identify the RTCRtpSender.\n           */\n          utils.filterStats(result, sender.track, true)\n        );\n      });\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n        var _this7 = this;\n\n        var receivers = origGetReceivers.apply(this, []);\n        receivers.forEach(function (receiver) {\n          return receiver._pc = _this7;\n        });\n        return receivers;\n      };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      var receiver = this;\n      return this._pc.getStats().then(function (result) {\n        return utils.filterStats(result, receiver.track, false);\n      });\n    };\n  }\n\n  if (!('getStats' in window.RTCRtpSender.prototype && 'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 && arguments[0] instanceof window.MediaStreamTrack) {\n      var track = arguments[0];\n      var sender = void 0;\n      var receiver = void 0;\n      var err = void 0;\n      this.getSenders().forEach(function (s) {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(function (r) {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || sender && receiver) {\n        return Promise.reject(new DOMException('There are more than one sender or receiver for the track.', 'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException('There is no sender or receiver for the track.', 'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\n\nfunction shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this8 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    return Object.keys(this._shimmedLocalStreams).map(function (streamId) {\n      return _this8._shimmedLocalStreams[streamId][0];\n    });\n  };\n\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    if (!stream) {\n      return origAddTrack.apply(this, arguments);\n    }\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    var sender = origAddTrack.apply(this, arguments);\n    if (!this._shimmedLocalStreams[stream.id]) {\n      this._shimmedLocalStreams[stream.id] = [stream, sender];\n    } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n      this._shimmedLocalStreams[stream.id].push(sender);\n    }\n    return sender;\n  };\n\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this9 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this9.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    var existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    var newSenders = this.getSenders().filter(function (newSender) {\n      return existingSenders.indexOf(newSender) === -1;\n    });\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    delete this._shimmedLocalStreams[stream.id];\n    return origRemoveStream.apply(this, arguments);\n  };\n\n  var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this10 = this;\n\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    if (sender) {\n      Object.keys(this._shimmedLocalStreams).forEach(function (streamId) {\n        var idx = _this10._shimmedLocalStreams[streamId].indexOf(sender);\n        if (idx !== -1) {\n          _this10._shimmedLocalStreams[streamId].splice(idx, 1);\n        }\n        if (_this10._shimmedLocalStreams[streamId].length === 1) {\n          delete _this10._shimmedLocalStreams[streamId];\n        }\n      });\n    }\n    return origRemoveTrack.apply(this, arguments);\n  };\n}\n\nfunction shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  var origGetLocalStreams = window.RTCPeerConnection.prototype.getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this11 = this;\n\n    var nativeStreams = origGetLocalStreams.apply(this);\n    this._reverseStreams = this._reverseStreams || {};\n    return nativeStreams.map(function (stream) {\n      return _this11._reverseStreams[stream.id];\n    });\n  };\n\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this12 = this;\n\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this12.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      var newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n\n    origRemoveStream.apply(this, [this._streams[stream.id] || stream]);\n    delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];\n    delete this._streams[stream.id];\n  };\n\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    var _this13 = this;\n\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    var streams = [].slice.call(arguments, 1);\n    if (streams.length !== 1 || !streams[0].getTracks().find(function (t) {\n      return t === track;\n    })) {\n      // this is not fully correct but all we can manage without\n      // [[associated MediaStreams]] internal slot.\n      throw new DOMException('The adapter.js addTrack polyfill only supports a single ' + ' stream which is associated with the specified track.', 'NotSupportedError');\n    }\n\n    var alreadyExists = this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n    if (alreadyExists) {\n      throw new DOMException('Track already exists.', 'InvalidAccessError');\n    }\n\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n    var oldStream = this._streams[stream.id];\n    if (oldStream) {\n      // this is using odd Chrome behaviour, use with caution:\n      // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n      // Note: we rely on the high-level addTrack/dtmf shim to\n      // create the sender with a dtmf sender.\n      oldStream.addTrack(track);\n\n      // Trigger ONN async.\n      Promise.resolve().then(function () {\n        _this13.dispatchEvent(new Event('negotiationneeded'));\n      });\n    } else {\n      var newStream = new window.MediaStream([track]);\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      this.addStream(newStream);\n    }\n    return this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n  };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'), externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'), internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function (method) {\n    var nativeMethod = window.RTCPeerConnection.prototype[method];\n    var methodObj = _defineProperty({}, method, function () {\n      var _this14 = this;\n\n      var args = arguments;\n      var isLegacyCall = arguments.length && typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [function (description) {\n          var desc = replaceInternalStreamId(_this14, description);\n          args[0].apply(null, [desc]);\n        }, function (err) {\n          if (args[1]) {\n            args[1].apply(null, err);\n          }\n        }, arguments[2]]);\n      }\n      return nativeMethod.apply(this, arguments).then(function (description) {\n        return replaceInternalStreamId(_this14, description);\n      });\n    });\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n\n  var origSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n    if (!arguments.length || !arguments[0].type) {\n      return origSetLocalDescription.apply(this, arguments);\n    }\n    arguments[0] = replaceExternalStreamId(this, arguments[0]);\n    return origSetLocalDescription.apply(this, arguments);\n  };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  var origLocalDescription = Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype, 'localDescription', {\n    get: function get() {\n      var description = origLocalDescription.get.apply(this);\n      if (description.type === '') {\n        return description;\n      }\n      return replaceInternalStreamId(this, description);\n    }\n  });\n\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this15 = this;\n\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    // We can not yet check for sender instanceof RTCRtpSender\n    // since we shim RTPSender. So we check if sender._pc is set.\n    if (!sender._pc) {\n      throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' + 'does not implement interface RTCRtpSender.', 'TypeError');\n    }\n    var isLocal = sender._pc === this;\n    if (!isLocal) {\n      throw new DOMException('Sender was not created by this connection.', 'InvalidAccessError');\n    }\n\n    // Search for the native stream the senders track belongs to.\n    this._streams = this._streams || {};\n    var stream = void 0;\n    Object.keys(this._streams).forEach(function (streamid) {\n      var hasTrack = _this15._streams[streamid].getTracks().find(function (track) {\n        return sender.track === track;\n      });\n      if (hasTrack) {\n        stream = _this15._streams[streamid];\n      }\n    });\n\n    if (stream) {\n      if (stream.getTracks().length === 1) {\n        // if this is the last track of the stream, remove the stream. This\n        // takes care of any shimmed _senders.\n        this.removeStream(this._reverseStreams[stream.id]);\n      } else {\n        // relying on the same odd chrome behaviour as above.\n        stream.removeTrack(sender.track);\n      }\n      this.dispatchEvent(new Event('negotiationneeded'));\n    }\n  };\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nfunction fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', function (e) {\n    var pc = e.target;\n    if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === 'plan-b') {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n\n},{\"../utils.js\":11,\"./getdisplaymedia\":4,\"./getusermedia\":5}],4:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    return getSourceId(constraints).then(function (sourceId) {\n      var widthSpecified = constraints.video && constraints.video.width;\n      var heightSpecified = constraints.video && constraints.video.height;\n      var frameRateSpecified = constraints.video && constraints.video.frameRate;\n      constraints.video = {\n        mandatory: {\n          chromeMediaSource: 'desktop',\n          chromeMediaSourceId: sourceId,\n          maxFrameRate: frameRateSpecified || 3\n        }\n      };\n      if (widthSpecified) {\n        constraints.video.mandatory.maxWidth = widthSpecified;\n      }\n      if (heightSpecified) {\n        constraints.video.mandatory.maxHeight = heightSpecified;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    });\n  };\n}\n\n},{}],5:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimGetUserMedia = shimGetUserMedia;\n\nvar _utils = require('../utils.js');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nvar logging = utils.log;\n\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n\n  if (!navigator.mediaDevices) {\n    return;\n  }\n\n  var constraintsToChrome_ = function constraintsToChrome_(c) {\n    if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function (key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = _typeof(c[key]) === 'object' ? c[key] : { ideal: c[key] };\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function oldname_(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return name === 'deviceId' ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function (mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n\n  var shimConstraints_ = function shimConstraints_(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && _typeof(constraints.audio) === 'object') {\n      var remap = function remap(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && _typeof(constraints.video) === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && ((typeof face === 'undefined' ? 'undefined' : _typeof(face)) === 'object' ? face : { ideal: face });\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n\n      if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches = void 0;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices().then(function (devices) {\n            devices = devices.filter(function (d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function (d) {\n              return matches.some(function (match) {\n                return d.label.toLowerCase().includes(match);\n              });\n            });\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n            if (dev) {\n              constraints.video.deviceId = face.exact ? { exact: dev.deviceId } : { ideal: dev.deviceId };\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n\n  var shimError_ = function shimError_(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString: function toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n\n  var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function (c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (cs) {\n      return shimConstraints_(cs, function (c) {\n        return origGetUserMedia(c).then(function (stream) {\n          if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function (track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function (e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n}\n\n},{\"../utils.js\":11}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimRTCIceCandidate = shimRTCIceCandidate;\nexports.shimRTCIceCandidateRelayProtocol = shimRTCIceCandidateRelayProtocol;\nexports.shimMaxMessageSize = shimMaxMessageSize;\nexports.shimSendThrowTypeError = shimSendThrowTypeError;\nexports.shimConnectionState = shimConnectionState;\nexports.removeExtmapAllowMixed = removeExtmapAllowMixed;\nexports.shimAddIceCandidateNullOrEmpty = shimAddIceCandidateNullOrEmpty;\nexports.shimParameterlessSetLocalDescription = shimParameterlessSetLocalDescription;\n\nvar _sdp = require('sdp');\n\nvar _sdp2 = _interopRequireDefault(_sdp);\n\nvar _utils = require('./utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || window.RTCIceCandidate && 'foundation' in window.RTCIceCandidate.prototype) {\n    return;\n  }\n\n  var NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if ((typeof args === 'undefined' ? 'undefined' : _typeof(args)) === 'object' && args.candidate && args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substring(2);\n    }\n\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = _sdp2.default.parseCandidate(args.candidate);\n      var augmentedCandidate = Object.assign(nativeCandidate, parsedCandidate);\n\n      // Add a serializer that does not serialize the extra attributes.\n      augmentedCandidate.toJSON = function toJSON() {\n        return {\n          candidate: augmentedCandidate.candidate,\n          sdpMid: augmentedCandidate.sdpMid,\n          sdpMLineIndex: augmentedCandidate.sdpMLineIndex,\n          usernameFragment: augmentedCandidate.usernameFragment\n        };\n      };\n      return augmentedCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\n\nfunction shimRTCIceCandidateRelayProtocol(window) {\n  if (!window.RTCIceCandidate || window.RTCIceCandidate && 'relayProtocol' in window.RTCIceCandidate.prototype) {\n    return;\n  }\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n    if (e.candidate) {\n      var parsedCandidate = _sdp2.default.parseCandidate(e.candidate.candidate);\n      if (parsedCandidate.type === 'relay') {\n        // This is a libwebrtc-specific mapping of local type preference\n        // to relayProtocol.\n        e.candidate.relayProtocol = {\n          0: 'tls',\n          1: 'tcp',\n          2: 'udp'\n        }[parsedCandidate.priority >> 24];\n      }\n    }\n    return e;\n  });\n}\n\nfunction shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get: function get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n\n  var sctpInDescription = function sctpInDescription(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    var sections = _sdp2.default.splitSections(description.sdp);\n    sections.shift();\n    return sections.some(function (mediaSection) {\n      var mLine = _sdp2.default.parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application' && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n\n  var getRemoteFirefoxVersion = function getRemoteFirefoxVersion(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    var version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n\n  var getCanSendMaxMessageSize = function getCanSendMaxMessageSize(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    var canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n\n  var getMaxMessageSize = function getMaxMessageSize(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    var maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox' && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n\n    var match = _sdp2.default.matchPrefix(description.sdp, 'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substring(19), 10);\n    } else if (browserDetails.browser === 'firefox' && remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n\n  var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n    this._sctp = null;\n    // Chrome decided to not expose .sctp in plan-b mode.\n    // As usual, adapter.js has to do an 'ugly worakaround'\n    // to cover up the mess.\n    if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n      var _getConfiguration = this.getConfiguration(),\n          sdpSemantics = _getConfiguration.sdpSemantics;\n\n      if (sdpSemantics === 'plan-b') {\n        Object.defineProperty(this, 'sctp', {\n          get: function get() {\n            return typeof this._sctp === 'undefined' ? null : this._sctp;\n          },\n\n          enumerable: true,\n          configurable: true\n        });\n      }\n    }\n\n    if (sctpInDescription(arguments[0])) {\n      // Check if the remote is FF.\n      var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n      // Get the maximum message size the local peer is capable of sending\n      var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n      // Get the maximum message size of the remote peer.\n      var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n      // Determine final maximum message size\n      var maxMessageSize = void 0;\n      if (canSendMMS === 0 && remoteMMS === 0) {\n        maxMessageSize = Number.POSITIVE_INFINITY;\n      } else if (canSendMMS === 0 || remoteMMS === 0) {\n        maxMessageSize = Math.max(canSendMMS, remoteMMS);\n      } else {\n        maxMessageSize = Math.min(canSendMMS, remoteMMS);\n      }\n\n      // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n      // attribute.\n      var sctp = {};\n      Object.defineProperty(sctp, 'maxMessageSize', {\n        get: function get() {\n          return maxMessageSize;\n        }\n      });\n      this._sctp = sctp;\n    }\n\n    return origSetRemoteDescription.apply(this, arguments);\n  };\n}\n\nfunction shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection && 'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    var origDataChannelSend = dc.send;\n    dc.send = function send() {\n      var data = arguments[0];\n      var length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' && pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' + pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  var origCreateDataChannel = window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {\n    var dataChannel = origCreateDataChannel.apply(this, arguments);\n    wrapDcSend(dataChannel, this);\n    return dataChannel;\n  };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', function (e) {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nfunction shimConnectionState(window) {\n  if (!window.RTCPeerConnection || 'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get: function get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get: function get() {\n      return this._onconnectionstatechange || null;\n    },\n    set: function set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange', this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange', this._onconnectionstatechange = cb);\n      }\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n\n  ['setLocalDescription', 'setRemoteDescription'].forEach(function (method) {\n    var origMethod = proto[method];\n    proto[method] = function () {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = function (e) {\n          var pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            var newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange', this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\n\nfunction removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  var nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      var sdp = desc.sdp.split('\\n').filter(function (line) {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription && desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp: sdp\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\n\nfunction shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  var nativeAddIceCandidate = window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {\n    if (!arguments[0]) {\n      if (arguments[1]) {\n        arguments[1].apply(null);\n      }\n      return Promise.resolve();\n    }\n    // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n    // in older versions.\n    // Native support for ignoring exists for Chrome M77+.\n    // Safari ignores as well, exact version unknown but works in the same\n    // version that also ignores addIceCandidate(null).\n    if ((browserDetails.browser === 'chrome' && browserDetails.version < 78 || browserDetails.browser === 'firefox' && browserDetails.version < 68 || browserDetails.browser === 'safari') && arguments[0] && arguments[0].candidate === '') {\n      return Promise.resolve();\n    }\n    return nativeAddIceCandidate.apply(this, arguments);\n  };\n}\n\n// Note: Make sure to call this ahead of APIs that modify\n// setLocalDescription.length\nfunction shimParameterlessSetLocalDescription(window, browserDetails) {\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  var nativeSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n  if (!nativeSetLocalDescription || nativeSetLocalDescription.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n    var _this = this;\n\n    var desc = arguments[0] || {};\n    if ((typeof desc === 'undefined' ? 'undefined' : _typeof(desc)) !== 'object' || desc.type && desc.sdp) {\n      return nativeSetLocalDescription.apply(this, arguments);\n    }\n    // The remaining steps should technically happen when SLD comes off the\n    // RTCPeerConnection's operations chain (not ahead of going on it), but\n    // this is too difficult to shim. Instead, this shim only covers the\n    // common case where the operations chain is empty. This is imperfect, but\n    // should cover many cases. Rationale: Even if we can't reduce the glare\n    // window to zero on imperfect implementations, there's value in tapping\n    // into the perfect negotiation pattern that several browsers support.\n    desc = { type: desc.type, sdp: desc.sdp };\n    if (!desc.type) {\n      switch (this.signalingState) {\n        case 'stable':\n        case 'have-local-offer':\n        case 'have-remote-pranswer':\n          desc.type = 'offer';\n          break;\n        default:\n          desc.type = 'answer';\n          break;\n      }\n    }\n    if (desc.sdp || desc.type !== 'offer' && desc.type !== 'answer') {\n      return nativeSetLocalDescription.apply(this, [desc]);\n    }\n    var func = desc.type === 'offer' ? this.createOffer : this.createAnswer;\n    return func.apply(this).then(function (d) {\n      return nativeSetLocalDescription.apply(_this, [d]);\n    });\n  };\n}\n\n},{\"./utils\":11,\"sdp\":12}],7:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = exports.shimGetUserMedia = undefined;\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar _getusermedia = require('./getusermedia');\n\nObject.defineProperty(exports, 'shimGetUserMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\n\nvar _getdisplaymedia = require('./getdisplaymedia');\n\nObject.defineProperty(exports, 'shimGetDisplayMedia', {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimOnTrack = shimOnTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.shimSenderGetStats = shimSenderGetStats;\nexports.shimReceiverGetStats = shimReceiverGetStats;\nexports.shimRemoveStream = shimRemoveStream;\nexports.shimRTCDataChannel = shimRTCDataChannel;\nexports.shimAddTransceiver = shimAddTransceiver;\nexports.shimGetParameters = shimGetParameters;\nexports.shimCreateOffer = shimCreateOffer;\nexports.shimCreateAnswer = shimCreateAnswer;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _toConsumableArray(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } else { return Array.from(arr); } }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction shimOnTrack(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return { receiver: this.receiver };\n      }\n    });\n  }\n}\n\nfunction shimPeerConnection(window, browserDetails) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n\n  var modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n\n  var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _arguments = Array.prototype.slice.call(arguments),\n        selector = _arguments[0],\n        onSucc = _arguments[1],\n        onErr = _arguments[2];\n\n    return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n      if (browserDetails.version < 53 && !onSucc) {\n        // Shim only promise getStats with spec-hyphens in type names\n        // Leave callback version alone; misc old uses of forEach before Map\n        try {\n          stats.forEach(function (stat) {\n            stat.type = modernStatsTypes[stat.type] || stat.type;\n          });\n        } catch (e) {\n          if (e.name !== 'TypeError') {\n            throw e;\n          }\n          // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n          stats.forEach(function (stat, i) {\n            stats.set(i, Object.assign({}, stat, {\n              type: modernStatsTypes[stat.type] || stat.type\n            }));\n          });\n        }\n      }\n      return stats;\n    }).then(onSucc, onErr);\n  };\n}\n\nfunction shimSenderGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this = this;\n\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this;\n      });\n      return senders;\n    };\n  }\n\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      var sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n  };\n}\n\nfunction shimReceiverGetStats(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      var _this2 = this;\n\n      var receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(function (receiver) {\n        return receiver._pc = _this2;\n      });\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\n\nfunction shimRemoveStream(window) {\n  if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    var _this3 = this;\n\n    utils.deprecated('removeStream', 'removeTrack');\n    this.getSenders().forEach(function (sender) {\n      if (sender.track && stream.getTracks().includes(sender.track)) {\n        _this3.removeTrack(sender);\n      }\n    });\n  };\n}\n\nfunction shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\n\nfunction shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n      this.setParametersPromises = [];\n      // WebIDL input coercion and validation\n      var sendEncodings = arguments[1] && arguments[1].sendEncodings;\n      if (sendEncodings === undefined) {\n        sendEncodings = [];\n      }\n      sendEncodings = [].concat(_toConsumableArray(sendEncodings));\n      var shouldPerformCheck = sendEncodings.length > 0;\n      if (shouldPerformCheck) {\n        // If sendEncodings params are provided, validate grammar\n        sendEncodings.forEach(function (encodingParam) {\n          if ('rid' in encodingParam) {\n            var ridRegex = /^[a-z0-9]{0,16}$/i;\n            if (!ridRegex.test(encodingParam.rid)) {\n              throw new TypeError('Invalid RID value provided.');\n            }\n          }\n          if ('scaleResolutionDownBy' in encodingParam) {\n            if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n              throw new RangeError('scale_resolution_down_by must be >= 1.0');\n            }\n          }\n          if ('maxFramerate' in encodingParam) {\n            if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n              throw new RangeError('max_framerate must be >= 0.0');\n            }\n          }\n        });\n      }\n      var transceiver = origAddTransceiver.apply(this, arguments);\n      if (shouldPerformCheck) {\n        // Check if the init options were applied. If not we do this in an\n        // asynchronous way and save the promise reference in a global object.\n        // This is an ugly hack, but at the same time is way more robust than\n        // checking the sender parameters before and after the createOffer\n        // Also note that after the createoffer we are not 100% sure that\n        // the params were asynchronously applied so we might miss the\n        // opportunity to recreate offer.\n        var sender = transceiver.sender;\n\n        var params = sender.getParameters();\n        if (!('encodings' in params) ||\n        // Avoid being fooled by patched getParameters() below.\n        params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n          params.encodings = sendEncodings;\n          sender.sendEncodings = sendEncodings;\n          this.setParametersPromises.push(sender.setParameters(params).then(function () {\n            delete sender.sendEncodings;\n          }).catch(function () {\n            delete sender.sendEncodings;\n          }));\n        }\n      }\n      return transceiver;\n    };\n  }\n}\n\nfunction shimGetParameters(window) {\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters = function getParameters() {\n      var params = origGetParameters.apply(this, arguments);\n      if (!('encodings' in params)) {\n        params.encodings = [].concat(this.sendEncodings || [{}]);\n      }\n      return params;\n    };\n  }\n}\n\nfunction shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    var _this4 = this,\n        _arguments2 = arguments;\n\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateOffer.apply(_this4, _arguments2);\n      }).finally(function () {\n        _this4.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nfunction shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    var _this5 = this,\n        _arguments3 = arguments;\n\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateAnswer.apply(_this5, _arguments3);\n      }).finally(function () {\n        _this5.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n\n},{\"../utils\":11,\"./getdisplaymedia\":8,\"./getusermedia\":9}],8:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = { mediaSource: preferredMediaSource };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}\n\n},{}],9:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimGetUserMedia = shimGetUserMedia;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n\n  navigator.getUserMedia = function (constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n\n  if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function remap(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (c) {\n      if ((typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object' && _typeof(c.audio) === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function () {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function (c) {\n        if (this.kind === 'audio' && (typeof c === 'undefined' ? 'undefined' : _typeof(c)) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n\n},{\"../utils\":11}],10:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.shimLocalStreamsAPI = shimLocalStreamsAPI;\nexports.shimRemoteStreamsAPI = shimRemoteStreamsAPI;\nexports.shimCallbacksAPI = shimCallbacksAPI;\nexports.shimGetUserMedia = shimGetUserMedia;\nexports.shimConstraints = shimConstraints;\nexports.shimRTCIceServerUrls = shimRTCIceServerUrls;\nexports.shimTrackEventTransceiver = shimTrackEventTransceiver;\nexports.shimCreateOfferLegacy = shimCreateOfferLegacy;\nexports.shimAudioContext = shimAudioContext;\n\nvar _utils = require('../utils');\n\nvar utils = _interopRequireWildcard(_utils);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction shimLocalStreamsAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      return this._localStreams;\n    };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this = this;\n\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n      stream.getVideoTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n    };\n\n    window.RTCPeerConnection.prototype.addTrack = function addTrack(track) {\n      var _this2 = this;\n\n      for (var _len = arguments.length, streams = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        streams[_key - 1] = arguments[_key];\n      }\n\n      if (streams) {\n        streams.forEach(function (stream) {\n          if (!_this2._localStreams) {\n            _this2._localStreams = [stream];\n          } else if (!_this2._localStreams.includes(stream)) {\n            _this2._localStreams.push(stream);\n          }\n        });\n      }\n      return _addTrack.apply(this, arguments);\n    };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      var index = this._localStreams.indexOf(stream);\n      if (index === -1) {\n        return;\n      }\n      this._localStreams.splice(index, 1);\n      var tracks = stream.getTracks();\n      this.getSenders().forEach(function (sender) {\n        if (tracks.includes(sender.track)) {\n          _this3.removeTrack(sender);\n        }\n      });\n    };\n  }\n}\n\nfunction shimRemoteStreamsAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n      return this._remoteStreams ? this._remoteStreams : [];\n    };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get: function get() {\n        return this._onaddstream;\n      },\n      set: function set(f) {\n        var _this4 = this;\n\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!_this4._remoteStreams) {\n              _this4._remoteStreams = [];\n            }\n            if (_this4._remoteStreams.includes(stream)) {\n              return;\n            }\n            _this4._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            _this4.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var pc = this;\n      if (!this._onaddstreampoly) {\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!pc._remoteStreams) {\n              pc._remoteStreams = [];\n            }\n            if (pc._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            pc._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            pc.dispatchEvent(event);\n          });\n        });\n      }\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  }\n}\n\nfunction shimCallbacksAPI(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  var prototype = window.RTCPeerConnection.prototype;\n  var origCreateOffer = prototype.createOffer;\n  var origCreateAnswer = prototype.createAnswer;\n  var setLocalDescription = prototype.setLocalDescription;\n  var setRemoteDescription = prototype.setRemoteDescription;\n  var addIceCandidate = prototype.addIceCandidate;\n\n  prototype.createOffer = function createOffer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateOffer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n\n  prototype.createAnswer = function createAnswer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateAnswer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n\n  var withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n\n  withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n\n  withCallback = function withCallback(candidate, successCallback, failureCallback) {\n    var promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\n\nfunction shimGetUserMedia(window) {\n  var navigator = window && window.navigator;\n\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    var mediaDevices = navigator.mediaDevices;\n    var _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (constraints) {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n\n  if (!navigator.getUserMedia && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints).then(cb, errcb);\n    }.bind(navigator);\n  }\n}\n\nfunction shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({}, constraints, { video: utils.compactObject(constraints.video) });\n  }\n\n  return constraints;\n}\n\nfunction shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  var OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {\n    if (pcConfig && pcConfig.iceServers) {\n      var newIceServers = [];\n      for (var i = 0; i < pcConfig.iceServers.length; i++) {\n        var server = pcConfig.iceServers[i];\n        if (server.urls === undefined && server.url) {\n          utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n          server = JSON.parse(JSON.stringify(server));\n          server.urls = server.url;\n          delete server.url;\n          newIceServers.push(server);\n        } else {\n          newIceServers.push(pcConfig.iceServers[i]);\n        }\n      }\n      pcConfig.iceServers = newIceServers;\n    }\n    return new OrigPeerConnection(pcConfig, pcConstraints);\n  };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get: function get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\n\nfunction shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return { receiver: this.receiver };\n      }\n    });\n  }\n}\n\nfunction shimCreateOfferLegacy(window) {\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {\n    if (offerOptions) {\n      if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n      }\n      var audioTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'audio';\n      });\n      if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n        if (audioTransceiver.direction === 'sendrecv') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('sendonly');\n          } else {\n            audioTransceiver.direction = 'sendonly';\n          }\n        } else if (audioTransceiver.direction === 'recvonly') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('inactive');\n          } else {\n            audioTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) {\n        this.addTransceiver('audio', { direction: 'recvonly' });\n      }\n\n      if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n      }\n      var videoTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'video';\n      });\n      if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n        if (videoTransceiver.direction === 'sendrecv') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('sendonly');\n          } else {\n            videoTransceiver.direction = 'sendonly';\n          }\n        } else if (videoTransceiver.direction === 'recvonly') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('inactive');\n          } else {\n            videoTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) {\n        this.addTransceiver('video', { direction: 'recvonly' });\n      }\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\n\nfunction shimAudioContext(window) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n},{\"../utils\":11}],11:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nexports.extractVersion = extractVersion;\nexports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\nexports.disableLog = disableLog;\nexports.disableWarnings = disableWarnings;\nexports.log = log;\nexports.deprecated = deprecated;\nexports.detectBrowser = detectBrowser;\nexports.compactObject = compactObject;\nexports.walkStats = walkStats;\nexports.filterStats = filterStats;\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function wrappedCallback(e) {\n      var modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n  };\n\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap].delete(cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n  };\n\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n      }\n    },\n\n    enumerable: true,\n    configurable: true\n  });\n}\n\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + (typeof bool === 'undefined' ? 'undefined' : _typeof(bool)) + '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\n\nfunction log() {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  var result = { browser: null, version: null };\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n\n  var navigator = window.navigator;\n\n\n  if (navigator.mozGetUserMedia) {\n    // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else {\n    // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n\n  return Object.keys(data).reduce(function (accumulator, key) {\n    var isObj = isObject(data[key]);\n    var value = isObj ? compactObject(data[key]) : data[key];\n    var isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, _defineProperty({}, key, value));\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(function (name) {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(function (id) {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  var filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  var trackStats = [];\n  result.forEach(function (value) {\n    if (value.type === 'track' && value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(function (trackStat) {\n    result.forEach(function (stats) {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n},{}],12:[function(require,module,exports){\n/* eslint-env node */\n'use strict';\n\n// SDP helpers.\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function () {\n  return Math.random().toString(36).substring(2, 12);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function (blob) {\n  return blob.trim().split('\\n').map(function (line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function (blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function (part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns the session description.\nSDPUtils.getDescription = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// Returns the individual media sections.\nSDPUtils.getMediaSections = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function (blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function (line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n// Input can be prefixed with a=.\nSDPUtils.parseCandidate = function (line) {\n  var parts = void 0;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: { 1: 'rtp', 2: 'rtcp' }[parts[1]] || parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default:\n        // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\n// This does not include the a= prefix!\nSDPUtils.writeCandidate = function (candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n\n  var component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// Sample input:\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function (line) {\n  return line.substring(14).split(' ');\n};\n\n// Parses a rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function (line) {\n  var parts = line.substring(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generates a rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function (codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses a extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function (line) {\n  var parts = line.substring(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1],\n    attributes: parts.slice(2).join(' ')\n  };\n};\n\n// Generates an extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function (headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== 'sendrecv' ? '/' + headerExtension.direction : '') + ' ' + headerExtension.uri + (headerExtension.attributes ? ' ' + headerExtension.attributes : '') + '\\r\\n';\n};\n\n// Parses a fmtp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function (line) {\n  var parsed = {};\n  var kv = void 0;\n  var parts = line.substring(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates a fmtp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function (codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function (param) {\n      if (codec.parameters[param] !== undefined) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses a rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function (line) {\n  var parts = line.substring(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function (codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function (fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses a RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function (line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substring(7, sp), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substring(sp + 1, colon);\n    parts.value = line.substring(colon + 1);\n  } else {\n    parts.attribute = line.substring(sp + 1);\n  }\n  return parts;\n};\n\n// Parse a ssrc-group line (see RFC 5576). Sample input:\n// a=ssrc-group:semantics 12 34\nSDPUtils.parseSsrcGroup = function (line) {\n  var parts = line.substring(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function (ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// Returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function (mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substring(6);\n  }\n};\n\n// Parses a fingerprint line for DTLS-SRTP.\nSDPUtils.parseFingerprint = function (line) {\n  var parts = line.substring(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1].toUpperCase() // the definition is upper-case in RFC 4572.\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function (params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function (fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function (line) {\n  var parts = line.substring(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3)\n  };\n};\n\nSDPUtils.writeCryptoLine = function (parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' + parameters.cryptoSuite + ' ' + (_typeof(parameters.keyParams) === 'object' ? SDPUtils.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') + '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function (keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  var parts = keyParams.substring(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function (keyParams) {\n  return keyParams.keyMethod + ':' + keyParams.keySalt + (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') + (keyParams.mkiValue && keyParams.mkiLength ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-ufrag:')[0];\n  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substring(12),\n    password: pwd.substring(10)\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function (params) {\n  var sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function (mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  description.profile = mline[2];\n  for (var i = 3; i < mline.length; i++) {\n    // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default:\n          // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  var wildcardRtcpFb = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:* ').map(SDPUtils.parseRtcpFb);\n  description.codecs.forEach(function (codec) {\n    wildcardRtcpFb.forEach(function (fb) {\n      var duplicate = codec.rtcpFeedback.find(function (existingFeedback) {\n        return existingFeedback.type === fb.type && existingFeedback.parameter === fb.parameter;\n      });\n      if (!duplicate) {\n        codec.rtcpFeedback.push(fb);\n      }\n    });\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function (kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' ' + (caps.profile || 'UDP/TLS/RTP/SAVPF') + ' ';\n  sdp += caps.codecs.map(function (codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function (codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function (codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function (extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc = void 0;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function (line) {\n    var parts = line.substring(17).split(' ');\n    return parts.map(function (part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function (codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = { ssrc: secondarySsrc };\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substring(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substring(5), 10) * 1000 * 0.95 - 50 * 40 * 8;\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function (params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function (mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (obj) {\n    return obj.attribute === 'cname';\n  })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function (rtcpParameters) {\n  var sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc + ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function (mediaSection) {\n  var parts = void 0;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substring(7).split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (msidParts) {\n    return msidParts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function (mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize = void 0;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substring(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substring(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = sctpMapLines[0].substring(10).split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function (media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctp-port:' + sctp.port + '\\r\\n'];\n  } else {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function () {\n  return Math.random().toString().substr(2, 22);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function (sessId, sessVer, sessUser) {\n  var sessionId = void 0;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' + 'o=' + user + ' ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function (mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substring(2);\n      default:\n      // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substring(2);\n};\n\nSDPUtils.isRejected = function (mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substring(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function (mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substring(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function (blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n  module.exports = SDPUtils;\n}\n},{}]},{},[1])(1)\n});\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7460);\n",""],"names":["getVersion","eventEmitter","prototype","eventMap","subscribeMap","strictMode","checkEvent","type","Error","define","alias","on","listener","push","off","list","i","length","splice","emit","args","Array","slice","call","arguments","apply","undefined","j","subscribe","unsubscribe","setStrictMode","strict","defaultActionHandler","styleLog","entry","timestamp","level","logInfo","logType","payload","messages","prefix","style","includes","toUpperCase","method","console","groupEnd","defaultOptions","logLevel","handler","logActions","partialDefaultLogActions","actionOnly","collapsed","diff","exposePayloads","API_LOG_TAG","manager","logManager","watchDeviceEvents","eventTypes","change","checkDevices","then","devices","devicesChangedAction","deviceActions","devicesChanged","devicesChangedEvent","DEVICES_CHANGED","watchMediaEvents","media","newTrack","mediaId","trackId","mediaNewTrackAction","mediaActions","mediaNewTrack","trackEnded","mediaTrackEndedAction","mediaTrackEnded","watchMediaManagerEvents","newMedia","id","get","newMediaAction","local","getState","isLocal","tracks","getTracks","map","track","removedMedia","removedMediaAction","watchSessionEvents","session","newTrackAction","sessionActions","sessionNewTrack","isUnsolicited","sessionTrackEnded","trackReplaced","oldTrackId","trackReplacedAction","sessionTrackReplaced","iceConnectionStateChange","obj","iceConnectionStateChangeAction","sessionIceConnectionStateChange","iceConnectionState","iceCandidateCollected","iceCandidateCollectedAction","sessionIceCandidateCollected","iceGatheringStateChange","iceGatheringStateChangeAction","sessionIceGatheringStateChange","iceCollectionScheduledCheck","iceCollectionScheduledCheckAction","sessionIceCollectionScheduledCheck","audioFileEnded","isSuccess","sessionAudioEnded","error","watchSessionManagerEvents","sessionAdded","state","sessionAddedAction","sessionRemoved","sessionRemovedAction","watchTrackEvents","trackSourceMuted","trackData","trackSourceMutedAction","trackActions","trackSourceMutedEvent","TRACK_SOURCE_MUTED","trackIds","trackSourceUnmuted","trackSourceUnmutedAction","trackSourceUnmutedEvent","TRACK_SOURCE_UNMUTED","watchTrackManagerEvents","trackAdded","sourceMuted","muted","enabled","trackAddedAction","trackRemoved","trackRemovedAction","DEVICES_CHANGE","INITIALIZE_DEVICES","INITIALIZE_DEVICES_FINISH","trackPrefix","TRACK_ADDED","TRACK_REMOVED","RENDER_TRACKS","RENDER_TRACKS_FINISH","REMOVE_TRACKS","REMOVE_TRACKS_FINISH","MUTE_TRACKS","MUTE_TRACKS_FINISH","UNMUTE_TRACKS","UNMUTE_TRACKS_FINISH","sessionPrefix","SESSION_ADDED","SESSION_REMOVED","SESSION_NEW_TRACK","SESSION_TRACK_ENDED","SESSION_TRACK_REPLACED","SESSION_AUDIO_ENDED","SESSION_ICE_CONNECTION_STATE_CHANGE","SESSION_ICE_GATHERING_STATE_CHANGE","SESSION_ICE_CANDIDATE_COLLECTED","SESSION_ICE_COLLECTION_SCHEDULED_CHECK","mediaPrefix","MEDIA_NEW","MEDIA_REMOVED","MEDIA_CHANGE","MEDIA_NEW_TRACK","MEDIA_TRACK_ENDED","SET_BROWSER_DETAILS","initializeDevice","initializeDeviceFinish","actionTypes","browserConstraints","Boolean","deviceActionsImport","trackActionsImport","sessionActionsImport","mediaActionsImport","miscActionsImport","miscActions","mediaActionHelper","meta","action","params","setBrowserDetails","details","sessionActionHelper","muteTracks","muteTracksFinish","unmuteTracks","unmuteTracksFinish","renderTracks","renderTracksFinish","removeTracks","removeTracksFinish","trackManagerHelper","trackHelper","INITIALIZE_DEVICES_ERROR","TRACKS_MUTED","TRACKS_UNMUTED","TRACK_RENDERED","TRACK_ENDED","jsonChannel","replyChannel","log","getLogger","innerChannel","receive","send","message","err","receiveJSONMessage","JSON","parse","channel","sentMessages","receiveMessage","messageId","data","isExpired","debug","resolve","api","warn","callback","timeoutId","setTimeout","clearTimeout","reply","deviceManager","webRTC","command","operation","managers","setupDeviceInitialization","name","constraint","convertCommand","convertTrack","convertMedia","convertSession","convertLogger","mediaManager","sessionManager","trackManager","logs","logManagerConverter","webrtcManager","renderer","models","logger","result","sessionState","localTracks","allLocalTracks","remoteTracks","loggers","getLoggers","setLevel","forEach","stringifyError","createLocal","createLocalScreen","rendererManager","renderTrack","dscpTrackMapping","addTracks","getStats","stats","entries","create","sessions","getAll","objs","getWithMedia","medias","getContainers","ele","clientProxy","base","isReady","initialize","setChannel","remoteVersion","info","config","version","response","initialized","logLevels","WEBRTC","PROXY","CHANNEL","event","substring","browser","getBrowserDetails","onInit","isWebrtcCommand","getChannel","setupEvents","emitter","setWebrtcListeners","mediaMan","deviceMan","mediaApis","remoteClient","proxy","stack","proxyApi","hasDefinedStack","stackCheck","mediaApi","getCapabilities","module","exports","getDevices","getMedia","getMediaById","getTrackById","cssSelector","container","document","querySelector","unrenderTrack","setupListeners","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","levelValues","logMethods","trace","group","groupCollapsed","timeLevel","createManager","levelImport","logFormatter","defaultLogFormatter","target","shortId","shortName","defaultLogHandler","formattedString","tail","defaultType","options","settings","String","loggerName","getLevel","getHandler","filter","setHandler","createLogger","logFunc","injectables","shouldLog","Date","now","timeLog","timer","timeWarn","createTimer","timers","time","hasOwnProperty","start","timeEnd","elapsed","end","split","checkLevel","checkHandler","upperLevel","trickleIceMode","PEER","TRICKLE_ICE","FULL","removeBundling","halfTrickleThreshold","isPassedHalfTrickleThreshold","sdp","iceCandidate","passedHalf","candidate","indexOf","onicecandidate","nativePeer","proxyPeer","iceTimer","iceCandidates","elapsedTime","timeFromStart","iceCollectionDuration","iceGatheringState","rtcPeerConnectionConfig","rtcLocalSessionDescription","localDescription","HALF","haveHalf","oniceconnectionstatechange","onicegatheringstatechange","gatheringState","ICE_GATHERING_STATE","GATHERING","COMPLETE","stop","onnegotiationneeded","onsignalingstatechange","ontrack","signalingState","nativeTrack","streams","kind","targetStream","MediaStream","add","peer","defaults","EventEmitter","rtcConfig","RTCPeerConnection","optional","googDscp","customMethods","methods","bind","once","dtlsRole","iceLoop","Proxy","prop","receiver","properties","set","value","events","eventName","addIceCandidate","reject","remoteDescription","catch","addTrack","sender","getStream","close","createAnswer","mediaDirections","answer","sdpHandlers","preventDtlsRoleChange","NONE","removeTrickleIce","endpoint","ENDPOINT","LOCAL","createOffer","offer","findReusableTransceiver","transceivers","getTransceivers","find","transceiver","currentDirection","localDesc","senderTracks","senders","getSenders","errMsg","removeTrack","replaceTrack","sendDTMF","setLocalDescription","setRemoteDescription","targetTransceiver","tone","duration","intertoneGap","insertDTMF","handleToneChangeEvent","dtmf","dtmfSender","ontonechange","desc","dtlsMatch","match","isStarted","isIceCollectionCheckOngoing","localRole","remoteTracksAll","getLocalDescription","active","getRemoteDescription","remoteDesc","getRemoteTracks","getReceivers","proxyBase","timerPrototype","_startTime","getTime","NEW","REMOTE","MEDIA_DIR","INACTIVE","SEND_ONLY","RECV_ONLY","SEND_RECV","ICE_COLLECTION_CHECK_REASONS","ICE_GATHERING_STATE_CHANGE","NEW_CANDIDATE","SCHEDULED","ICE_COLLECTION_RESULT_TYPES","START_CALL","WAIT","getWebRTCSupportCapabilities","getDetails","mediaDevices","navigator","peerConnection","window","browserDetails","Renderer","DeviceManager","TrackManager","MediaManager","peerManager","PeerManager","SessionManager","WebRTCManager","Track","Media","Peer","pipeline","sdpPipeline","handlers","WEBRTC_DEVICE_KINDS","audioinput","videoinput","audiooutput","microphone","camera","speaker","isListening","recentDeviceChange","addEventListener","setListening","flag","enumerateDevices","device","getUserMedia","mediaStream","browserConstraintsWorkaround","constraints","deviceId","exact","setupMedia","wrappedTrack","remove","constraintsWorkaround","getDisplayMedia","createRemote","stream","delete","keys","findTrack","allMedia","values","getTrack","peers","speakerId","element","rendererId","containers","createElement","height","width","srcObject","src","URL","createObjectURL","autoplay","playsInline","play","setSinkId","appendChild","index","findIndex","item","removeChild","Session","sessionId","mediaConstrants","addNewMedia","isLocalTrack","targetTrack","setStream","setIsLocal","getAvailableCodecs","capabilities","RTCRtpSender","codecs","nativeStream","has","removedTrack","unfixedDebounce","debounce","convert","fixed","peerId","dscpControls","dtlsRoleRecord","latestRemoteDescription","setupPeerEventHandlers","recordNewDtlsRole","remoteSdpSessionId","getLocalTracks","getAllLocalTracks","warmup","addTrackOrReuseTransceiverPromises","reusableTransceiver","direction","mid","all","setTransceiversDirection","getHandlers","run","description","setParameters","rollbackLocalDescription","iceCollectionCheckResult","wait","mediaConstraints","promises","setNetworkPriority","networkPriority","parameters","getParameters","encodings","encoding","generateOffer","processOffer","previousDtlsRole","generateAnswer","processAnswer","restartIce","getDtlsRole","DTMFOptions","sendOptions","targetPeer","reason","iceCollectionInfo","leading","recreatePeer","oldPeer","newPeer","oldLocalTrack","getPeer","getLatestRemoteDesc","getRemoteTrackIdsFromTransceivers","mids","remoteTrackIds","some","getIncomingRemoteTrackIds","isReceiving","readyState","getActiveRemoteTrackIds","insertAudio","filePath","playIfReady","audio","endOriginalTrack","oldTrack","onended","Event","currentTrackId","Audio","volume","context","AudioContext","source","createMediaElementSource","dest","createMediaStreamDestination","connect","audioTrack","getAudioTracks","oncanplaythrough","onplay","onerror","video","screen","status","mediaProm","screenProm","results","errMessage","newErr","reduce","acc","cur","concat","mediaTrack","isNative","trigger","onmute","onunmute","newStream","streamId","label","mute","unmute","getConstraints","setConstraints","constr","getSdpSessionId","oLine","changeMediaDirection","originalSdp","iceOptions","groups","isValid","newSdp","mLine","setup","runPipeline","objectSdp","sdpTransform","write","createPipeline","defaultHandlers","setHandlers","setTransceiverDirection","targetDirection","setDirection","mergeValues","makeSafeForCSS","objects","leftValue","rightValue","replace","adapter"],"sourceRoot":""}