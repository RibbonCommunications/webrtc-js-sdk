{"version":3,"file":"webrtc.remote.js","mappings":"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Ac;AACzB,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,cAAc;AACzB,WAAW,iBAAiB;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,OAAO;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,0DAA0D,OAAO;AACjE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,QAAQ;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,SAAS;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,0CAA0C,SAAS;AACnD;AACA;;AAEA;AACA,IAAI;AACJ;AACA;;AAEA,gBAAgB,YAAY;AAC5B;;AAEA;AACA,4DAA4D;AAC5D,gEAAgE;AAChE,oEAAoE;AACpE,wEAAwE;AACxE;AACA,2DAA2D,SAAS;AACpE;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,aAAa,cAAc;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,WAAW,UAAU;AACrB,WAAW,GAAG;AACd,WAAW,SAAS;AACpB,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ,4DAA4D,YAAY;AACxE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,WAAW,iBAAiB;AAC5B,aAAa,cAAc;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI,IAA6B;AACjC;AACA;;;;;;;;AC/UA,QAAQ,wCAAoC;AAC5C,iBAAiB,mBAAO,CAAC,IAAmB;;;;;;;;ACD5C,cAAc,mBAAO,CAAC,GAAY;AAClC,qBAAqB,mBAAO,CAAC,IAAe;;AAE5C;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA,uBAAuB;AACvB,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA,uBAAuB;AACvB,oBAAoB;AACpB;;AAEA;AACA;AACA;AACA;AACA,WAAW,OAAO;AAClB,aAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA,kBAAkB;AAClB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,WAAW,UAAU;AACrB,WAAW,UAAU;AACrB,aAAa,UAAU;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,WAAW,QAAQ;AACnB,WAAW,QAAQ;AACnB,WAAW,UAAU;AACrB,WAAW,QAAQ;AACnB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,aAAa,iBAAiB;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,cAAc;AAC3B,eAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uCAAuC;;AAEvC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,QAAQ;AACrB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA,aAAa,UAAU;AACvB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa,QAAQ;AACrB,aAAa,UAAU;AACvB,eAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;;AAEH;AACA;;AAEA;;;;;;;;ACxjBA;AACA,mBAAmB;;AAEnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qBAAqB;AACrB;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,iBAAiB,YAAY;AAC7B,qBAAqB,YAAY;AACjC,mBAAmB,YAAY;AAC/B,uBAAuB,YAAY;AACnC,mBAAmB,YAAY;AAC/B,uBAAuB,YAAY;AACnC,kBAAkB,YAAY;AAC9B,qBAAqB,YAAY;AACjC,gBAAgB,YAAY;AAC5B,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B,oBAAoB,YAAY;AAChC,eAAe,YAAY;AAC3B,cAAc;AACd;;AAEA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mBAAmB;AACnB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA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,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,qCAAqC,eAAe,WAAW;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,gCAAgC,aAAa;AAC7C,4BAA4B,WAAW;AACvC;AACA;AACA;AACA;AACA,sBAAsB;AACtB,sCAAsC;AACtC,0BAA0B;AAC1B,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,iCAAiC;AACjC,iCAAiC,EAAE;AACnC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;;;;;;;;AC7eD,aAAa,mBAAO,CAAC,IAAU;AAC/B,aAAa,mBAAO,CAAC,GAAU;;AAE/B,aAAa;AACb,aAAa;AACb,mBAAmB;AACnB,uBAAuB,2BAA2B;AAClD,qBAAqB;AACrB,6BAA6B;AAC7B,4BAA4B;AAC5B,gCAAgC;;;;;;;;ACVhC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAoB,kBAAkB;AACtC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,gDAAgD;;AAEhD;;AAEA;AACA;AACA;AACA;;AAEA,cAAc,mBAAO,CAAC,IAAW;AACjC;;AAEA,aAAa;AACb;AACA;AACA,0BAA0B;;AAE1B;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC,wCAAwC;AACxC;;AAEA,oBAAoB,kCAAkC;AACtD;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH,yBAAyB;AACzB;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA,mBAAmB;AACnB,qBAAqB,6BAA6B;AAClD;;AAEA;AACA,uBAAuB;;AAEvB,qBAAqB;AACrB;AACA;;AAEA,6BAA6B;AAC7B;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA,4BAA4B;AAC5B;AACA,8EAA8E;AAC9E,GAAG;AACH;;AAEA,gCAAgC;AAChC,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA,QAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;;;;;;;;AC3HA,cAAc,mBAAO,CAAC,IAAW;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,oBAAoB,sBAAsB;AAC1C;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA,wBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL,GAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,OAAO;AACP,KAAK;AACL,GAAG;;AAEH;AACA;;;;;;;;;ACjHa;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf,uCAAuC,mBAAO,CAAC,IAAe;;AAE9D,uCAAuC,uCAAuC;;AAE9E;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,kBAAe;;;;;;;;ACpBF;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,uCAAsC;AACtC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,yCAAwC;AACxC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,6CAA4C;AAC5C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,sCAAqC;AACrC;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,4CAA2C;AAC3C;AACA;AACA;AACA;AACA,CAAC,EAAC;AACF,2CAA0C;AAC1C;AACA;AACA;AACA;AACA,CAAC,EAAC;;AAEF,gCAAgC,mBAAO,CAAC,IAAS;;AAEjD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,iCAAiC,mBAAO,CAAC,IAAS;;AAElD,kCAAkC,mBAAO,CAAC,IAAU;;AAEpD,sCAAsC,mBAAO,CAAC,IAAc;;AAE5D,uCAAuC,mBAAO,CAAC,IAAe;;AAE9D,wCAAwC,mBAAO,CAAC,IAAgB;;AAEhE,oCAAoC,mBAAO,CAAC,IAAY;;AAExD,uCAAuC,uCAAuC;;;;;;;;AC9EjE;;AAEb,8CAA6C;AAC7C;AACA,CAAC,EAAC;AACF,kBAAe;;AAEf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qDAAqD;;AAErD;;AAEA,oBAAoB,gBAAgB;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;;AAEA,kBAAkB,aAAa;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AA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AmB,kBAAkB,gBAAgB,UAAU,UAAU,MAAM,SAAmC,CAAC,gBAAgB,OAAC,OAAO,oBAAoB,8CAA8C,kCAAkC,YAAY,YAAY,mCAAmC,iBAAiB,eAAe,sBAAsB,oBAAoB,UAAU,SAAmC,KAAK,WAAW,YAAY,SAAS,SAAS,KAAK;AAC5zB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,CAAC;AACD,0BAA0B;;AAE1B,CAAC,EAAE,yBAAyB;AAC5B;;AAEA,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,mFAAmF;AACnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,sHAAsH;AACzH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,4CAA4C,2BAA2B,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;AAC/N,+BAA+B,uCAAuC;AACtE,qCAAqC,iEAAiE,sCAAsC,0BAA0B,+CAA+C,2CAA2C,uEAAuE;AACvU,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,eAAe;AACf,cAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAc;AACd;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sCAAsC;AACtC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA,SAAS;AACT;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,OAAO;AACP,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,sCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA,CAAC,EAAE,0DAA0D;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,eAAe;AACf,aAAa;AACb;AACA,iDAAiD;AACjD;;AAEA;AACA;AACA;AACA,gBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,SAAS;AACT;AACA,SAAS;AACT,OAAO;AACP;AACA;AACA;;AAEA,CAAC,EAAE,iBAAiB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,uCAAuC,uCAAuC;AAC9E,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA,QAAQ;AACR;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,SAAS;AACT,QAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC,mBAAmB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC,mBAAmB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA,CAAC,EAAE,sBAAsB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,mCAAmC;AACnC,gCAAgC;AAChC,kDAAkD,gBAAgB,gEAAgE,wDAAwD,6DAA6D,sDAAsD;AAC7S,kCAAkC;AAClC,mCAAmC;AACnC,uCAAuC,uDAAuD,uCAAuC,SAAS,uBAAuB;AACrK,4CAA4C,2BAA2B,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;AAC/N,+BAA+B,uCAAuC;AACtE,qCAAqC,iEAAiE,sCAAsC,0BAA0B,+CAA+C,2CAA2C,uEAAuE;AACvU,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,YAAY;AACZ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA,OAAO;AACP;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA;AACA,WAAW;AACX,UAAU;AACV;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA,aAAa;AACb,WAAW;AACX;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX;AACA,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA,CAAC,EAAE,uDAAuD;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD,gDAAgD,uCAAuC,sCAAsC,oFAAoF,4DAA4D;AAC9T,qDAAqD,6CAA6C,cAAc,8EAA8E,SAAS,oBAAoB,mDAAmD,+BAA+B,yBAAyB,iBAAiB,sFAAsF,uBAAuB,2EAA2E,qFAAqF,sCAAsC,4CAA4C,OAAO,8BAA8B,yBAAyB,aAAa,0BAA0B;AAC3xB,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,gGAAgG,aAAa;AAC7G;AACA;AACA;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,2BAA2B;AAC3B;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,gCAAgC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA,YAAY;AACZ;AACA;AACA,UAAU;AACV;AACA;AACA,YAAY;AACZ;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,CAAC,EAAE,cAAc;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,2BAA2B,kBAAkB,kCAAkC,oEAAoE,KAAK,OAAO,oBAAoB;AAC/N,+BAA+B,uCAAuC;AACtE,qCAAqC,iEAAiE,sCAAsC,0BAA0B,+CAA+C,2CAA2C,uEAAuE;AACvU,wBAAwB,2BAA2B,sGAAsG,qBAAqB,mBAAmB,8HAA8H;AAC/T;AACA;;AAEA;AACA;AACA;AACA,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,WAAW,SAAS;AACpB,YAAY,SAAS;AACrB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,UAAU;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAY,QAAQ;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,WAAW,GAAG;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wDAAwD;AACxD,GAAG,IAAI;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;;AAEA,CAAC,GAAG;AACJ;AACA;;AAEA;;AAEA,qGAAqG,qBAAqB,mBAAmB;;AAE7I;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;;AAEA;AACA;AACA,iBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAI;AACJ;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAoB;AACpB,2BAA2B;AAC3B;AACA;AACA;AACA,4DAA4D;AAC5D,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAQ;AACR;AACA;AACA,KAAK;AACL,iDAAiD;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,6CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,aAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAI;AACJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB,kBAAkB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,GAAG,EAAE,GAAG;AACT,CAAC;;;;;;;;ACnyGD,oBAAoB,mBAAO,CAAC,IAAoB;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL,IAAI;AACJ;AACA;AACA;AACA;AACA,kCAAkC,yBAAyB,SAAS,yBAAyB;;;;;;;ACf7F;AACA;AACA;AACA;AACA;AACA,yCAAyC,yBAAyB,SAAS,yBAAyB;;;;;;;ACLpG,mCAAmC,mBAAO,CAAC,IAAmC;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB,6BAA6B;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA2C,yBAAyB,SAAS,yBAAyB;;;;;;;AChBtG;AACA;AACA;AACA;AACA;AACA,cAAc,uBAAuB;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gDAAgD,yBAAyB,SAAS,yBAAyB;;;;;;;ACZ3G,cAAc,sCAAiC;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,yBAAyB,SAAS,yBAAyB;;;;;;;ACX1F,cAAc,sCAAiC;AAC/C,kBAAkB,mBAAO,CAAC,IAAkB;AAC5C;AACA;AACA;AACA;AACA,iCAAiC,yBAAyB,SAAS,yBAAyB;;;;;;;ACN5F;AACA;;AAEA;AACA;AACA,IAAI;AACJ;AACA,GAAG,EAAE,yBAAyB,SAAS,yBAAyB;AAChE;AACA,0BAA0B,yBAAyB,SAAS,yBAAyB;;;;;;UCTrF;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;WCzBA;WACA;WACA;WACA;WACA,GAAG;WACH;WACA;WACA,CAAC;;;;;WCPD;WACA;WACA;WACA;WACA;;;;;UEJA;UACA;UACA;UACA","sources":["webpack://WebRTC/webpack/universalModuleDefinition","webpack://WebRTC/../../packages/kandy/src/common/version.js","webpack://WebRTC/../../packages/kandy/src/errors/codes.js","webpack://WebRTC/../../packages/kandy/src/errors/index.js","webpack://WebRTC/../../packages/kandy/src/events/eventEmitter.js","webpack://WebRTC/../../packages/kandy/src/logs/actions/actionHandler.js","webpack://WebRTC/../../packages/kandy/src/logs/config.js","webpack://WebRTC/../../packages/kandy/src/logs/index.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/devices.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/media.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/mediaManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/session.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/sessionManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/track.js","webpack://WebRTC/../../packages/kandy/src/webrtc/channels/trackManager.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actionTypes.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/devices.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/index.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/media.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/misc.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/sessions.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/actions/tracks.js","webpack://WebRTC/../../packages/kandy/src/webrtc/interface/eventTypes.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/channel.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/deviceManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/index.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/logManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/logger.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/media.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/mediaManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/renderer.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/session.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/sessionManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/track.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/trackManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/converters/webrtcManager.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/clientProxy.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/events.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/index.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/remote/media.js","webpack://WebRTC/../../packages/kandy/src/webrtcProxy/webrtcEvents.js","webpack://WebRTC/../../packages/logger/src/constants.js","webpack://WebRTC/../../packages/logger/src/index.js","webpack://WebRTC/../../packages/logger/src/logFormatter.js","webpack://WebRTC/../../packages/logger/src/logHandler.js","webpack://WebRTC/../../packages/logger/src/logManager.js","webpack://WebRTC/../../packages/logger/src/logger.js","webpack://WebRTC/../../packages/logger/src/timer.js","webpack://WebRTC/../../packages/logger/src/validation.js","webpack://WebRTC/../../packages/webrtc/src/Peer/config.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/icecandidate.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/iceconnectionstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/icegatheringstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/negotiationneeded.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/signalingstatechange.js","webpack://WebRTC/../../packages/webrtc/src/Peer/events/track.js","webpack://WebRTC/../../packages/webrtc/src/Peer/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/addIceCandidate.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/addTransceiver.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/close.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/createAnswer.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/createOffer.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/findReusableTransceiver.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/getState.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/getStats.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/getTransceivers.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/removeTrack.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/replaceTrack.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/sendDTMF.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/setLocalDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/methods/setRemoteDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/index.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/localDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/localTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteDescription.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/remoteTracksActive.js","webpack://WebRTC/../../packages/webrtc/src/Peer/properties/senderTracks.js","webpack://WebRTC/../../packages/webrtc/src/Peer/utils/iceCollectionScheduledCheck.js","webpack://WebRTC/../../packages/webrtc/src/Peer/utils/timer.js","webpack://WebRTC/../../packages/webrtc/src/constants.js","webpack://WebRTC/../../packages/webrtc/src/interface/index.js","webpack://WebRTC/../../packages/webrtc/src/logs.js","webpack://WebRTC/../../packages/webrtc/src/managers/deviceManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/mediaManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/peerManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/renderer.js","webpack://WebRTC/../../packages/webrtc/src/managers/sessionManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/trackManager.js","webpack://WebRTC/../../packages/webrtc/src/managers/webrtcManager.js","webpack://WebRTC/../../packages/webrtc/src/models/media.js","webpack://WebRTC/../../packages/webrtc/src/models/session.js","webpack://WebRTC/../../packages/webrtc/src/models/track.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/extractors.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/handlers.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/pipeline.js","webpack://WebRTC/../../packages/webrtc/src/sdpUtils/transceiverUtils.js","webpack://WebRTC/../../packages/webrtc/src/utils.js","webpack://WebRTC/../../node_modules/eventemitter3/index.js","webpack://WebRTC/../../node_modules/lodash/fp.js","webpack://WebRTC/../../node_modules/lodash/fp/_baseConvert.js","webpack://WebRTC/../../node_modules/lodash/fp/_mapping.js","webpack://WebRTC/../../node_modules/lodash/fp/placeholder.js","webpack://WebRTC/../../node_modules/lodash/lodash.min.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/grammar.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/index.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/parser.js","webpack://WebRTC/../../node_modules/sdp-transform/lib/writer.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/version.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/index.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/md5.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/native.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/nil.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/parse.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/regex.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/rng.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/sha1.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/stringify.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v1.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v3.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v35.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v4.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/v5.js","webpack://WebRTC/../../node_modules/uuid/dist/commonjs-browser/validate.js","webpack://WebRTC/../../node_modules/webrtc-adapter/out/adapter.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/defineProperty.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/interopRequireDefault.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/toPrimitive.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/toPropertyKey.js","webpack://WebRTC/../../node_modules/@babel/runtime/helpers/typeof.js","webpack://WebRTC/webpack/bootstrap","webpack://WebRTC/webpack/runtime/global","webpack://WebRTC/webpack/runtime/node module decorator","webpack://WebRTC/webpack/before-startup","webpack://WebRTC/webpack/startup","webpack://WebRTC/webpack/after-startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"WebRTC\"] = factory();\n\telse\n\t\troot[\"WebRTC\"] = factory();\n})(self, () => {\nreturn ","/**\n * Returns the version of the currently running SDK.\n *\n * It must be used by any plugins (including the factory) as the unique source of truth when it comes to determine the current SDK version.\n * The actual version value is provided by the build process scripts (aka webpack.config.***.js) which simply do a string substitution\n * for the @@ tag below with actual version value.\n */\nexport function getVersion () {\n  return '6.7.0-beta.1214'\n}\n","/**\n * Error codes for the Auth plugin.\n * @name authCodes\n */\nexport const authCodes = {\n  INVALID_CREDENTIALS: 'authentication:1',\n  CONNECT_FAIL_WS_ERROR: 'authentication:2',\n  LINK_UNSUBSCRIBE_FAIL: 'authentication:3',\n  LINK_SUBSCRIBE_FAIL: 'authentication:4',\n  LINK_EXTEND_SUBSCRIPTION_FAIL: 'authentication:5',\n  LINK_UPDATE_SUBSCRIPTION_FAIL: 'authentication:6',\n  MISSING_SERVICE: 'authentication:12',\n  LINK_SUBSCRIBE_UNAVAILABLE: 'authentication:13'\n}\n\n/**\n * Error codes for the Call plugin.\n * @name callCodes\n */\nexport const callCodes = {\n  UNKNOWN_ERROR: 'call:1',\n  GENERIC_ERROR: 'call:2',\n  INIT_MEDIA_FAILED: 'call:3',\n  USER_MEDIA_ERROR: 'call:4',\n  NOT_SUPPORTED: 'call:5',\n  // The call is in the wrong state.\n  INVALID_STATE: 'call:6',\n  // A provided parameter is not valid.\n  INVALID_PARAM: 'call:7',\n  // There is a desync between components' state.\n  STATE_DESYNC: 'call:8',\n  // Offer could not be generated\n  INVALID_OFFER: 'call:9',\n  // No ICE candidates found\n  NO_ICE_CANDIDATES: 'call:10',\n  // Failed to recieve answer due to media mismatch\n  SESSION_MISMATCH: 'call:11'\n}\n\n/**\n * Error codes for the Call History plugin.\n * @name callHistoryCodes\n */\nexport const callHistoryCodes = {\n  UNKNOWN_ERROR: 'callHistory:1',\n  BAD_REQUEST: 'callHistory:2',\n  NOT_FOUND: 'callHistory:3',\n  NOT_AUTHENTICATED: 'callHistory:4',\n  FORBIDDEN: 'callHistory:5'\n}\n/**\n * @name clickToCallCodes\n */\nexport const clickToCallCodes = {\n  MISSING_ARGS: 'clickToCall:1',\n  RESPONSE_ERROR: 'clickToCall:2'\n}\n/**\n * Error codes for the Groups plugin.\n * @name groupsCodes\n */\nexport const groupsCodes = {\n  UNKNOWN_ERROR: 'groups:1',\n  GENERIC_ERROR: 'groups:2',\n  MISSING_PARAMETERS: 'groups:3'\n}\n\n/**\n * Error codes for the Message plugin.\n * @name messagingCodes\n */\nexport const messagingCodes = {\n  SEND_MESSAGE_FAIL: 'messaging:5'\n}\n\n/**\n * Error codes for the Message Waiting Indicator plugin.\n * @name mwiCodes\n */\nexport const mwiCodes = {\n  FETCH_MWI_FAIL: 'mwi:1'\n}\n\n/**\n * Error codes from the Sip Events plugin.\n * @name sipEventCodes\n */\nexport const sipEventCodes = {\n  UNKNOWN_ERROR: 'sipEvents:1',\n  // The user did not subscribe/connect for the specified sip event service.\n  NOT_PROVISIONED: 'sipEvents:2',\n  // The user is not subscribed for the specified sip event.\n  NOT_SUBSCRIBED: 'sipEvents:3'\n}\n\n/**\n * Error codes for the audio bridge portion of the call plugin.\n * @name bridgeCodes\n */\nexport const bridgeCodes = {\n  UNKNOWN_ERROR: 'audioBridge:1',\n  // TODO: Make \"invalid input\" (and others) a generic code.\n  INVALID_INPUT: 'audioBridge:2',\n  ALREADY_EXISTS: 'audioBridge:3',\n  NOT_FOUND: 'audioBridge:4',\n  NOT_SUPPORTED: 'audioBridge:5',\n  MEDIA_NOT_FOUND: 'audioBridge:6',\n  INVALID_STATE: 'audioBridge:7'\n}\n\n/**\n * Error codes for the subscription plugin.\n * @name subscriptionCodes\n */\nexport const subscriptionCodes = {\n  WS_CONNECTION_ERROR: 'subscription:1',\n  NO_SERVICE_PROVIDED: 'subscription:2',\n  GENERIC_ERROR: 'subscription:3'\n}\n\n/**\n * Error codes for the connectivity plugin\n * @name connectivityCodes\n */\nexport const connectivityCodes = {\n  WS_MESSAGE_ERROR: 'connectivity:1'\n}\n\n/**\n * Error codes for the Presence plugin.\n * @name presenceCodes\n */\nexport const presenceCodes = {\n  INVALID_STATUS: 'presence:1',\n  INVALID_ACTIVITY: 'presence:2',\n  INVALID_REQUEST: 'presence:3',\n  INVALID_PARAM: 'presence:4'\n}\n\n/**\n * Error codes for the Users plugin\n * @name usersCodes\n */\nexport const usersCodes = {\n  UNKNOWN: 'users:1',\n  REFRESH_CONTACTS_FAIL: 'users:2',\n  DIRECTORY_REQUEST_FAIL: 'users:3',\n  INVALID_PARAM: 'users:4'\n}\n\n/**\n * Error codes for the Webrtc plugin\n * @name webrtcCodes\n */\nexport const webrtcCodes = {\n  INVALID_PARAM: 'webrtc:1'\n}\n\n/**\n * Error codes for the Proxy plugin\n * @name proxyCodes\n */\nexport const proxyCodes = {\n  INVALID_PARAM: 'proxy:1',\n  SET_PROXY_CHANNEL_FAIL: 'proxy:2',\n  IN_ACTIVE_CALL: 'proxy:3',\n  VERSION_MISMATCH: 'proxy:4',\n  INVALID_STATE: 'proxy:5',\n  TIMEOUT: 'proxy:6',\n  UNKNOWN: 'proxy:7'\n}\n","export const NO_CODE = 'NO_CODE'\n\n/**\n * The Basic Error object. Provides information about an error that occurred in the SDK.\n * @public\n * @static\n * @typedef {Object} BasicError\n * @memberof api\n * @property {string} code The code of the error. If no code is known, this will be 'NO_CODE'.\n * @property {string} message A human-readable message to describe the error. If no message is known, this will be 'An error occurred'.\n */\n\nexport {\n  authCodes,\n  callCodes,\n  callHistoryCodes,\n  groupsCodes,\n  messagingCodes,\n  mwiCodes,\n  sipEventCodes,\n  clickToCallCodes,\n  bridgeCodes,\n  subscriptionCodes,\n  presenceCodes,\n  usersCodes,\n  webrtcCodes,\n  proxyCodes\n} from './codes'\n\nexport default class BasicError {\n  constructor ({ message, code }) {\n    this.name = 'BasicError'\n    this.code = code || NO_CODE\n    this.message = message ? `${message}` : 'An error occurred.'\n  }\n}\n","/*\n * Event emitter module. Can be used as a standalone factory or as a mixin.\n *\n * @private\n * @class emitter\n * @example\n * ``` javascript\n * var eventEmitter = emitter(); // Create a new emitter.\n * emitter(myEmittingObject.prototype); // Mixin to an existing object.\n * ```\n */\nexport default function eventEmitter (prototype = {}) {\n  var eventMap = []\n  var subscribeMap = []\n  var strictMode = false\n\n  /*\n   * Check if the event is a valid event type.\n   */\n  function checkEvent (type) {\n    if (strictMode && !eventMap[type]) {\n      throw new Error('Invalid event type: ' + type)\n    }\n  }\n\n  return Object.assign(prototype, {\n    /*\n     * Define an event type with the event emitter.\n     *\n     * @method define\n     * @param {String} type The name for the event type.\n     */\n    define: function (type) {\n      eventMap[type] = eventMap[type] || []\n    },\n\n    /*\n     * Define an alias for an event type.\n     *\n     * @method alias\n     * @param {String} type The event type for which to add an alias.\n     * @param {String} alias The alias name for the event type.\n     * @throws {Error} Invalid event type\n     */\n    alias: function (type, alias) {\n      checkEvent(type)\n\n      eventMap[alias] = eventMap[type] = eventMap[type] || []\n    },\n\n    /*\n     * Add an event listener for the specified event type.\n     *\n     * @method on\n     * @param {String} type The event type for which to add the listener.\n     * @param {Function} listener The listener for the event type. The parameters\n     *                            of the listener depend on the event type.\n     * @throws {Error} Invalid event type\n     */\n    on: function (type, listener) {\n      checkEvent(type)\n      ;(eventMap[type] = eventMap[type] || []).push(listener)\n    },\n\n    /*\n     * Removes an event listener for the specified event type.\n     *\n     * @method off\n     * @param {String} type The event type for which to remote the listener.\n     * @param {Function} listener The listener to remove.\n     * @throws {Error} Invalid event type\n     */\n    off: function (type, listener) {\n      checkEvent(type)\n\n      var list = eventMap[type] || []\n      var i = list.length\n      while (i--) {\n        if (listener === list[i]) {\n          list.splice(i, 1)\n        }\n      }\n    },\n\n    /*\n     * Emits an event of the specified type.\n     *\n     * @method emit\n     * @param {String} type The event type to emit.\n     * @param {any} [...args] The arguments to pass to the listeners of the event.\n     * @throws {Error} Invalid event type\n     */\n    emit: function (type) {\n      checkEvent(type)\n\n      var args = Array.prototype.slice.call(arguments, 1)\n      var list = eventMap[type] || []\n      var i = 0\n\n      for (; i < list.length; i++) {\n        list[i].apply(undefined, args)\n      }\n      for (var j = 0; j < subscribeMap.length; j++) {\n        subscribeMap[j].call(undefined, type, args)\n      }\n    },\n\n    /*\n     * Add a subscription for all event types.\n     *\n     * @method subscribe\n     * @param {Function} listener The listener for all event types.\n     * @throws {Error} Listener not a function\n     */\n    subscribe: function (listener) {\n      if (typeof listener === 'function') {\n        subscribeMap.push(listener)\n      } else {\n        throw new Error('Listener not a function')\n      }\n    },\n\n    /*\n     * Remove a subscription for all event types.\n     *\n     * @method unsubscribe\n     * @param {Function} listener The listener for all event types.\n     * @throws {Error} Listener not a function\n     */\n    unsubscribe: function (listener) {\n      if (typeof listener === 'function') {\n        var i = subscribeMap.length\n        while (i--) {\n          if (listener === subscribeMap[i]) {\n            subscribeMap.splice(i, 1)\n          }\n        }\n      } else {\n        throw new Error('Listener not a function')\n      }\n    },\n\n    /*\n     * Sets the emitter in strict mode where it only allows events that have been defined or aliases.\n     *\n     * @method setStrictMode\n     * @param {Boolean} strict Whether to set strict mode for the emitter.\n     */\n    setStrictMode: function (strict) {\n      strictMode = strict\n    }\n  })\n}\n","/* Helper function for styling logs based on the log type.\n * This function will inspect the log entry and format the log\n * accordingly.\n */\nfunction styleLog (entry) {\n  const { timestamp, level } = entry\n  const logInfo = `${timestamp} - ACTION - ${level}`\n\n  let [logType, payload] = entry.messages\n\n  let prefix\n  let style = ''\n  if (logType.includes('state')) {\n    // If the log is for prev state / next state, display that in the prefix.\n    prefix = `${logInfo} - ${logType.toUpperCase()}`\n  } else if (logType.includes('ADDED') || logType.includes('DELETED') || logType.includes('ARRAY')) {\n    // If the log has added or removed keys from state, log the operation, keys affected and new values.\n    prefix = `${entry.messages[0]}: ${entry.messages[2]}`\n    style = entry.messages[1]\n    payload = entry.messages[3]\n  } else if (logType.includes('CHANGED')) {\n    // If the log has changed keys in state, log the operation, keys, old and new values.\n    prefix = `${entry.messages[0]}: ${entry.messages[2]}`\n    style = entry.messages[1]\n    payload = `${entry.messages[3]} ${entry.messages[4]} ${entry.messages[5]}`\n  } else if (logType.includes('no diff')) {\n    // If action results in no change in state, just log no diff.\n    prefix = `${logInfo} - NO DIFF`\n    payload = ''\n  } else {\n    // Else the log is the action itself, so use the action type.\n    prefix = `${logInfo} - ${payload.type} - ${logType}`\n  }\n\n  return { prefix, style, payload }\n}\n\n/**\n * Default function for the SDK to use for logging actions.\n * Action entries come in 4 different types:\n *    1. start: Log the message directly and \"open the group\".\n *    2. state: Log a prefix, state type, and state itself.\n *      (prev state and next state)\n *    3. payload: Log a prefix, action type, and payload.\n *    4. end: Close the group.\n * @method defaultActionHandler\n * @param  {LogEntry} entry\n */\nexport default function defaultActionHandler (entry) {\n  // Handle the \"start\" and \"stop\" action log entries specifically.\n  if (['group', 'groupCollapsed'].includes(entry.method)) {\n    console[entry.method](...entry.messages)\n    return\n  } else if (entry.method === 'groupEnd') {\n    console.groupEnd()\n    return\n  }\n\n  const { prefix, style, payload } = styleLog(entry)\n  console[entry.method](prefix, style, payload)\n}\n","import defaultActionHandler from './actions/actionHandler'\n\n/**\n * Configuration options for the Logs feature.\n *\n * The SDK will log information about the operations it is performing. The\n *    amount of information will depend on how the Logs feature is configured.\n *\n * The format of logs can also be customized by providing a\n *    {@link logger.LogHandler LogHandler}. This function will receive a\n *    {@link logger.LogEntry LogEntry} which it can handle as it sees fit. By\n *    default, the SDK will log information to the console. For more\n *    information, see the {@link logger Logs feature} description.\n *\n * @public\n * @static\n * @name config.logs\n * @memberof config\n * @requires logs\n * @instance\n * @param {Object} logs Logs configs.\n * @param {string} [logs.logLevel='debug'] Log level to be set. See {@link logger.levels}.\n * @param {logger.LogHandler} [logs.handler] The function to receive log entries from the\n *    SDK. If not provided, a default handler will be used that logs entries\n *    to the console.\n * @param {Object|boolean} [logs.logActions=false] Options specifically for action logs when\n *    logLevel is at DEBUG+ levels. Set this to false to not output action logs.\n * @param {logger.LogHandler} [logs.logActions.handler] The function to receive action\n *    log entries from the SDK. If not provided, a default handler will be used\n *    that logs actions to the console.\n * @param {boolean} [logs.logActions.actionOnly=false] Only output information\n *    about the action itself. Omits the SDK context for when it occurred.\n * @param {boolean} [logs.logActions.collapsed=false] Whether logs should be\n *    minimized when initially output. The full log is still output and can be\n *    inspected on the console.\n * @param {boolean} [logs.logActions.diff=false] Include a diff of what SDK\n *    context was changed by the action.\n * @param {string}  [logs.logActions.level='debug'] Log level to be set\n *    on the action logs\n * @param {boolean} [logs.logActions.exposePayloads=true] Allow action payloads\n *    to be exposed in the logs, potentially displaying sensitive information.\n */\nexport const defaultOptions = {\n  logLevel: 'debug',\n  handler: undefined,\n  logActions: false\n}\n\nexport const partialDefaultLogActions = {\n  handler: defaultActionHandler,\n  actionOnly: false,\n  collapsed: false,\n  diff: false,\n  level: 'debug',\n  exposePayloads: true\n}\n/*\n * TODO: Figure out a way to work around this.\n * Can't use validation in logging because validation uses logging to output errors.\n * Circular dependency, have to refactor.\n * Code:\n ```javascript\n// Parse and/or Validate\n// import { enums, validation as v8n, parse } from '../common/validation'\nconst defaultValidation = v8n.schema({\n  logLevel: enums(['silent', 'error', 'warn', 'info', 'debug']),\n  handler: v8n.optional(v8n.function()),\n  logActions: v8n.optional(\n    v8n.passesAnyOf(\n      v8n.schema({\n        handler: v8n.optional(v8n.function()),\n        actionOnly: v8n.boolean(),\n        collapsed: v8n.boolean(),\n        diff: v8n.boolean(),\n        exposePayloads: v8n.boolean()\n      }),\n      // OR\n      v8n.boolean()\n    )\n  )\n})\n\nexport const parseLogConfig = parse('logger', defaultValidation)\n```\n*/\n","import createManager from 'kandy-logger'\nimport { defaultOptions } from './config'\n\n// Logs generated as a result of invoking the public API will contain this tag\nexport const API_LOG_TAG = 'API invoked: '\n\n/**\n * Create the LogManager right away so that it is available. The SDK has not\n *    been instantiated yet, so we have to use the default options until we get\n *    the application's configs.\n */\n/**\n * TODO: There is a technical debt associated with having a loggerManager along with it's\n * loggers created at the global scope. Multiple instances of the SDK would end up sharing\n * the log manager and therefore loggers.\n */\nconst manager = createManager(defaultOptions)\nexport const logManager = manager\n","// Webrtc plugin.\nimport { deviceActions } from '../interface/actions'\nimport * as eventTypes from '../interface/eventTypes'\n\n/**\n * Sets up listeners for events emitted from the Webrtc-stack's Device Manager.\n *\n * Events received from the Webrtc-stack are used to:\n *    1) Create actions to update SDK state about Webrtc-layer changes.\n *    2) Sometimes create events to emit to the application to reflect the changes\n *        to SDK state.\n *\n * The actions and events are passed to a \"handler\" which knows what to do with\n *    them in the current context (ie. not always direct dispatch/emit).\n * @method watchDeviceEvents\n * @param {Object} manager The WebRTC Device Manager.\n * @param {Function} handler Function for handling actions and events.\n */\nexport default function watchDeviceEvents (manager, handler) {\n  // Manager event handlers.\n  const change = () => {\n    // Get the latest devices after they changed, then emit the device list\n    //  upwards.\n    manager.checkDevices().then(devices => {\n      const devicesChangedAction = deviceActions.devicesChanged(devices)\n      const devicesChangedEvent = {\n        type: eventTypes.DEVICES_CHANGED,\n        args: {}\n      }\n      handler(devicesChangedAction, devicesChangedEvent)\n    })\n  }\n\n  manager.on('change', change)\n\n  // Return an unsubscribe function that removes all event listeners.\n  const unsubscribe = () => {\n    manager.off('change', change)\n  }\n\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { mediaActions } from '../interface/actions'\n\n/**\n * Sets up event listeners for a Media's events.\n * The events are turned into actions and dispatched\n *    to be handled by redux.\n * @method watchMediaEvents\n * @param {Object} media A Media object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchMediaEvents (media, handler) {\n  // Media received a new track.\n  const newTrack = ({ mediaId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const mediaNewTrackAction = mediaActions.mediaNewTrack(mediaId, { trackId })\n    handler(mediaNewTrackAction)\n  }\n\n  const trackEnded = ({ mediaId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const mediaTrackEndedAction = mediaActions.mediaTrackEnded(mediaId, { trackId })\n    handler(mediaTrackEndedAction)\n  }\n\n  const unsubscribe = () => {\n    media.off('media:stopped', unsubscribe)\n    media.off('track:new', newTrack)\n    media.off('track:ended', trackEnded)\n  }\n\n  // If the media is stopped we will turn off event listeners for this media.\n  //  The Media Manager will handle updating state with the media \"remove\" event that gets emitted\n  //  following media \"stopped\" events.\n  media.on('media:stopped', unsubscribe)\n  media.on('track:new', newTrack)\n  media.on('track:ended', trackEnded)\n\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { mediaActions } from '../interface/actions'\nimport watchMediaEvents from './media'\n\n/**\n * Sets up event listeners for Media Manager events. The events are turned into\n *    actions and dispatched to be handled by redux.\n * @method watchMediaManagerEvents\n * @param {Object} manager The Media Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchMediaManagerEvents (manager, handler) {\n  const newMedia = id => {\n    const media = manager.get(id)\n\n    // If it is a new Media, watch for its events.\n    watchMediaEvents(media, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const newMediaAction = mediaActions.newMedia(id, {\n      local: media.getState().isLocal,\n      tracks: media.getTracks().map(track => track.id)\n    })\n    handler(newMediaAction)\n  }\n\n  const removedMedia = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const removedMediaAction = mediaActions.removedMedia(id)\n    handler(removedMediaAction)\n  }\n\n  manager.on('media:new', newMedia)\n  manager.on('media:removed', removedMedia)\n\n  const unsubscribe = () => {\n    manager.off('media:new', newMedia)\n    manager.off('media:removed', removedMedia)\n  }\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { sessionActions } from '../interface/actions'\n\n/**\n * Sets up event listeners for a Session's events.\n * The events are turned into actions and dispatched\n *    to be handled by redux elsewhere.\n * @method watchSessionEvents\n * @param {Object} session The Session object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchSessionEvents (session, handler) {\n  // Session received a new track.\n  const newTrack = ({ local, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const newTrackAction = sessionActions.sessionNewTrack(session.id, {\n      local,\n      trackId\n    })\n    handler(newTrackAction)\n  }\n\n  const trackEnded = ({ local, trackId, isUnsolicited }) => {\n    /**\n     * When a track has ended,\n     * update redux state's webrtc.session.localTracks/remoteTracks array\n     * by removing the specified trackId.\n     * ('local' boolean will determine whether to update localTracks or remoteTracks)\n     */\n    handler(\n      sessionActions.sessionTrackEnded(session.id, {\n        local,\n        trackId,\n        isUnsolicited\n      })\n    )\n  }\n\n  const trackReplaced = ({ oldTrackId, trackId }) => {\n    // Pass the action to the handler to be handled as appropriate\n    const trackReplacedAction = sessionActions.sessionTrackReplaced(session.id, {\n      oldTrackId,\n      trackId\n    })\n    handler(trackReplacedAction)\n  }\n\n  const iceConnectionStateChange = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceConnectionStateChangeAction = sessionActions.sessionIceConnectionStateChange(session.id, {\n      iceConnectionState: obj.iceConnectionState\n    })\n    handler(iceConnectionStateChangeAction)\n  }\n\n  const iceCandidateCollected = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceCandidateCollectedAction = sessionActions.sessionIceCandidateCollected(session.id, obj)\n    handler(iceCandidateCollectedAction)\n  }\n\n  const iceGatheringStateChange = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceGatheringStateChangeAction = sessionActions.sessionIceGatheringStateChange(session.id, obj)\n    handler(iceGatheringStateChangeAction)\n  }\n\n  const iceCollectionScheduledCheck = obj => {\n    // Pass the action to the handler to be handled as appropriate\n    const iceCollectionScheduledCheckAction = sessionActions.sessionIceCollectionScheduledCheck(session.id, obj)\n    handler(iceCollectionScheduledCheckAction)\n  }\n\n  // Listen for when audio files end (from `insertAudio` API).\n  const audioFileEnded = isSuccess => {\n    handler(sessionActions.sessionAudioEnded(session.id, { error: !isSuccess }))\n  }\n\n  session.on('new:track', newTrack)\n  session.on('track:ended', trackEnded)\n  session.on('track:replaced', trackReplaced)\n  session.on('peer:iceConnectionStateChange', iceConnectionStateChange)\n  session.on('peer:iceGatheringStateChange', iceGatheringStateChange)\n  session.on('peer:iceCandidateCollected', iceCandidateCollected)\n  session.on('peer:iceCollectionScheduledCheck', iceCollectionScheduledCheck)\n  session.on('audioFileEnded', audioFileEnded)\n\n  const unsubscribe = () => {\n    session.off('new:track', newTrack)\n    session.off('track:ended', trackEnded)\n    session.off('track:replaced', trackReplaced)\n    session.off('peer:iceConnectionStateChange', iceConnectionStateChange)\n    session.off('peer:iceGatheringStateChange', iceGatheringStateChange)\n    session.off('peer:iceCandidateCollected', iceCandidateCollected)\n    session.off('peer:iceCollectionScheduledCheck', iceCollectionScheduledCheck)\n    session.off('audioFileEnded', audioFileEnded)\n  }\n  return unsubscribe\n}\n","// Webrtc plugin.\nimport { sessionActions } from '../interface/actions'\nimport watchSessionEvents from './session'\n\n/**\n * Sets up event listeners for Session Manager Events.\n * The events are turned into actions and dispatched\n *    to be handled by redux elsewhere.\n * @method watchSessionManagerEvents\n * @param {Object} manager The webRTC Session Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchSessionManagerEvents (manager, handler) {\n  // Handle new Session.\n  const sessionAdded = id => {\n    const session = manager.get(id)\n    const state = session.getState()\n    delete state.id\n\n    // If it is a new Session, watch for its events.\n    watchSessionEvents(session, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const sessionAddedAction = sessionActions.sessionAdded(id, state)\n    handler(sessionAddedAction)\n  }\n\n  // Handle Sessions ending.\n  const sessionRemoved = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const sessionRemovedAction = sessionActions.sessionRemoved(id)\n    handler(sessionRemovedAction)\n  }\n\n  manager.on('session:new', sessionAdded)\n  manager.on('session:removed', sessionRemoved)\n  const unsubscribe = () => {\n    manager.off('session:new', sessionAdded)\n    manager.off('session:removed', sessionRemoved)\n  }\n  return unsubscribe\n}\n","// Libraries.\nimport { trackActions } from '../interface/actions'\nimport * as eventTypes from '../interface/eventTypes'\n\n/**\n * Sets up event listeners for a Track object's events.\n * The events simply dispatch actions to be handled by redux.\n * @method watchTrackEvents\n * @param {Object} track A Track object.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchTrackEvents (track, handler) {\n  // The track source (which affected the track identified by trackId) was muted.\n  // An example of a track source is a physical media device such as:\n  // microphone or camera.\n  const trackSourceMuted = trackData => {\n    const trackSourceMutedAction = trackActions.trackSourceMuted([trackData.trackId], {\n      mediaId: trackData.mediaId,\n      isLocal: trackData.isLocal\n    })\n    const trackSourceMutedEvent = {\n      type: eventTypes.TRACK_SOURCE_MUTED,\n      args: {\n        trackIds: [trackData.trackId],\n        trackId: trackData.trackId,\n        isLocal: trackData.isLocal,\n        id: trackData.mediaId\n      }\n    }\n    // Pass the action and event to the handler to be handled as appropriate\n    handler(trackSourceMutedAction, trackSourceMutedEvent)\n  }\n\n  // The track source (which affected the track identified by trackId) was unmuted.\n  const trackSourceUnmuted = trackData => {\n    const trackSourceUnmutedAction = trackActions.trackSourceUnmuted([trackData.trackId], {\n      mediaId: trackData.mediaId,\n      isLocal: trackData.isLocal\n    })\n    const trackSourceUnmutedEvent = {\n      type: eventTypes.TRACK_SOURCE_UNMUTED,\n      args: {\n        trackIds: [trackData.trackId],\n        trackId: trackData.trackId,\n        isLocal: trackData.isLocal,\n        id: trackData.mediaId\n      }\n    }\n    // Pass the action and event to the handler to be handled as appropriate\n    handler(trackSourceUnmutedAction, trackSourceUnmutedEvent)\n  }\n\n  const unsubscribe = () => {\n    track.off('ended', unsubscribe)\n    track.off('muted', trackSourceMuted)\n    track.off('unmuted', trackSourceUnmuted)\n  }\n\n  // If the track is ended we will turn off event listeners for the track object.\n  //  The trackManager will handle updating state with the track \"remove\" event that gets emitted\n  //  following track \"ended\" events.\n  track.on('ended', unsubscribe)\n  track.on('muted', trackSourceMuted)\n  track.on('unmuted', trackSourceUnmuted)\n\n  return unsubscribe\n}\n","// Call plugin.\nimport { trackActions } from '../interface/actions'\nimport watchTrackEvents from './track'\n\n/**\n * Sets up event listeners for Track Manager Events.\n * The events are turned into actions and dispatched\n *    to be handled by redux.\n * @method watchTrackManagerEvents\n * @param {Object} manager The webRTC Track Manager.\n * @param {Object} handler Handler function for handling actions and events.\n */\nexport default function watchTrackManagerEvents (manager, handler) {\n  // Handler for new tracks\n  const trackAdded = id => {\n    const track = manager.get(id)\n    const state = track.getState()\n\n    // Translate the track state from native WebRTC to SDK style.\n    // This is to change the \"muted\" property to be what people generally know\n    //    \"muted\" to be.\n    state.sourceMuted = state.muted\n    state.muted = !state.enabled\n\n    delete state.enabled\n    delete state.id\n\n    // Set up event listeners for the added track\n    watchTrackEvents(track, handler)\n\n    // Pass the action to the handler to be handled as appropriate\n    const trackAddedAction = trackActions.trackAdded(id, state)\n    handler(trackAddedAction)\n  }\n\n  // Handler for removed/ended tracks\n  const trackRemoved = id => {\n    // Pass the action to the handler to be handled as appropriate\n    const trackRemovedAction = trackActions.trackRemoved(id)\n    handler(trackRemovedAction)\n  }\n\n  // Listen for track add or remove events\n  manager.on('add', trackAdded)\n  manager.on('remove', trackRemoved)\n\n  // Return an unsubscribe function that removes all event listeners.\n  const unsubscribe = () => {\n    manager.off('add', trackAdded)\n    manager.off('remove', trackRemoved)\n  }\n\n  return unsubscribe\n}\n","const prefix = '@@KANDY/WEBRTC/'\n\n/**\n * Device action types.\n */\nexport const DEVICES_CHANGE = prefix + 'DEVICES/CHANGE'\nexport const INITIALIZE_DEVICES = prefix + 'INITIALIZE_DEVICES'\nexport const INITIALIZE_DEVICES_FINISH = prefix + 'INITIALIZE_DEVICES_FINISH'\n\n/**\n * Track action types.\n */\nconst trackPrefix = prefix + 'TRACK/'\n\nexport const TRACK_ADDED = trackPrefix + 'ADDED'\nexport const TRACK_REMOVED = trackPrefix + 'REMOVED'\n\nexport const RENDER_TRACKS = trackPrefix + 'RENDER'\nexport const RENDER_TRACKS_FINISH = trackPrefix + 'RENDER_FINISH'\n\nexport const REMOVE_TRACKS = trackPrefix + 'REMOVE'\nexport const REMOVE_TRACKS_FINISH = trackPrefix + 'REMOVE_FINISH'\n\nexport const MUTE_TRACKS = trackPrefix + 'MUTE'\nexport const MUTE_TRACKS_FINISH = trackPrefix + 'MUTE_FINISH'\nexport const UNMUTE_TRACKS = trackPrefix + 'UNMUTE'\nexport const UNMUTE_TRACKS_FINISH = trackPrefix + 'UNMUTE_FINISH'\n\nexport const TRACK_SOURCE_MUTED = trackPrefix + 'SOURCE_MUTED'\nexport const TRACK_SOURCE_UNMUTED = trackPrefix + 'SOURCE_UNMUTED'\n\n/**\n * Session action types.\n */\nconst sessionPrefix = prefix + 'SESSION/'\n\nexport const SESSION_ADDED = sessionPrefix + 'ADDED'\nexport const SESSION_REMOVED = sessionPrefix + 'REMOVED'\n\nexport const SESSION_NEW_TRACK = sessionPrefix + 'NEW_TRACK'\nexport const SESSION_TRACK_ENDED = sessionPrefix + 'TRACK_ENDED'\nexport const SESSION_TRACK_REPLACED = sessionPrefix + 'TRACK_REPLACED'\n\n// Audio file from the `insertAudio` API has ended.\nexport const SESSION_AUDIO_ENDED = sessionPrefix + 'AUDIO_ENDED'\n\n// Peer events\nexport const SESSION_ICE_CONNECTION_STATE_CHANGE = sessionPrefix + 'ICE_CONNECTION_STATE_CHANGE'\nexport const SESSION_ICE_GATHERING_STATE_CHANGE = sessionPrefix + 'ICE_GATHERING_STATE_CHANGE'\nexport const SESSION_ICE_CANDIDATE_COLLECTED = sessionPrefix + 'ICE_CANDIDATE_COLLECTED'\nexport const SESSION_ICE_COLLECTION_SCHEDULED_CHECK = sessionPrefix + 'ICE_CANDIDATE_SCHEDULED_CHECK'\n\n/**\n * Media action types.\n */\nconst mediaPrefix = prefix + 'MEDIA/'\n\nexport const MEDIA_NEW = mediaPrefix + 'NEW'\nexport const MEDIA_REMOVED = mediaPrefix + 'REMOVED'\nexport const MEDIA_CHANGE = mediaPrefix + 'CHANGE'\n\nexport const MEDIA_NEW_TRACK = mediaPrefix + 'NEW_TRACK'\nexport const MEDIA_TRACK_ENDED = mediaPrefix + 'TRACK_ENDED'\n\n/**\n * Misc. action types.\n */\nexport const SET_BROWSER_DETAILS = prefix + 'SET_BROWSER_DETAILS'\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\nexport function devicesChanged (devices) {\n  return {\n    type: actionTypes.DEVICES_CHANGE,\n    payload: devices\n  }\n}\n\nexport function initializeDevice (browserConstraints) {\n  return {\n    type: actionTypes.INITIALIZE_DEVICES,\n    payload: browserConstraints\n  }\n}\n\n/**\n * The finishing action which follows the INITIALIZE_DEVICES action\n * @param {Object} $0\n * @param {Object} [$0.devices] The device object.\n * @param {Object} [$0.error] An error object. Only present if an error occurred.\n * @returns {Object} A flux standard action representing the INITIALIZE_DEVICES_FINISH action.\n */\nexport function initializeDeviceFinish ({ devices, error }) {\n  return {\n    payload: error || devices,\n    error: Boolean(error),\n    type: actionTypes.INITIALIZE_DEVICES_FINISH\n  }\n}\n","import * as deviceActionsImport from './devices'\nimport * as trackActionsImport from './tracks'\nimport * as sessionActionsImport from './sessions'\nimport * as mediaActionsImport from './media'\nimport * as miscActionsImport from './misc'\n\n// Apparently the following doesn't work:\n//      export * as newName from './place';\n// So import everything from each file, then re-export.\nexport const deviceActions = deviceActionsImport\nexport const trackActions = trackActionsImport\nexport const sessionActions = sessionActionsImport\nexport const mediaActions = mediaActionsImport\nexport const miscActions = miscActionsImport\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\n// Libraries.\nimport { isEmpty } from 'lodash/fp'\n\nfunction mediaActionHelper (type, id, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload: {\n      ...payload,\n      id\n    }\n  }\n\n  // Only have meta and error properties on the action if they're needed.\n  if (!isEmpty(meta)) {\n    action.meta = meta\n  }\n  if (payload.error) {\n    action.error = true\n  }\n  return action\n}\n\nexport function newMedia (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_NEW, id, params)\n}\n\nexport function removedMedia (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_REMOVED, id, params)\n}\n\nexport function mediaNewTrack (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_NEW_TRACK, id, params)\n}\n\nexport function mediaTrackEnded (id, params) {\n  return mediaActionHelper(actionTypes.MEDIA_TRACK_ENDED, id, params)\n}\n","// Webrtc plugin.\nimport * as actionTypes from '../actionTypes'\n\n/**\n * Action creator\n * @method setBrowserDetails\n * @param  {Object} details\n * @param  {string} details.browser\n * @param  {number} details.version\n * @return {Object} A Flux-Standard-action.\n */\nexport function setBrowserDetails (details) {\n  return {\n    type: actionTypes.SET_BROWSER_DETAILS,\n    payload: details\n  }\n}\n","// Call plugin.\nimport * as actionTypes from '../actionTypes'\n\n// Libraries.\nimport { isEmpty } from 'lodash/fp'\n\nfunction sessionActionHelper (type, id, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload: {\n      ...payload,\n      id\n    }\n  }\n\n  // Only have meta and error properties on the action if they're needed.\n  if (!isEmpty(meta)) {\n    action.meta = meta\n  }\n  if (payload.error) {\n    action.error = true\n  }\n  return action\n}\n\nexport function sessionAdded (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ADDED, id, params)\n}\n\nexport function sessionRemoved (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_REMOVED, id, params)\n}\n\nexport function sessionNewTrack (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_NEW_TRACK, id, params)\n}\n\nexport function sessionTrackEnded (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_TRACK_ENDED, id, params)\n}\n\nexport function sessionTrackReplaced (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_TRACK_REPLACED, id, params)\n}\n\nexport function sessionIceConnectionStateChange (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_CONNECTION_STATE_CHANGE, id, params)\n}\n\nexport function sessionIceGatheringStateChange (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_GATHERING_STATE_CHANGE, id, params)\n}\n\nexport function sessionIceCandidateCollected (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_CANDIDATE_COLLECTED, id, params)\n}\n\nexport function sessionIceCollectionScheduledCheck (id, params) {\n  return sessionActionHelper(actionTypes.SESSION_ICE_COLLECTION_SCHEDULED_CHECK, id, params)\n}\n\n/*\n * Action to signify that an audio file has ended. Dispatched at the end of the\n *    `insertAudio` Session method.\n */\nexport function sessionAudioEnded (id, params) {\n  return {\n    type: actionTypes.SESSION_AUDIO_ENDED,\n    payload: { id, ...params },\n    error: Boolean(params.error)\n  }\n}\n","// Call plugin.\nimport * as actionTypes from '../actionTypes'\n\nfunction trackManagerHelper (type, trackId, payload = {}, meta = {}) {\n  return {\n    type,\n    payload: {\n      ...payload,\n      trackId\n    },\n    meta\n  }\n}\n\nexport function trackAdded (trackId, params) {\n  return trackManagerHelper(actionTypes.TRACK_ADDED, trackId, params)\n}\n\nexport function trackRemoved (trackId, params) {\n  return trackManagerHelper(actionTypes.TRACK_REMOVED, trackId, params)\n}\n\nfunction trackHelper (type, payload = {}, meta = {}) {\n  const action = {\n    type,\n    payload,\n    meta\n  }\n\n  if (payload.error) {\n    action.error = true\n  }\n\n  return action\n}\n\nexport function muteTracks (trackIds) {\n  return trackHelper(actionTypes.MUTE_TRACKS, trackIds)\n}\n\nexport function muteTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.MUTE_TRACKS_FINISH, { trackIds: trackIds, ...params })\n}\n\nexport function unmuteTracks (trackIds) {\n  return trackHelper(actionTypes.UNMUTE_TRACKS, trackIds)\n}\n\nexport function unmuteTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.UNMUTE_TRACKS_FINISH, { trackIds: trackIds, ...params })\n}\n\nexport function trackSourceMuted (trackIds, params) {\n  return trackHelper(actionTypes.TRACK_SOURCE_MUTED, { trackIds: trackIds, ...params })\n}\n\nexport function trackSourceUnmuted (trackIds, params) {\n  return trackHelper(actionTypes.TRACK_SOURCE_UNMUTED, { trackIds: trackIds, ...params })\n}\n\nexport function renderTracks (trackIds, params) {\n  return trackHelper(actionTypes.RENDER_TRACKS, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function renderTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.RENDER_TRACKS_FINISH, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function removeTracks (trackIds, params) {\n  return trackHelper(actionTypes.REMOVE_TRACKS, {\n    trackIds,\n    ...params\n  })\n}\n\nexport function removeTracksFinish (trackIds, params) {\n  return trackHelper(actionTypes.REMOVE_TRACKS_FINISH, {\n    trackIds,\n    ...params\n  })\n}\n","/**\n * The media devices available for use have changed.\n *\n * Information about the available media devices can be retrieved using the\n *    {@link media.getDevices} API.\n *\n * @public\n * @static\n * @memberof media\n * @event devices:change\n * @example\n * // Listen for changes to available media devices.\n * client.on('devices:change', function () {\n *    // Retrieve the latest media device lists.\n *    const devices = client.media.getDevices()\n * })\n */\nexport const DEVICES_CHANGED = 'devices:change'\n\n/**\n * An error occurred while trying to access media devices.\n *\n * The most common causes of this error are when the browser does not have\n *    permission from the end-user to access the devices, or when the browser\n *    cannot find a media device that fulfills the\n *    {@link call.MediaConstraint MediaConstraint(s)} that was provided.\n *\n * @public\n * @static\n * @memberof media\n * @event devices:error\n * @param {Object} params\n * @param {Error} params.error The Basic error object.\n */\nexport const INITIALIZE_DEVICES_ERROR = 'devices:error'\n\n/**\n * The specified Tracks have been muted.\n *\n * A Track can be muted using the {@link media.muteTracks} API.\n * @public\n * @memberof media\n * @event media:muted\n * @param {Object} params\n * @param {Array<string>} params.tracks The list of Tracks that were muted.\n */\nexport const TRACKS_MUTED = 'media:muted'\n\n/**\n * The specified Tracks have been unmuted.\n *\n * A Track can be unmuted using the {@link media.unmuteTracks}\n *    API.\n * @public\n * @memberof media\n * @event media:unmuted\n * @param {Object} params\n * @param {Array<string>} params.tracks The list of Tracks that were unmuted.\n */\nexport const TRACKS_UNMUTED = 'media:unmuted'\n\n/**\n * The specified Track has had its media source muted.\n *\n * The Track is still active, but is not receiving media any longer. An audio\n *    track will be silent and a video track will be a black frame. It is\n *    possible for the track to start receiving media again (see the\n *    {@link media.event:media:sourceUnmuted media:sourceUnmuted} event).\n *\n * This event is generated outside the control of the SDK. This will predominantely\n *    happen for a remote track during network issues, where media will lose frames\n *    and be \"choppy\". This may also happen for a local track if the browser or\n *    end-user stops allowing the SDK to access the media device, for example.\n * @public\n * @static\n * @memberof media\n * @event media:sourceMuted\n * @param {Object} params\n * @param {string} params.trackId The track that is affected as a result of media source being muted.\n */\nexport const TRACK_SOURCE_MUTED = 'media:sourceMuted'\n\n/**\n * The specified Track has started receiving media from its source once again.\n *\n * The Track returns to the state before it was muted (see the\n *    {@link media.event:media:sourceMuted media:sourceMuted} event), and will\n *    be able to display video or play audio once again.\n *\n * This event is generated outside the control of the SDK, when the cause of the\n *    media source being muted had been undone.\n * @public\n * @static\n * @memberof media\n * @event media:sourceUnmuted\n * @param {Object} params\n * @param {string} params.trackId The track that is affected as a result of media source being unmuted.\n */\nexport const TRACK_SOURCE_UNMUTED = 'media:sourceUnmuted'\n\n/**\n * The specified Track has been rendered into an element.\n *\n * @public\n * @static\n * @memberof media\n * @event media:trackRendered\n * @param {Object} params\n * @param {Array<string>} params.trackIds The list of track id's that were rendered.\n * @param {string} params.selector The css selector used to identify the element the track is rendered into.\n * @param {api.BasicError} [params.error] An error object, if the operation was not successful.\n */\nexport const TRACK_RENDERED = 'media:trackRendered'\n\n/**\n * A local Track has ended unexpectedly. The Track may still be part of a Call but\n *    has become disconnected from its media source and is not recoverable.\n *\n * This event is emitted when an action other than an SDK operation stops the\n *    track. The most comon scenarios are when a device being used for a Call\n *    disconnects, any local tracks (such as audio from a bluetooth headset's\n *    microphone or video from a USB camera) from that device will be ended.\n *    Another scenario is for screensharing, where some browsers provide the\n *    ability to stop screensharing directly rather than through an SDK operation.\n *\n * When a local track ends this way, it will still be part of the Call but will\n *    not have any media. The track can be removed from the call with the\n *    {@link call.removeMedia} API so the remote side of the Call knows the track\n *    has stopped, or the track can be replaced with a new track using the\n *    {@link call.replaceTrack} API to prevent any interruption.\n * @public\n * @static\n * @memberof media\n * @event media:trackEnded\n * @param {Object} params\n * @param {Object} params.trackId The Track that has ended.\n * @param {Object} params.callId The ID of the Call the Track is used in.\n */\nexport const TRACK_ENDED = 'media:trackEnded'\n","// Other plugins.\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('CHANNEL')\n\n/**\n * Converts a channel's send and receive to serialize messages in JSON before sending and after receiving.\n *\n * @param {Object} innerChannel The channel to convert\n */\nexport function jsonChannel (innerChannel) {\n  const jsonChannel = {\n    receive: undefined,\n    send (message) {\n      try {\n        innerChannel.send(JSON.stringify(message))\n      } catch (err) {\n        log.error('Failed to send JSON message over channel: ', err)\n      }\n    }\n  }\n\n  innerChannel.receive = function receiveJSONMessage (message) {\n    try {\n      if (jsonChannel.receive) {\n        jsonChannel.receive(JSON.parse(message))\n      }\n    } catch (err) {\n      log.error('Failed to receive JSON message on channel: ', err)\n    }\n  }\n\n  return jsonChannel\n}\n\n/**\n * Converts a channel with only `send` and `receive` functionality into one that\n *    also has `reply` functionality.\n * This is required by the Proxy Plugin to convert asynchronous code into\n *    synchronous code. The Proxy needs to return a value synchronously when\n *    sending data over the channel.\n * @method replyChannel\n * @param  {Object} channel\n * @return {Object} The same channel, but with a `reply` method as well.\n */\nexport function replyChannel (channel) {\n  /**\n   * Track sent messages by their ID.\n   * @type {Object}\n   */\n  const sentMessages = {}\n\n  channel.receive = function receiveMessage (message) {\n    const { messageId, data } = message\n\n    // Determine how the message needs to be handled.\n    if (messageId && sentMessages[messageId]) {\n      if (sentMessages[messageId].isExpired) {\n        // If the reply came after the time-out, ignore the message.\n        log.debug(`Received reply from timed-out message ${messageId}. Ignoring.`)\n        delete sentMessages[messageId]\n      } else {\n        // If the message has an ID from a sent message, then it is a reply to\n        //    that message. Resolve the promise associated with it.\n        log.debug(`Received reply from message ${messageId}.`)\n        sentMessages[messageId].resolve(data)\n      }\n    } else if (messageId && !sentMessages[messageId]) {\n      // If the message has an ID that we don't know about, then the application\n      //    will need to handle it.\n      if (api.receive) {\n        log.debug(`Received new message ${messageId}.`)\n        api.receive(messageId, data)\n      } else {\n        log.error('No listener set for handling received messages.', data)\n      }\n    } else {\n      // If the message didn't have an ID, then it wasn't from our test channel.\n      log.warn('Received message without an ID on the channel; ignoring.', message)\n    }\n  }\n\n  /*\n   * The interface that the Proxy Plugin will use.\n   */\n  const api = {}\n\n  /**\n   * Send a message over the channel.\n   * @method send\n   * @param {string} messageId A unique ID to track the sent message.\n   * @param {Object} data\n   * @param {Function} [callback] Function called when a reply is received.\n   */\n  api.send = (messageId, data, callback) => {\n    if (sentMessages[messageId]) {\n      // The ID has already been used for sending a message.\n      callback(null, new Error('Cannot send message; ID already used.'))\n      return\n    }\n\n    // Attach a messageId to the message.\n    // This lets the remote side reply to this message by using the messageId.\n    const message = {\n      data,\n      messageId\n    }\n\n    if (callback) {\n      // If there is a callback function, then a reply is expected.\n      // Wrap `send` is a promise so that we can correlate receiving a reply\n      //    to the callback.\n      new Promise(resolve => {\n        // Race receiving the reply against a time-out.\n        // 12s was chosen to be slightly longer than a valid WebRTC operation\n        //    timeout (collecting ICE candidates can take 10s).\n        const timeoutId = setTimeout(() => {\n          log.debug(`Message ${messageId} timed-out. Failing operation.`)\n          sentMessages[messageId].isExpired = true\n          callback(null, new Error('Operation timed-out; no reply from other side of channel.'))\n        }, 12000)\n\n        // Store `resolve` so we can call it call it when we receive a reply.\n        sentMessages[messageId] = {\n          resolve,\n          timeoutId,\n          isExpired: false\n        }\n\n        // Send the message over the channel.\n        log.debug(`Sending new message ${messageId} with reply expected.`)\n        channel.send(message)\n      }).then(data => {\n        // The message received a reply, so remove the reference.\n        clearTimeout(sentMessages[messageId].timeoutId)\n        delete sentMessages[messageId]\n\n        if (typeof callback === 'function') {\n          callback(data)\n        }\n      })\n    } else {\n      // Send the message over the channel.\n      log.debug(`Sending new message ${messageId}.`)\n      channel.send(message)\n    }\n  }\n\n  /**\n   * Listener for receiving a message from the channel.\n   * @method receive\n   * @param {string} messageId\n   * @param {Object} data\n   */\n  // eslint-disable-next-line\n  api.receive = undefined\n\n  /**\n   * Send a reply to a specific received message over the channel.\n   * @method reply\n   * @param {string} messageId\n   * @param {Object} data\n   */\n  api.reply = (messageId, data) => {\n    // Attach the messageId to the message.\n    const message = {\n      data,\n      messageId\n    }\n\n    log.debug(`Replying to message ${messageId}.`)\n    channel.send(message)\n  }\n\n  return api\n}\n","/**\n * Device Manager \"converter\".\n * Receives a webRTC command intended for the Device Manager, performs the webRTC\n *\\\n \\\n *    operation and returns/resolves a proxy response.\n * @method deviceManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function deviceManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.devices\n  if (operation === 'setupDeviceInitialization') {\n    try {\n      const devices = await manager.setupDeviceInitialization(...params)\n      return devices\n    } catch (err) {\n      console.debug('Failed to initialize devices: ', err)\n      let error = { name: err.name, message: err.message, error: true }\n      if (err.name === 'OverconstrainedError' && err.constraint) {\n        error = { ...error, constraint: err.constraint }\n      }\n      return error\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","// Proxy plugin.\nimport deviceManager from './deviceManager'\nimport mediaManager from './mediaManager'\nimport sessionManager from './sessionManager'\nimport trackManager from './trackManager'\nimport logManagerConverter from './logManager'\nimport webrtcManager from './webrtcManager'\nimport renderer from './renderer'\nimport media from './media'\nimport session from './session'\nimport track from './track'\nimport logger from './logger'\n\n// Other plugins.\nimport { logManager } from '../../logs'\n\nconst log = logManager.getLogger('PROXY')\n\n// Converters for the webRTC managers.\nconst managers = {\n  media: mediaManager,\n  sessionManager,\n  track: trackManager,\n  devices: deviceManager,\n  logs: logManagerConverter,\n  webrtcManager,\n  renderer\n}\n\n// Converters for the webRTC models.\nconst models = {\n  media,\n  session,\n  track,\n  logger\n}\n\n/**\n * Forwards a webRTC command to the appropriate \"converter\".\n * The converter will perform the webRTC operation and return\n *    a response that can be returned over the channel.\n * @method convertCommand\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command The webRTC command.\n * @return {Promise} Promise resolving with the operation result.\n */\nexport default function convertCommand (webRTC, command) {\n  if (command.id === 'manager') {\n    // Forward the command to the appropriate manager converter.\n    log.debug(`Performing ${command.type} manager operation ${command.operation}.`, command.params)\n    const result = managers[command.type](webRTC, command)\n\n    // The result is a Promise. Add a .then for debugging after it completes.\n    result.then(data => {\n      log.debug(`Completed ${command.type} manager operation ${command.operation}.`, data)\n    })\n\n    return result\n  } else {\n    // Forward the command to the appropriate model converter.\n    log.debug(`Performing ${command.type} model operation ${command.operation}.`, command.params)\n    const result = models[command.type](webRTC, command)\n\n    // The result is a Promise. Add a .then for debugging after it completes.\n    result.then(data => {\n      log.debug(`Completed ${command.type} model operation ${command.operation}.`, data)\n    })\n\n    return result\n  }\n}\n\n/**\n * Converts a Track object into a serializable object\n *    that the Proxy Plugin can use.\n * @method convertTrack\n * @param  {Track} track\n * @return {Object}  A serializable object.\n */\nexport function convertTrack (track) {\n  if (track) {\n    return {\n      type: 'track',\n      ...track.getState()\n    }\n  }\n}\n\n/**\n * Converts a Media object into something that can be\n *    returned over the channel.\n * @method convertMedia\n * @param {Media} media\n * @return {Object} A serializable object.\n */\nexport function convertMedia (media) {\n  if (media) {\n    return {\n      type: 'media',\n      id: media.id\n    }\n  }\n}\n\n/**\n * Converts a Session object into a serializable object\n *    that the Proxy Plugin can use.\n * @method convertSession\n * @param  {Session} session\n * @return {Object}  A serializable object.\n */\nexport function convertSession (session) {\n  if (session) {\n    const sessionState = session.getState()\n\n    return {\n      type: 'session',\n      ...sessionState,\n      localTracks: sessionState.localTracks.map(convertTrack),\n      allLocalTracks: sessionState.allLocalTracks.map(convertTrack),\n      remoteTracks: sessionState.remoteTracks.map(convertTrack)\n    }\n  }\n}\n\n/**\n * Converts a Logger object into a serializable object.\n * @method convertLogger\n * @param  {Logger} logger A WebRTC logger.\n * @return {Object}  A serializable object.\n */\nexport function convertLogger (logger) {\n  if (logger) {\n    return {\n      type: 'logger',\n      // Use the name as the unique Logger ID (which is what it is).\n      id: logger.name\n    }\n  }\n}\n","import { convertLogger } from './index'\n\n/**\n * Log Manager \"converter\".\n * Defines how received Log Manager commands are performed, and how any data is\n *    returned over the channel (if needed).\n * @method logManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the operation has completed.\n */\nexport default async function logManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.logs\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'getLogger') {\n    const logger = manager.getLogger(...params)\n    return convertLogger(logger)\n  } else if (operation === 'getLoggers') {\n    const loggers = manager.getLoggers(...params)\n    return loggers.map(convertLogger)\n  } else if (operation === 'getHandler') {\n    // We can't send a function over the channel; return nothing.\n    return undefined\n  } else if (operation === 'setLevel') {\n    // Set the level on the LogManager itself.\n    manager.setLevel(...params)\n\n    // Signature was either setLevel(type, level) or setLevel(level).\n    const level = params[1] || params[0]\n    // Set the level on all already-created Loggers.\n    manager.getLoggers().forEach(logger => logger.setLevel(level))\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","import { logManager } from '../../logs'\n\n/**\n * Logger \"converter\".\n *\n * Defines how received Logger commands are performed, and how any data is\n *    returned over the channel (if needed).\n * @method logger\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the Logger operation has completed.\n */\nexport default async function logger (webRTC, command) {\n  const { id, operation, params } = command\n\n  /**\n   * Special-case: If the operation is for the PROXY or CHANNEL Logger, that is\n   *    actually the Remote SDK's own Logger, not the WebRTC stack's Logger.\n   */\n  if (id === 'PROXY' || id === 'CHANNEL') {\n    // Get the logger from the SDK's log manager.\n    const logger = logManager.getLogger(id)\n    return logger[operation](...params)\n  }\n\n  // Get the logger from the WebRTC Stack's log manager.\n  const logger = webRTC.managers.logs.getLogger(id)\n  if (operation === 'getHandler') {\n    // We can't send a function over the channel; return nothing.\n    return undefined\n  } else {\n    // General case: Don't convert the return.\n    return logger[operation](...params)\n  }\n}\n","import { convertTrack } from './index'\n\n/**\n * Media \"converter\".\n * Receives webRTC commands intended for a Media object.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method media\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function media (webRTC, command) {\n  const { id, operation, params } = command\n  const media = webRTC.managers.media.get(id)\n\n  if (!media) {\n    // Media not found.\n    return\n  }\n\n  if (operation === 'getTracks') {\n    return media.getTracks().map(convertTrack)\n  } else {\n    // General case: Don't convert the return.\n    return media[operation](...params)\n  }\n}\n","import { convertMedia } from './index'\n\nexport function stringifyError (err) {\n  // Convert the Error into a format that can be stringified for the channel.\n  //    This will need to be reconstructed on the other side.\n  let error = { name: err.name, message: err.message }\n  if (err.name === 'OverconstrainedError' && err.constraint) {\n    error = { ...error, constraint: err.constraint }\n  }\n  return { error }\n}\n\n/**\n * Media Manager \"converter\".\n * Receives a webRTC command intended for the Media Manager, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method mediaManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function mediaManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.media\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'get') {\n    const media = manager.get(...params)\n    return convertMedia(media)\n  } else if (operation === 'createLocal') {\n    try {\n      const media = await manager.createLocal(...params)\n      return convertMedia(media)\n    } catch (err) {\n      console.debug('Failed to create local media: ', err)\n      return stringifyError(err)\n    }\n  } else if (operation === 'createLocalScreen') {\n    try {\n      const media = await manager.createLocalScreen(...params)\n      return convertMedia(media)\n    } catch (err) {\n      console.debug('Failed to create local screen: ', err)\n      return stringifyError(err)\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Rendering Manager \"converter\".\n * Receives a webRTC command intended for the Renderer, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method rendererManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function rendererManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.renderer\n\n  if (operation === 'renderTrack') {\n    // Get the actual Track object using the serialized-track object.\n    const track = webRTC.managers.track.get(params[0].id)\n\n    if (track) {\n      return manager.renderTrack(track, params[1], params[2])\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Session \"converter\".\n * Receives webRTC commands intended for a Session object.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method session\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function session (webRTC, command) {\n  const { id, operation, params } = command\n  const session = webRTC.managers.sessionManager.get(id)\n\n  if (!session) {\n    // Session not found.\n    return\n  }\n\n  if (operation === 'addTracks') {\n    const trackIds = params[0].map(track => track.id)\n    const tracks = webRTC.managers.track.getTracks(trackIds)\n    const dscpTrackMapping = params.length === 2 ? params[1] : {}\n    return session.addTracks(tracks, dscpTrackMapping)\n  }\n\n  if (operation === 'getStats') {\n    const getStats = session.getStats(...params)\n    return getStats.then(stats => Array.from(stats.entries()))\n  }\n\n  // General case: Don't convert the return.\n  return session[operation](...params)\n}\n","import { convertSession, convertMedia } from './index'\nimport { stringifyError } from './mediaManager'\n\n/**\n * Session Manager \"converter\".\n * Receives webRTC commands intended for the Session Manager.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method sessionManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function sessionManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.sessionManager\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'create') {\n    const session = manager.create(...params)\n    return convertSession(session)\n  } else if (operation === 'get') {\n    const session = manager.get(...params)\n    return convertSession(session)\n  } else if (operation === 'getAll') {\n    const sessions = manager.getAll(...params)\n    return sessions.map(convertSession)\n  } else if (operation === 'getWithMedia') {\n    try {\n      const objs = await manager.getWithMedia(...params)\n      return {\n        type: 'multiple',\n        session: convertSession(objs.session),\n        medias: objs.medias.map(convertMedia)\n      }\n    } catch (err) {\n      console.debug('Failed to get and add media to session: ', err)\n      return stringifyError(err)\n    }\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * Track \"converter\".\n * Receives webRTC commands intended for a Track object.\n * Handles performing the operation and converting the operation's\n *    return value into a format the Proxy Stack can use.\n * @method track\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function track (webRTC, command) {\n  const { id, operation, params } = command\n  const track = webRTC.managers.track.get(id)\n\n  if (!track) {\n    // Track not found.\n    return\n  }\n\n  // Handle different APIs differently, depending on what they return.\n  if (operation === 'getContainers') {\n    return track.getContainers().map(ele => ele.id)\n  } else {\n    // General case: Don't handle the return.\n    return track[operation](...params)\n  }\n}\n","import { convertTrack } from './index'\n\n/**\n * Track Manager \"converter\".\n * Receives webRTC commands intended for the Track Manager.\n * Converts the command into the actual operation, and converts\n *    the operation's return value into a format that the Proxy\n *    Stack can use.\n * @method trackManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function trackManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.track\n\n  // Handle different APIs differently, depending on what the return.\n  if (operation === 'get') {\n    const track = manager.get(...params)\n    return convertTrack(track)\n  } else if (operation === 'getTracks') {\n    const tracks = manager.getTracks(...params)\n    return tracks.map(convertTrack)\n  } else {\n    // General case: Don't convert the return.\n    return manager[operation](...params)\n  }\n}\n","/**\n * WebRTC Manager \"converter\".\n * Receives a webRTC command intended for the WebRTC Manager, performs the webRTC\n *    operation and returns/resolves a proxy response.\n * @method webrtcManager\n * @param {Object} webRTC The local webRTC stack.\n * @param {Object} command A webRTC command.\n * @return {Promise} Resolves when the webRTC operation has completed.\n */\nexport default async function webrtcManager (webRTC, command) {\n  const { operation, params } = command\n  const manager = webRTC.managers.webrtcManager\n\n  // General case: Don't convert the return.\n  return manager[operation](...params)\n}\n","// Proxy Plugin.\nimport performWebrtc from '../converters'\nimport setupListeners from '../webrtcEvents'\nimport { jsonChannel, replyChannel } from '../channel'\n\n// Other plugins.\nimport { logManager, API_LOG_TAG } from '../../logs'\nimport { getVersion } from '../../common/version'\nimport BasicError, { proxyCodes } from '../../errors'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport initialize from 'kandy-webrtc'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * The Remote SDK's Proxy module provides the connection point for the remote end of the channel. After being provide with a channel, the Remote SDK will use it to receive and reply to messages from the main SDK on the other end.\n *\n * @public\n * @module Proxy\n */\n\n/**\n * The Channel object that needs to be provided to the the Proxy module.\n *\n * @public\n * @module Channel\n * @example\n * // The channel the application uses for communicating with a remote endpoint.\n * const appChannel = ...\n *\n * // The channel the application will provide to the Proxy module for use.\n * const channel = {\n *    send: function (data) {\n *      // Any encoding / wrapping needed for a Proxy message being sent\n *      //    over the channel.\n *      appChannel.sendMessage(data)\n *    },\n *    // The Proxy module will set this function.\n *    receive: undefined\n * }\n * appChannel.on('message', data => {\n *    // Any decoding / unwrapping needed for the received message.\n *    channel.receive(data)\n * })\n *\n * client.proxy.setChannel(channel)\n */\n\n/**\n * Creates the Client side of the Proxy.\n * The Client Proxy handles the remote side of the proxy channel. It contains\n *    the local webRTC stack, and is provided a channel by the application. It\n *    handles receiving SDK messages from the channel and performing any\n *    webRTC operations needed (and replying).\n * @method clientProxy\n * @return {Object} The Client Proxy.\n */\nexport default function clientProxy () {\n  const base = {\n    // Whether the Client Proxy is ready for use.\n    isReady: false,\n    // The local webRTC stack.\n    webRTC: initialize,\n    // The channel to use for proxying operations.\n    channel: undefined\n  }\n\n  /*\n   * The interface for an application to use the Client Proxy.\n   */\n  const api = {}\n\n  /**\n   * Provides the Channel to the Remote SDK.\n   * The SDK will use this channel to communicate with the main SDK.\n   * @public\n   * @memberof Proxy\n   * @method setChannel\n   * @param {Channel} channel See the `Channel` module for information.\n   */\n  api.setChannel = channel => {\n    log.debug(`${API_LOG_TAG}proxy.setChannel`)\n    const remoteVersion = getVersion()\n\n    base.channel = replyChannel(jsonChannel(channel))\n    base.channel.receive = (id, data) => {\n      /*\n       * Expected message types:\n       *    - initialize command\n       *    - webrtc command\n       */\n      if (data.initialize) {\n        /*\n         * Initialization message received.\n         *    - if Remote SDK is already initialized, then respond with an error.\n         *    - if Remote SDK is not initialized, then initialize it.\n         */\n        if (base.isReady) {\n          log.warn('Local WebRTC stack is already initialized; responding as error.')\n          const response = {\n            initialized: true,\n            error: new BasicError({\n              code: proxyCodes.INVALID_STATE,\n              message: 'Remote SDK has already been initialized.'\n            })\n          }\n          base.channel.reply(id, response)\n        } else {\n          log.info('Initializing local webRTC stack.', data.config)\n          log.info(`SDK version received from remote end: ${data.version}.`)\n\n          if (data.version !== remoteVersion) {\n            // Make sure the two SDKs have the same version.\n            log.error('SDK versions do not match; initialization failed.')\n            const response = {\n              initialized: false,\n              remoteVersion,\n              error: new BasicError({\n                code: proxyCodes.VERSION_MISMATCH,\n                message: 'SDK versions do not match; initialization failed.'\n              })\n            }\n            base.channel.reply(id, response)\n            return\n          }\n\n          base.webRTC = base.webRTC(data.config)\n\n          // Set the initial log levels if they were provided.\n          if (data.logLevels) {\n            const { WEBRTC, PROXY, CHANNEL } = data.logLevels\n            // Set the log level in the WebRTC stack's Log Manager.\n            base.webRTC.managers.logs.setLevel(WEBRTC)\n            // Also set the log level in the Remote SDK's PROXY logger.\n            log.setLevel(PROXY)\n            // Also also set the log level in the Remote SDK's CHANNEL logger.\n            logManager.getLogger('CHANNEL').setLevel(CHANNEL)\n          }\n\n          base.isReady = true\n\n          /*\n           * Setup listeners for events from the Webrtc-stack. If the events are\n           *    actions (and events), we need to send them across the channel to\n           *    be handled by the SDK. The function passed-in is the \"remote side\"\n           *    of the `contextHelper` for how the SDK should handle Webrtc-stack\n           *    events. The \"local side\" of this handler is defined in the\n           *    WebrtcProxy operations.\n           */\n          setupListeners(base.webRTC, (action, event) => {\n            // When an event is received (and has already been parsed into an\n            //    action), send it over the channel.\n            if (typeof action === 'object' && action.type) {\n              // Make sure that the action is an actual action, though.\n              log.info(`Sending event over channel: ${action.type}.`)\n              const messageId = uuidV4().substring(0, 8)\n              base.channel.send(messageId, { action, event })\n            } else {\n              log.debug('Proxy event listeners received unexpected format; ignoring.', action)\n            }\n          })\n\n          // When responding to the initialize command, include browser details.\n          const browser = base.webRTC.getBrowserDetails()\n          log.info(`Browser details: ${browser.browser}, version ${browser.version}.`)\n\n          if (api.onInit) {\n            api.onInit(base.webRTC)\n          }\n          base.channel.reply(id, { initialized: true, browser, remoteVersion })\n          log.info('Finished initializing local webRTC stack.')\n        }\n      } else if (isWebrtcCommand(data)) {\n        /*\n         * Webrtc command received.\n         *    - if Remote SDK is initialized, process it.\n         *    - if not inititalized, respond with an error.\n         */\n        if (base.isReady) {\n          log.info(`Received ${data.type} ${data.operation} operation, performing...`)\n          // WebRTC operations may be async. Need to ensure that\n          //    they finish before replying to the command.\n          performWebrtc(base.webRTC, data).then(result => {\n            log.info(`Finished ${data.type} ${data.operation} operation, replying with result.`)\n            base.channel.reply(id, result)\n          })\n        } else {\n          log.info('Client not ready! Still needs to be initialized.')\n          base.channel.reply(id, {\n            initialized: false,\n            error: new BasicError({\n              code: proxyCodes.INVALID_STATE,\n              message: 'Remote client not initialized.'\n            })\n          })\n        }\n      } else {\n        /*\n         * Unknown message received. Respond with an error.\n         */\n        log.error('Unknown data format; ignoring.', data)\n        base.channel.reply(id, {\n          data,\n          remoteVersion,\n          error: new BasicError({\n            message: 'Unknown format.',\n            code: proxyCodes.UNKNOWN\n          })\n        })\n      }\n    }\n  }\n\n  /**\n   * Retrieves the current channel being used.\n   * @method getChannel\n   * @return {Channel}\n   */\n  api.getChannel = () => {\n    log.debug(`${API_LOG_TAG}proxy.getChannel`)\n    return base.channel\n  }\n\n  /**\n   * Sends data, over the channel, to the remote side.\n   * @method send\n   * @param {Any} args Depends on channel used.\n   */\n  api.send = (...args) => {\n    log.debug(`${API_LOG_TAG}proxy.send`)\n\n    if (base.channel && base.channel.send) {\n      base.channel.send(...args)\n    } else {\n      log.error('Cannot send without a channel to use.')\n    }\n  }\n\n  /**\n   * Listener for the webRTC stack is initialized.\n   * @method onInit\n   * @param {Object} webRTC The initialized webRTC stack.\n   */\n  api.onInit = undefined\n\n  return api\n}\n\n/**\n * Ensures that an object represents a webRTC command.\n * @method isWebrtcCommand\n * @param {Object} data\n * @return {boolean}\n */\nfunction isWebrtcCommand (data) {\n  return data.type && data.id && data.operation\n}\n","import eventEmitter from '../../events/eventEmitter'\n\n/**\n * Sets up an Event Emitter for the Remote SDK.\n * @method setupEvents\n * @return {Emitter}\n */\nexport default function setupEvents () {\n  const emitter = eventEmitter()\n\n  /**\n   * Sets up listeners for webRTC events.\n   * @method setWebrtcListeners\n   * @param  {Object} webRTC The initialized webRTC stack.\n   */\n  function setWebrtcListeners (webRTC) {\n    const mediaMan = webRTC.managers.media\n    const deviceMan = webRTC.managers.devices\n\n    /**\n     * Media devices available for use have changed.\n     * Use the {@link media.getDevices} API to retrieve the lists of devices.\n     * @public\n     * @memberof media\n     * @event devices:change\n     * @param {Object} params\n     * @param {Array<string>}  microphone The list of available audio input devices.\n     * @param {Array<string>}  camera     The list of available video input devices.\n     * @param {Array<string>}  speaker    The list of available audio output devices.\n     * @example\n     * // Listen for changes to available media devices.\n     * remoteClient.on('devices:change', function () {\n     *    // Retrieve the latest media device lists.\n     *    const devices = remoteClient.media.getDevices()\n     * })\n     */\n    deviceMan.on('change', () => {\n      deviceMan.checkDevices().then(devices => {\n        emitter.emit('devices:change', devices)\n      })\n    })\n\n    /**\n     * A new Media object is available.\n     * It may represent either the local or remote media for a call.\n     * @public\n     * @memberof media\n     * @event media:new\n     * @param {Object} params\n     * @param {string} params.mediaId The ID of the new Media object.\n     */\n    mediaMan.on('media:new', mediaId => {\n      const media = mediaMan.get(mediaId)\n\n      /**\n       * A new Track object is available.\n       * The Track will be within a Media object that is already available.\n       * @public\n       * @memberof media\n       * @event track:new\n       * @param {Object} params\n       * @param {string} params.trackId The ID of the new Track object.\n       * @param {string} params.mediaId The ID of the Media object the Track belongs to.\n       */\n      media.on('track:new', ({ mediaId, trackId }) => {\n        emitter.emit('track:new', { mediaId, trackId })\n      })\n\n      emitter.emit('media:new', mediaId)\n    })\n\n    /**\n     * An existing Media object has stopped being available.\n     * @public\n     * @memberof media\n     * @event media:removed\n     * @param {Object} params\n     * @param {string} params.mediaId The ID of the removed Media object.\n     */\n    mediaMan.on('media:removed', mediaId => {\n      emitter.emit('media:removed', { mediaId })\n    })\n  }\n\n  return {\n    ...emitter,\n    setWebrtcListeners\n  }\n}\n","import clientProxy from './clientProxy'\nimport * as mediaApis from './media'\nimport setupEvents from './events'\n\n// Other plugins.\nimport { logManager } from '../../logs'\nimport { getVersion } from '../../common/version'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * The Remote SDK creation factory. Create an instance of the Remote SDK by calling this factory with the desired configurations.\n * @public\n * @method create\n * @example\n * // Instantiate the Remote SDK.\n * const remoteClient = remoteKandy.create();\n *\n * // Use the SDK's APIs.\n * remoteClient.on( ... );\n */\n\n/**\n * Entrypoint for the \"Remote SDK\".\n * Is equivalent to an `webrtc.remote.js` file.\n * @method remoteClient\n * @return {Object} The remote SDK's API.\n */\nfunction remoteClient () {\n  // Log the SDK's version (templated by webpack) on initialization.\n  const version = getVersion()\n  log.info(`Remote SDK version: ${version}`)\n\n  // Setup the Client Proxy.\n  const proxy = clientProxy()\n  // The webRTC stack ...when initialized.\n  let webRTC\n  // Event emitter.\n  const emitter = setupEvents()\n\n  // When Client Proxy is initialized, finish setting up\n  //    for webRTC events and notify the application.\n  proxy.onInit = function (stack) {\n    webRTC = stack\n    emitter.setWebrtcListeners(stack)\n    // Emit the stack for backwards compatibility until\n    //    the example is updated to use the APIs.\n    emitter.emit('initialize', stack)\n  }\n\n  // Exclude onInit from the public Proxy API.\n  const { onInit, ...proxyApi } = proxy\n\n  /**\n   * Wrapper function to ensure that Media APIs aren't used before the webRTC\n   *    has been initialized.\n   * @method hasDefinedStack\n   * @param  {Function} api The API function to wrap.\n   * @return {Function} The wrapped API function.\n   */\n  function hasDefinedStack (api) {\n    return function stackCheck (...args) {\n      if (webRTC) {\n        return api(webRTC, ...args)\n      } else {\n        log.info('Remote Proxy not yet initialized; cannot use media APIs yet.')\n      }\n    }\n  }\n\n  const mediaApi = {}\n  // Wrap each Media API before adding it to the public API.\n  for (const name in mediaApis) {\n    mediaApi[name] = hasDefinedStack(mediaApis[name])\n  }\n\n  /**\n   * The Remote SDK is comprised of three APIs:\n   *   - proxy: Interface to the Client Proxy (the channel).\n   *   - media: API interface to the webRTC stack.\n   *   - events: Event interface to the webRTC stack.\n   */\n  return {\n    proxy: proxyApi,\n    media: mediaApi,\n    on: emitter.on,\n    off: emitter.off,\n    getCapabilities: () => [],\n    getVersion: () => version\n  }\n}\n\n// Alias 'create' to be equal to the root function\nremoteClient.create = remoteClient\n\n// Export this way as a work-around, so it can be used as `<export>();`.\n// See: https://github.com/webpack/webpack/issues/706\nmodule.exports = remoteClient\n","/**\n * The Remote SDK's public Media APIs.\n * As similar as possible to the webRTC plugin's Media APIs.\n */\n\n/**\n * The media features are used to interact with media that the SDK is\n * currently using.\n *\n * Media functions are all part of the 'media' namespace.\n *\n * @public\n * @module Media\n */\n\n/**\n * The state representation of a Media object.\n * Media is a collection of Track objects.\n *\n * @public\n * @module MediaObject\n * @property {string} id The ID of the Media object.\n * @property {boolean} local Indicator on whether this media is local or remote.\n * @property {Array<TrackObject>} tracks A list of Track objects that are contained in this Media object.\n */\n\n/**\n * A Track is a stream of audio or video media from a single source.\n * Tracks can be retrieved using the Media module's `getTrackById` API.\n *\n * @public\n * @module TrackObject\n * @property {Array<string>} containers The list of CSS selectors that were used to render this Track.\n * @property {boolean} disabled Indicator of whether this Track is disabled or not. If disabled, it cannot be re-enabled.\n * @property {string} id The ID of the Track.\n * @property {string} kind The kind of Track this is (audio, video).\n * @property {string} label The label of the device this Track uses.\n * @property {boolean} muted Indicator on whether this Track is muted or not.\n * @property {string} state The state of this Track. Can be 'live' or 'ended'.\n * @property {string} streamId The ID of the Media object that includes this Track.\n */\n\n// Other plugins.\nimport { logManager, API_LOG_TAG } from '../../logs'\n\nconst log = logManager.getLogger('PROXY')\n\n/**\n * Retrieves the available media devices for use.\n * @public\n * @memberof media\n * @method getDevices\n * @return {Object} The lists of camera, microphone, and speaker devices.\n */\nexport function getDevices (webRTC) {\n  log.debug(`${API_LOG_TAG}media.getDevices`)\n\n  const manager = webRTC.managers.devices\n  return manager.get()\n}\n\n/**\n * Retrieves a list of all existing Media object's IDs.\n * Use the `getMediaById` API to retrieve a specific Media object.\n * @public\n * @memberof media\n * @method getMedia\n * @return {Array} List of Media IDs.\n */\nexport function getMedia (webRTC) {\n  log.debug(`${API_LOG_TAG}media.getMedia`)\n\n  const manager = webRTC.managers.media\n  return manager.getAll()\n}\n\n/**\n * Retrieves a media object from state with a specific media ID.\n * @public\n * @memberof media\n * @method getMediaById\n * @param  {string} mediaId The ID of the media to retrieve.\n * @return {MediaObject} A media object.\n */\nexport function getMediaById (webRTC, mediaId) {\n  log.debug(`${API_LOG_TAG}media.getMediaById: ${mediaId}`)\n\n  const manager = webRTC.managers.media\n  return manager.get(mediaId).getState()\n}\n\n/**\n * Retrieves a Track object from state with a specific ID.\n * @public\n * @memberof media\n * @method getTrackById\n * @param  {string} trackId The ID of the track to retrieve.\n * @return {TrackObject} A track object.\n */\nexport function getTrackById (webRTC, trackId) {\n  log.debug(`${API_LOG_TAG}media.getTrackById: ${trackId}`)\n\n  const manager = webRTC.managers.track\n  return manager.get(trackId)\n}\n\n/**\n * Render media Tracks in a container.\n * The container is specified by providing a CSS selector string that corresponds to the HTMLElement to act as the container.\n * @public\n * @memberof media\n * @method renderTracks\n * @param  {Array}  tracks List of Track IDs to be rendered.\n * @param  {string} cssSelector A CSS selector string that uniquely identifies an element. Ensure that special characters are properly escaped.\n * @example\n * // When a new track is available, render it in specific container.\n * remoteClient.on('track:new', function (params) {\n *     // Render the new track.\n *     remoteClient.media.renderTracks([ params.trackId ], container)\n * })\n */\nexport function renderTracks (webRTC, trackIds, cssSelector) {\n  log.debug(`${API_LOG_TAG}media.renderTracks: ${trackIds}, ${cssSelector}`)\n\n  const trackManager = webRTC.managers.track\n  const renderer = webRTC.managers.renderer\n  const tracks = trackIds.map(trackManager.get)\n\n  const container = document.querySelector(cssSelector)\n  if (!container) {\n    log.debug('HTML container not found.')\n    return false\n  }\n\n  tracks.forEach(track => {\n    if (track) {\n      renderer.renderTrack(track, container)\n    }\n  })\n}\n\n/**\n * Remove media Tracks from a container.\n * The container is specified by providing a CSS selector string that corresponds to the HTMLElement to act as the container.\n * @public\n * @memberof media\n * @method removeTracks\n * @param  {Array}  tracks List of Track IDs to stop being rendered.\n * @param  {string} cssSelector A CSS selector string that uniquely identifies an element. Ensure that special characters are properly escaped.\n */\nexport function removeTracks (webRTC, trackIds, cssSelector) {\n  log.debug(`${API_LOG_TAG}media.removeTracks: ${trackIds}, ${cssSelector}`)\n\n  const renderer = webRTC.managers.renderer\n\n  const container = document.querySelector(cssSelector)\n  if (!container) {\n    log.debug('HTML container not found.')\n    return false\n  }\n\n  trackIds.forEach(id => {\n    renderer.unrenderTrack(id, container)\n  })\n}\n","// Webrtc plugin.\nimport watchMediaManagerEvents from '../webrtc/channels/mediaManager'\n\nimport watchSessionManagerEvents from '../webrtc/channels/sessionManager'\n\nimport watchTrackManagerEvents from '../webrtc/channels/trackManager'\n\nimport watchDeviceEvents from '../webrtc/channels/devices'\n\n/**\n * Function that connects the Webrtc-stack's events to the ProxyStack.\n *\n * Sets up all of the \"manager channels\" to listen for Webrtc-stack events\n *   and passes in a \"handler\" for what the manager channels should do with\n *   actions/events generated from the Webrtc-stack events.\n *\n * This function is the Proxy-version of the Webrtc plugin's `watchManagers`\n *    function (/webrtc/channels/index.js).\n * @method setupListeners\n * @param  {Object} webRTC The webRTC stack.\n * @param  {Function} handler Function that receives the parsed actions and events.\n */\nexport default function setupListeners (webRTC, handler) {\n  // Setup listeners for each Manager and pass the action and event handler.\n  watchMediaManagerEvents(webRTC.managers.media, handler)\n  watchSessionManagerEvents(webRTC.managers.sessionManager, handler)\n  watchTrackManagerEvents(webRTC.managers.track, handler)\n  watchDeviceEvents(webRTC.managers.devices, handler)\n}\n","/**\n * Log levels supported by Loggers.\n * When a level is set, all logs of that level and higher will be logged.\n * @type {Object}\n */\nexport const logLevels = {\n  TRACE: 'TRACE',\n  DEBUG: 'DEBUG',\n  INFO: 'INFO',\n  WARN: 'WARN',\n  ERROR: 'ERROR',\n  SILENT: 'SILENT'\n}\n\n/**\n * Numeric values for each log level.\n * When a level is set, all logs of that level and higher will be logged.\n * @type {Object}\n */\nexport const levelValues = {\n  TRACE: 0,\n  DEBUG: 1,\n  INFO: 2,\n  WARN: 3,\n  ERROR: 4,\n  SILENT: 5\n}\n\n/**\n * Supported Log methods and their set log level; `<logMethod>: <logLevel>`\n * Used to construct the logging methods on a Logger.\n * @type {Object}\n */\nexport const logMethods = {\n  // Standard methods.\n  trace: logLevels.TRACE,\n  debug: logLevels.DEBUG,\n  info: logLevels.INFO,\n  warn: logLevels.WARN,\n  error: logLevels.ERROR,\n  // Extra console methods.\n  log: logLevels.DEBUG,\n  group: logLevels.DEBUG,\n  groupEnd: logLevels.DEBUG,\n  groupCollapsed: logLevels.DEBUG\n}\n\n/**\n * The log level for all timer methods.\n * @type {string}\n */\nexport const timeLevel = logLevels.DEBUG\n","import createManager from './logManager'\nimport defaultLogFormatter from './logFormatter'\nimport { logLevels as levelImport } from './constants'\n\n/**\n * Package main.\n */\n\n// Main export is the manager's factory function.\nexport default createManager\n\n// Named export for the log level constants the package uses / expects.\nexport const logLevels = levelImport\n\n// Default log formatter used by the defaultLogHandler\nexport const logFormatter = defaultLogFormatter\n","/**\n * Default function for the SDK to use for log formatting.\n *    Uses entry information to form a prefix.\n * @method defaultLogFormatter\n * @param  {LogEntry} entry\n */\nexport default function defaultLogFormatter (entry) {\n  // Compile the meta info of the log for a prefix.\n  const { timestamp, level, target } = entry\n\n  // Find a short name to reference which Logger this log is from.\n  //    This is mostly to cut down the ID if it's too long for a human to read.\n  const shortId = target.id && target.id.length > 8 ? target.id.substring(0, 6) : target.id\n  const shortName = shortId ? `${target.type}/${shortId}` : target.type\n\n  const logInfo = `${timestamp} - ${shortName} - ${level}`\n\n  // Assume that the first message parameter is a string.\n  const log = entry.messages[0]\n\n  return `${logInfo} - ${log}`\n}\n","import defaultLogFormatter from './logFormatter'\n/**\n * Default function for the SDK to use for logging.\n *    Uses entry information to form a prefix, then logs to console.\n * @method defaultLogHandler\n * @param  {LogEntry} entry\n */\nexport default function defaultLogHandler (entry) {\n  let { method } = entry\n\n  // For the time-related methods, don't actually use the console methods.\n  //    The Logger already did the timing, so simply log out the info.\n  if (method.includes('time')) {\n    method = 'debug'\n  }\n\n  const formattedString = defaultLogFormatter(entry)\n  const tail = entry.messages.slice(1)\n  console[method](formattedString, ...tail)\n}\n","import createLogger from './logger'\nimport defaultLogHandler from './logHandler'\nimport { logLevels } from './constants'\nimport { checkLevel, checkHandler } from './validation'\n\nconst defaultType = Symbol('Default')\n\n/**\n * Creates a Log Manager.\n * @method createManager\n * @param  {Object}     [options={}]\n * @param  {Function}   [options.handler]      The default log handler used for\n *    Loggers that don't have a handler set.\n * @param  {string}     [options.level='INFO'] The default log level used for\n *    Loggers that don't have a level set.\n * @return {LogManager}\n */\nexport default function createManager (options = {}) {\n  const loggers = {}\n\n  /**\n   * Mapping between a Logger `type` and their default settings. Created Loggers\n   *    will use their `type` settings if they exist. Otherwise the \"global\"\n   *    options provided during Manager creation.\n   * @type {Object}\n   */\n  const settings = {\n    [defaultType]: {\n      handler: options.handler ? checkHandler(options.handler) : defaultLogHandler,\n      level: options.level ? checkLevel(options.level) : logLevels.INFO\n    }\n  }\n\n  /**\n   * Gets a specific logger. If the logger doesn't exist, a new one will be\n   *    created.\n   * @method getLogger\n   * @param  {string} type Human-readable type/name for the logger.\n   * @param  {string} [id] A unique identifier for the logger.\n   * @return {Logger}\n   */\n  function getLogger (type, id = '') {\n    id = String(id)\n\n    // Combine the name and ID to create the \"full\" logger name.\n    const loggerName = id ? `${type}-${id}` : type\n\n    let logger = loggers[loggerName]\n    // If the logger does not exist, create a new one.\n    if (!logger) {\n      // This logger logs items from a specific \"target\".\n      const target = { type, id, name: loggerName }\n      const options = {\n        level: getLevel(type),\n        handler: getHandler(type)\n      }\n\n      logger = createLogger(target, options)\n\n      // Save the new logger to be returned by future getter calls.\n      loggers[loggerName] = logger\n    }\n\n    return logger\n  }\n\n  /**\n   * Gets all created loggers, or Loggers of a specific type.\n   * @method getLoggers\n   * @param {string} [type] The type of Loggers to retrieve.\n   * @return {Array<Logger>} List of Loggers.\n   */\n  function getLoggers (type) {\n    if (type) {\n      return Object.values(loggers).filter(logger => logger.type === type)\n    } else {\n      return Object.values(loggers)\n    }\n  }\n\n  /**\n   * Sets the default `level` to be used when creating Loggers.\n   *\n   * Can set the level \"globally\" or per `type`, depending if `type` is provided\n   *    or not. When set for a specific type, only Loggers of that type will use\n   *    the set level. When set \"globally\", all Loggers without a set type will\n   *    use the level as a default.\n   *\n   * Setting the level only affects Loggers created after that point.\n   * @method setLevel\n   * @param  {string} type  The type of Logger to set the option for.\n   * @param  {string} level The logLevel to be set.\n   * @throws Throws an error if level is not a valid log level.\n   * @example\n   * const manager = createManager({ level: logLevels.WARN })\n   *\n   * // Setting the level for a type sets it for created Loggers of that type.\n   * manager.setLevel('Call', logLevels.DEBUG)\n   * const logger1 = manager.getLogger('Call')\n   * // logger1.getLevel() === logLevels.DEBUG\n   *\n   * // Loggers created of types without a set level uses the Manager's level.\n   * const logger2 = manager.getLogger('Auth')\n   * // logger2.getLevel() === logLevels.WARN\n   *\n   * // Setting the level without a type changes the Manager's level.\n   * manager.setLevel(logLevels.INFO)\n   * const logger3 = manager.getLogger('Messaging')\n   * // logger3.getLevel() === logLevels.INFO\n   *\n   * // Setting the level for a type does not affect previously created Loggers.\n   * manager.setLevel('Auth', logLevels.INFO)\n   * // logger2.getLevel() !== logLevels.INFO\n   * // logger2.getLevel() === logLevels.WARN\n   */\n  function setLevel (type, level) {\n    // Signature can be: `setLevel(type, level)` or `setLevel(level)`.\n    // Normalize the parameters to always be consistent.\n    if (level === undefined) {\n      level = type\n      type = defaultType\n    }\n\n    // Ensure `settings[type]` is an object.\n    if (!settings[type]) {\n      settings[type] = {}\n    }\n\n    // Set the level.\n    settings[type].level = checkLevel(level)\n  }\n\n  /**\n   * Gets the default `level` that is used when creating Loggers.\n   *\n   * Can get the level used \"globally\" or per `type`, depending if `type` is\n   *    provided or not.\n   *\n   * See the `setLevel` API for setting these values.\n   * See the Logger APIs for getting this value for an already created Logger.\n   * @method getLevel\n   * @param  {string} [type] A type of Logger.\n   * @return {LogLevel}\n   * @example\n   * const manager = createManager({ level: logLevels.WARN })\n   *\n   * // If a type's level has not been set, gets the \"global\" level.\n   * // manager.getLevel('Call') === logLevels.WARN\n   *\n   * // If a type's level has been set, gets its level.\n   * manager.setLevel('Auth', logLevels.DEBUG)\n   * // manager.getLevel('Auth') === logLevels.DEBUG\n   *\n   * // Can get the \"global\" level.\n   * manager.setLevel(logLevels.INFO)\n   * // manager.getLevel() === logLevels.INFO\n   */\n  function getLevel (type) {\n    // Signature can be: `getLevel(type)` or `getLevel()`.\n    // Normalize the parameters to always be consistent.\n    type = type || defaultType\n\n    return (settings[type] && settings[type].level) || settings[defaultType].level\n  }\n\n  /**\n   * Sets the default `handler` to be used when creating Loggers.\n   *\n   * Can set the handler \"globally\" or per `type`, depending if `type` is\n   *    provided or not. When set for a specific type, only Loggers of that type\n   *    will use the set handler. When set \"globally\", all Loggers without a set\n   *    type will use the handler as a default.\n   *\n   * Setting the handler only affects Loggers created after that point.\n   * @method setHandler\n   * @param  {string}     type    The type of Logger to set the option for.\n   * @param  {LogHandler} handler The log handler to be set.\n   * @throws Throws an error if handler is not a function.\n   * @example\n   * const manager = createManager({ handler: managerHandler })\n   *\n   * // Setting the handler for a type sets it for created Loggers of that type.\n   * manager.setHandler('Call', callHandler)\n   * const logger1 = manager.getLogger('Call')\n   * // logger1.getHandler() === callHandler\n   *\n   * // Loggers created of types without a set handler uses the Manager's handler.\n   * const logger2 = manager.getLogger('Auth')\n   * // logger2.getHandler() === managerHandler\n   *\n   * // Setting the handler without a type changes the Manager's handler.\n   * manager.setHandler(newHandler)\n   * const logger3 = manager.getLogger('Messaging')\n   * // logger3.getHandler() === newHandler\n   *\n   * // Setting the handler for a type does not affect previously created Loggers.\n   * manager.setHandler('Auth', authHandler)\n   * // logger2.getHandler() !== authHandler\n   * // logger2.getHandler() === managerHandler\n   */\n  function setHandler (type, handler) {\n    // Signature can be: `setHandler(type, handler)` or `setHandler(handler)`.\n    // Normalize the parameters to always be consistent.\n    if (typeof type === 'function' && handler === undefined) {\n      handler = type\n      type = defaultType\n    }\n\n    // Ensure `settings[type]` is an object.\n    if (!settings[type]) {\n      settings[type] = {}\n    }\n\n    // Set the handler.\n    settings[type].handler = checkHandler(handler)\n  }\n\n  /**\n   * Gets the default `handler` that is used when creating Loggers.\n   *\n   * Can get the handler used \"globally\" or per `type`, depending if `type` is\n   *    provided or not.\n   *\n   * See the `setHandler` API for setting these values.\n   * See the Logger APIs for getting this value for an already created Logger.\n   * @method getHandler\n   * @param  {string} [type] A type of Logger.\n   * @return {LogHandler}\n   * @example\n   * const manager = createManager({ handler: managerHandler })\n   *\n   * // If a type's handler has not been set, gets the \"global\" handler.\n   * // manager.getHandler('Call') === managerHandler\n   *\n   * // If a type's handler has been set, gets its handler.\n   * manager.setHandler('Auth', authHandler)\n   * // manager.getHandler('Auth') === authHandler\n   *\n   * // Can get the \"global\" handler.\n   * manager.setHandler(newHandler)\n   * // manager.getHandler() === newHandler\n   */\n  function getHandler (type) {\n    // Signature can be: `getHandler(type)` or `getHandler()`.\n    // Normalize the parameters to always be consistent.\n    type = type || defaultType\n\n    return (settings[type] && settings[type].handler) || settings[defaultType].handler\n  }\n\n  return {\n    getLogger,\n    getLoggers,\n    setLevel,\n    getLevel,\n    setHandler,\n    getHandler\n  }\n}\n","import { levelValues, logMethods, logLevels, timeLevel } from './constants'\nimport { checkLevel, checkHandler } from './validation'\nimport createTimer from './timer'\n\n/**\n * Creates a Logger.\n * @method createLogger\n * @param  {Object}   target          The subject of the logs from this logger.\n * @param  {Object}   options\n * @param  {Function} options.handler The function to receive/handle log entries.\n * @param  {string}   options.level   The log level to be set.\n * @return {Logger}\n */\nexport default function createLogger (target, options = {}) {\n  // Validate provided options. Do not let invalid options be set.\n  const level = checkLevel(options.level)\n  const handler = checkHandler(options.handler)\n\n  /**\n   * Logger data.\n   * @type {Object}\n   * @property {Object}   target  Metadata about the \"target\" of the Logger.\n   * @property {LogLevel} level   The currently set log level.\n   * @property {Function} handler The currently set Log Handler.\n   */\n  const logger = {\n    target,\n    level,\n    handler\n  }\n\n  /**\n   * Currying function to dynamically create the Logger's logging methods.\n   * @method logFunc\n   * @param  {string} method   Name of the logger method to create.\n   * @param  {string} logLevel The log level for the method.\n   * @param  {Object} [injectables] Other values to include in the LogEntry.\n   * @return {Function} A log method.\n   */\n  function logFunc (method, logLevel, injectables) {\n    /*\n     * Return the function that will be used as `log.<method>`.\n     */\n    return function (...args) {\n      // Compare the logged level and the configured level.\n      const shouldLog = levelValues[logLevel] >= levelValues[logger.level]\n      // If this entry shouldn't be logged, don't do anything.\n      if (!shouldLog) {\n        return\n      }\n\n      // Create the Log Entry to be handed off to the handler.\n      const entry = {\n        // Extra data to be added to the LogEntry.\n        ...injectables,\n        // Meta-info about the log.\n        method,\n        timestamp: Date.now(),\n        level: logLevel,\n        target: logger.target,\n        // The actual arguments logged.\n        messages: [...args]\n      }\n\n      logger.handler(entry)\n    }\n  }\n\n  /**\n   * Sets the Logger's current log level.\n   * @method setLevel\n   * @param  {string} level The logLevel to be set.\n   * @throws Throws an error if level is not a valid log level.\n   * @example\n   * logger.setLevel(logLevels.INFO)\n   * logger.info('This will be logged.')\n   * logger.debug('This will not be logged.')\n   */\n  function setLevel (level) {\n    logger.level = checkLevel(level)\n  }\n\n  /**\n   * Gets the Logger's current log level.\n   * @method getLevel\n   * @return {string} The log level.\n   * @example\n   * logger.setLevel(logLevels.DEBUG)\n   * const level = logger.getLevel()\n   * // level === logLevels.DEBUG\n   */\n  function getLevel () {\n    return logger.level\n  }\n\n  /**\n   * Sets the Logger's current log handler.\n   * @method setHandler\n   * @param  {Function} handler The log handler to be set.\n   * @throws Throws an error if handler is not a function.\n   * @example\n   * const logger = manager.getLogger('Test', '123')\n   * logger.setHandler((logEntry) => {\n   *    console.log(logEntry.target.name, ...logEntry.messages)\n   * })\n   * logger.info('I am a logged message.')\n   * // logs: \"Test-123 I am a logged message.\"\n   */\n  function setHandler (handler) {\n    logger.handler = checkHandler(handler)\n  }\n\n  /**\n   * Gets the Logger's current log handler.\n   * @method getHandler\n   * @return {Function} The log handler.\n   * @example\n   * logger.setHandler(customHandler)\n   * const handler = logger.getHandler()\n   * // handler === customHandler.DEBUG\n   */\n  function getHandler () {\n    return logger.handler\n  }\n\n  const api = {\n    getHandler,\n    setHandler,\n    getLevel,\n    setLevel,\n    get type () {\n      return logger.target.type\n    },\n    get id () {\n      return logger.target.id\n    },\n    get name () {\n      return logger.target.name\n    }\n  }\n\n  // For all supported log methods, create a function on the Logger for it.\n  for (const method in logMethods) {\n    api[method] = logFunc(method, logMethods[method])\n  }\n\n  // Create log functions for the Timer to use.\n  // Follows the same style as above logMethods, but curries it once more\n  //    to align the timer parameters as needed.\n  const timeLog = (message, data) => logFunc(data.event, timeLevel, { timer: data })(message)\n  const timeWarn = (message, data) => logFunc('warn', logLevels.WARN, { timer: data })(message)\n  const timer = createTimer(timeLog, timeWarn)\n\n  return {\n    ...api,\n    ...timer\n  }\n}\n","import { checkHandler } from './validation'\n\n/**\n * Timer factory function.\n * The Timer imitates the Console's Time APIs.\n * Ref: https://developer.mozilla.org/en-US/docs/Web/API/console#Timers\n * @method createTimer\n * @param  {Function} log  Function for logging timer information.\n * @param  {Function} warn Function for warning about timer misuse.\n * @return {Timer}\n */\nexport default function createTimer (log, warn) {\n  // Validate that params are a function.\n  //    Uses functions as `log(message, data)`.\n  checkHandler(log)\n  checkHandler(warn)\n\n  /**\n   * Mapping of on-going timers; <name>: <start>.\n   * @type {Object}\n   */\n  const timers = {}\n\n  /**\n   * Starts a timer. Logs a message to indicate it was started.\n   * Logs a warning if the timer has already been started.\n   * @method timeStart\n   * @param  {string} name Name to identify the timer.\n   */\n  function time (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'time',\n      name\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      data.start = timers[name]\n      warn(`Timer ${name} already started.`, data)\n    } else {\n      // Set the new timer.\n      timers[name] = now\n\n      data.start = now\n      log(`Timer ${name} started.`, data)\n    }\n  }\n\n  /**\n   * Ends a timer. Logs a message with the elapsed time.\n   * @method timeEnd\n   * @param  {string} name Name to identify the timer.\n   */\n  function timeEnd (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'timeEnd',\n      name,\n      start: timers[name]\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      const start = timers[name]\n      // End the timer.\n      delete timers[name]\n\n      const elapsed = now - start\n      data.end = now\n      data.elapsed = elapsed\n\n      log(`Timer ${name} ended, taking ${elapsed}ms.`, data)\n    } else {\n      warn(`Timer ${name} has not been started.`, data)\n    }\n  }\n\n  /**\n   * Adds a split to the timer. Logs a message with the elapsed time so far.\n   * Logs a warning if the timer has not been started.\n   * @method timeSplit\n   * @param  {string} name Name to identify the timer.\n   */\n  function timeLog (name) {\n    const now = Date.now()\n    // Base info about this timer call.\n    const data = {\n      event: 'timeLog',\n      name,\n      start: timers[name]\n    }\n\n    if (timers.hasOwnProperty(name)) {\n      const elapsed = now - timers[name]\n      data.split = now\n      data.elapsed = elapsed\n\n      log(`Timer ${name} split, at ${elapsed}ms so far.`, data)\n    } else {\n      warn(`Timer ${name} has not been started.`, data)\n    }\n  }\n\n  return {\n    time,\n    timeEnd,\n    timeLog\n  }\n}\n","import { logLevels } from './constants'\n\n/**\n * Helper function to validate a \"log level\" string before its used in the library.\n * @method checkLevel\n * @param  {string} level A log level provided by a user.\n * @return {string}       The log level as expected by the library.\n * @throws Will throw an error if the `level` parameter is invalid.\n */\nexport function checkLevel (level) {\n  // Ensure: is defined and is a string.\n  const upperLevel = level && level.toUpperCase && level.toUpperCase()\n\n  // Ensure: is a supported log level.\n  if (upperLevel && logLevels[upperLevel]) {\n    return logLevels[upperLevel]\n  } else {\n    throw new Error('Provided level is not a valid log level.')\n  }\n}\n\n/**\n * Helper function to validate a \"log handler\".\n * Basically just \"is function\" that throws an error if false.\n * @method checkHandler\n * @param  {Function} handler A log handler function, ideally.\n * @return {Function}         The same log handler function, ideally.\n * @throws Will throw an error if the `handler` provided is not a function.\n */\nexport function checkHandler (handler) {\n  if (handler && typeof handler === 'function') {\n    return handler\n  } else {\n    throw new Error('Provided log handler is not a function.')\n  }\n}\n","import { PEER } from '../constants'\n\n/**\n * Configuration object for a Peer.\n * @typedef {Object} PeerConfig\n * @property {Object} [rtcConfig] Configuration for the native RTCPeerConnection.\n * @property {String} [trickleIceMode=FULL] The initial mode the Peer will use when receiving ICE candidates.\n * @property {Boolean} [removeBundling=false] Remove the a=group attribute to stop media bundling\n * @property {Function} [halfTrickleThreshold] Function that determines whether the threshold has been met when in HALF trickle mode.\n */\nexport default {\n  trickleIceMode: PEER.TRICKLE_ICE.FULL,\n  removeBundling: false,\n  halfTrickleThreshold: isPassedHalfTrickleThreshold\n}\n\n/**\n * Default function for determining whether the HALF trickle ICE threshold has\n *    been met, to start trickling ICE candidates.\n * Defines the threshold as one relay candidate being gathered.\n * @method isPassedHalfTrickleThreshold\n * @param  {String}             sdp          The local SDP of the Peer.\n * @param  {RTCIceCandidate}    iceCandidate The native candidate object that triggered this check.\n * @param  {Number}             time         The amount of time (ms) since ICE collection began.\n * @return {Boolean} Whether the \"half trickle\" threshold has been passed.\n */\nfunction isPassedHalfTrickleThreshold ({ sdp, iceCandidate, time }) {\n  const passedHalf = iceCandidate.candidate.indexOf('relay') !== -1\n  return passedHalf\n}\n","import { PEER } from '../../constants'\n\n/**\n * Event wrapper for `icecandidate` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onicecandidate\n * @method onicecandidate\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onicecandidate (listener) {\n  const { nativePeer, proxyPeer, config, iceTimer, emitter, iceCandidates, log } = this\n\n  /**\n   * Intercept the PeerConnection onicecandidate event.\n   * Handle the candidate as defined by the current trickle ICE mode config.\n   * Trickle ICE scenarios:\n   *   - FULL: Trickle.\n   *   - HALF, pre-half: Wait for \"half\" or null candidate.\n   *   - HALF, post-half: Trickle.\n   *   - NONE: Wait for null candidate.\n   */\n  nativePeer.onicecandidate = event => {\n    log.debug(\n      `ICE candidate received (trickling?: ${config.trickleIceMode === PEER.TRICKLE_ICE.FULL}): `,\n      event.candidate\n    )\n\n    // Keep track of all candidates gathered by this collection process.\n    if (event.candidate !== null) {\n      iceCandidates.push(event.candidate)\n    }\n\n    // Emit an event for the session to pick up for the ice collection check\n    const elapsedTime = iceTimer.timeFromStart()\n    emitter.emit('iceCandidateCollected', {\n      iceCollectionDuration: elapsedTime,\n      iceCandidates,\n      iceGatheringState: proxyPeer.iceGatheringState,\n      rtcPeerConnectionConfig: config,\n      rtcLocalSessionDescription: proxyPeer.localDescription\n    })\n\n    if (config.trickleIceMode === PEER.TRICKLE_ICE.FULL) {\n      // If trickling is enabled, emit an event for every ICE candidate. The\n      //    Peer is already ready for negotiation at this point.\n      if (event.candidate) {\n        // Only trickle non-null (ie. actual) candidates.\n        listener(event)\n      }\n    } else if (config.trickleIceMode === PEER.TRICKLE_ICE.HALF) {\n      // For half trickle, only start trickling after a certain threshold.\n      //    Peer will be considered ready for negotiation after that point.\n      const haveHalf = config.halfTrickleThreshold({\n        sdp: proxyPeer.localDescription.sdp,\n        iceCandidate: event.candidate,\n        time: elapsedTime\n      })\n\n      if (haveHalf) {\n        log.debug('Half ICE collection process complete; ready for negotiation.')\n        config.trickleIceMode = PEER.TRICKLE_ICE.FULL\n        emitter.emit('onnegotiationready')\n      } else {\n        log.debug(\"Peer's half trickle threshold not reached.\")\n      }\n    }\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `iceconnectionstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/oniceconnectionstatechange\n * @method oniceconnectionstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function oniceconnectionstatechange (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.oniceconnectionstatechange = function (event) {\n    log.debug(`Peer received iceconnectionstatechange event: ${nativePeer.iceConnectionState}`)\n    listener(event)\n  }\n\n  return true\n}\n","import { PEER } from '../../constants'\n\n/**\n * Event wrapper for `icegatheringstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onicegatheringstatechange\n * @method onicegatheringstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onicegatheringstatechange (listener) {\n  const { nativePeer, iceTimer, log } = this\n\n  /**\n   * Intercept the PeerConnection onicegatheringstatechange event.\n   * Time how long ICE collection takes and handles scenarios when it takes\n   *    too long.\n   */\n  nativePeer.onicegatheringstatechange = event => {\n    const gatheringState = event.target.iceGatheringState\n    log.debug(`Peer iceGatheringState changed to ${gatheringState}.`)\n\n    if (gatheringState === PEER.ICE_GATHERING_STATE.GATHERING) {\n      iceTimer.start()\n      // TODO: Handle \"ICE collection taking too long\" scenario.\n    } else if (gatheringState === PEER.ICE_GATHERING_STATE.COMPLETE) {\n      log.debug(`Peer took ${iceTimer.timeFromStart()}ms to collect ICE candidates.`)\n      iceTimer.stop()\n    }\n    // Bubble the event up.\n    listener(event)\n  }\n\n  return true\n}\n","import onicecandidate from './icecandidate'\nimport oniceconnectionstatechange from './iceconnectionstatechange'\nimport onicegatheringstatechange from './icegatheringstatechange'\nimport onnegotiationneeded from './negotiationneeded'\nimport onsignalingstatechange from './signalingstatechange'\nimport ontrack from './track'\n\nexport default {\n  onicecandidate,\n  oniceconnectionstatechange,\n  onicegatheringstatechange,\n  onnegotiationneeded,\n  onsignalingstatechange,\n  ontrack\n}\n","/**\n * Event wrapper for `negotiationneeded` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onnegotiationneeded\n * @method onnegotiationneeded\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onnegotiationneeded (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.onnegotiationneeded = function (event) {\n    log.debug('Peer received negotiationneeded event.')\n    listener(event)\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `signalingstatechange` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/onsignalingstatechange\n * @method onsignalingstatechange\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function onsignalingstatechange (listener) {\n  const { nativePeer, log } = this\n\n  nativePeer.onsignalingstatechange = function (event) {\n    log.debug(`Peer received signalingstatechange event: ${nativePeer.signalingState}`)\n    listener(event)\n  }\n\n  return true\n}\n","/**\n * Event wrapper for `track` event.\n * Reference: developer.mozilla.org/en-US/docs/Web/API/RTCPeerConnection/ontrack\n * @method ontrack\n * @param  {Function} listener The listener function for the event.\n * @return {Boolean}  Whether the assignment succeeded or not.\n */\nexport default function ontrack (listener) {\n  const { proxyPeer, nativePeer, trackManager, log } = this\n\n  nativePeer.ontrack = event => {\n    /**\n     * transceiver: The RTCRtpTransceiver for this remote track. (Available in unified-plan)\n     * receiver: The RTCRtpReceiver for this remote track.\n     * track: The remote MediaStreamTrack.\n     * streams: Array of MediaStreams the track is in.\n     */\n    // event object contains transceiver which already has track attached to its receiver\n    const { track: nativeTrack, streams, transceiver } = event\n    log.debug(`Peer received ${nativeTrack.kind} Track ${nativeTrack.id}.`)\n\n    if (!proxyPeer.transceivers.find(tran => tran.mid === transceiver.mid)) {\n      // If we are not already tracking this Transceiver in the Peer model, then add it.\n      proxyPeer.transceivers.push(transceiver)\n    }\n\n    /*\n     * When the remote side adds a track, it should have an associated MediaStream\n     *    which we get access to here. This allows us to listen for events on that\n     *    MediaStream (important for knowing when the track has ended).\n     * It's possible that the remote Sender does not have a Stream set, so we create\n     *    a Stream for it. This should be considered a problematic scenario, since\n     *    we rely on the remote Stream for certain events.\n     * Reference: KAA-2628\n     */\n    let targetStream\n    if (streams.length === 0) {\n      targetStream = new MediaStream([nativeTrack])\n      log.debug('New Track is not associated with remote Stream.')\n    } else {\n      targetStream = streams[0]\n      log.debug(`New Track is associated with remote Stream ${targetStream.id}.`)\n    }\n\n    // Convert the native MediaStreamTrack into a Track object.\n    // Specify that this is not a local one (i.e. it's a remote track)\n    const track = trackManager.add(nativeTrack, targetStream, false)\n\n    listener(track)\n  }\n\n  return true\n}\n","/*\n * Wrapper imports.\n * Events, methods, and properties that we want to wrap/add to the native Peer.\n */\nimport events from './events'\nimport methods from './methods'\nimport properties from './properties'\n\nimport { mergeValues } from '../utils'\nimport defaults from './config'\nimport { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\nimport { createTimer } from './utils/timer'\n\n/**\n * Create a Proxied Peer.\n * This Peer is a native PeerConnection that has had some new functionality\n *    added and some existing functionality \"augmented\". Where an event, a\n *    method, or a property has been defined (see folders), we intercept/add\n *    that functionality.\n * @method peer\n * @return {Peer}\n */\nexport default function peer (id, config = {}, trackManager) {\n  const log = logManager.getLogger('Peer', id)\n  config = mergeValues(defaults, config)\n  log.info('Creating new Peer.')\n\n  const iceTimer = createTimer()\n  const emitter = new EventEmitter()\n\n  // Create the native Peer.\n  log.debug('Creating native PeerConnection.', config.rtcConfig)\n  const nativePeer = new RTCPeerConnection(config.rtcConfig, { optional: [{ googDscp: true }] })\n\n  // Add the event emitter methods to the wrapped methods as well.\n  const customMethods = {\n    ...methods,\n    on: emitter.on.bind(emitter),\n    off: emitter.off.bind(emitter),\n    once: emitter.once.bind(emitter)\n  }\n\n  /**\n   * The Peer model.\n   * @typedef {Peer}\n   * @property {RTCPeerConnection} peer     The native PeerConnection.\n   * @property {string}            id       The unique identifier for the Peer.\n   * @property {boolean}           dtlsRole The DTLS role selected for this PeerConnection. Set after the initial negotiation is completed.\n   * @property {Object}            trackManager Manager that tracks all MediaStreamTracks.\n   * @property {Object}            log      Logger specific to this Peer.\n   * @property {Object}            iceTimer Timer tool (specifically for ICE collection).\n   * @property {EventEmitter}      emitter\n   * @property {Array<RTCIceCandidate>} iceCandidates Gathered candidates.\n   * @property {timeoutID} [iceLoop] Reference to the on-going ICE collection loop.\n   * @property {Array<RTCRtpTransceiver>} transceivers List of transceivers on the peer.\n   */\n  const base = {\n    nativePeer,\n    proxyPeer: undefined,\n    id,\n    dtlsRole: null,\n    config,\n    trackManager,\n    log,\n    iceTimer,\n    emitter,\n    iceCandidates: [],\n    iceLoop: undefined,\n    transceivers: []\n  }\n\n  /**\n   * Create the Proxy object that will be used as the PeerConnection.\n   *\n   * This will intercept all `get` and `set` operations and either forward them\n   *    directly to the real PeerConnection or to our wrapped operations.\n   * This allows us to shim part or all of the PeerConnection's API. We can\n   *    decide which operations we want to intercept while allowing others to\n   *    pass through unchanged.\n   */\n  base.proxyPeer = new Proxy(base, {\n    /**\n     * Intercept \"get\" calls on the Proxy.\n     * This function is called anytime a property on `base` is accessed,\n     *    eg. `base.someProp`\n     * @param {Object} target    base\n     * @param {string} prop      Property being accessed.\n     * @param {Object} receiver  The Proxy object.\n     */\n    get: function (target, prop, receiver) {\n      if (typeof base.nativePeer[prop] === 'function') {\n        /*\n         * If a function is being accessed, determine whether we want to\n         *    return the native function or our own.\n         */\n        if (Object.keys(customMethods).includes(prop)) {\n          // Return our wrapped version of the original function.\n          return customMethods[prop].bind(base)\n        } else {\n          // Return the original function, bound to have the original context.\n          return base.nativePeer[prop].bind(base.nativePeer)\n        }\n      } else if (customMethods[prop] && typeof customMethods[prop] === 'function') {\n        /*\n         * If a non-native function is being accessed, return our custom method.\n         * These are methods that are not on the native RTCPeerConnection\n         *    object, but we added to the old Peer model.\n         */\n        // TODO: Move all of this functionality to a higher level of abstraction.\n        return customMethods[prop].bind(base)\n      } else if (properties[prop]) {\n        /*\n         * If a PeerConnection property is being accessed, and we have a\n         *    wrapping for it, return our wrapper property.\n         */\n        if (typeof properties[prop] === 'function') {\n          // If our property wrapper is a function, call the function and return\n          //    the results.\n          return properties[prop].bind(base)()\n        } else {\n          // Otherwise, just return the original results.\n          return base.nativePeer[prop]\n        }\n      } else if (prop !== 'nativePeer' && base[prop]) {\n        /*\n         * If a Peer model property, other than the peer, is being accessed,\n         *    return it. The Peer model shouldn't have any properties that the\n         *    PeerConnection also has (to avoid conflicts).\n         */\n        return base[prop]\n      } else {\n        // Otherwise, return the property from the PeerConnection itself.\n        return base.nativePeer[prop]\n      }\n    },\n\n    /**\n     * Intercept \"set\" calls on the Proxy.\n     * This function is called anytime a property on `base` is assigned,\n     *    eg. `base.someProp = value`\n     * @method\n     * @param  {Object} target   base\n     * @param  {string} prop     Property being set.\n     * @param  {Any}    value    The value being set.\n     * @param  {Proxy}  receiver The Proxy object.\n     * @return {boolean}         Whether the assignment succeeded or not.\n     */\n    set: function (target, prop, value, receiver) {\n      if (events[prop]) {\n        // If a value is being set on one of our \"wrapped events\", then call\n        //    the \"event function\".\n        return events[prop].bind(base)(value)\n      } else if (prop === 'dtlsRole') {\n        /**\n         * Only allow the `dtlsRole` property of the Peer model be set. The\n         *    Session needs to be able to get/set this property, in the case\n         *    where it recreates the Peer multiple times, so it needs to set the\n         *    role to something specific.\n         * Reference: KAA-1816\n         */\n        base.dtlsRole = value\n        return true\n      } else {\n        // Otherwise, try to set the value on the native Peer.\n        return Reflect.set(base.nativePeer, prop, value)\n      }\n    }\n  })\n\n  /**\n   * For event debugging purposes, start with a dummy listener for every event.\n   *    This ensures our Proxy is listening for the events (in the case nothing\n   *    else is listening), so that debug information from the event wrappers\n   *    are logged.\n   */\n  for (const eventName in events) {\n    base.proxyPeer[eventName] = () => {}\n  }\n\n  return base.proxyPeer\n}\n","/**\n * Add an ICE candidate to the connection.\n * @method addIceCandidate\n * @param  {RTCIceCandidate} candidate A native candidate object.\n * @return {Promise} Resolves when the candidate is successfully added.\n */\nexport default function addIceCandidate (candidate) {\n  const { nativePeer, proxyPeer, id, log } = this\n  log.info('Adding ICE candidate.')\n\n  return new Promise((resolve, reject) => {\n    if (proxyPeer.remoteDescription.type && proxyPeer.remoteDescription.sdp) {\n      nativePeer\n        .addIceCandidate(candidate)\n        .then(resolve)\n        .catch(reject)\n    } else {\n      log.info('Cannot set remote ICE candidate without a remote description.')\n      // TODO: Better error.\n      reject(new Error(`Peer ${id} cannot set remote ICE candidate without a remote description.`))\n    }\n  })\n}\n","/**\n * Add a Transceiver to the connection.\n * @method addTransceiver\n * @param  {Track} track A Track object.\n * @return {RTCRtpTransceiver}\n */\nexport default function addTransceiver (track) {\n  const { proxyPeer, nativePeer, log } = this\n  log.info(`Adding new ${track.track.kind} track.`)\n\n  let transceiver\n  try {\n    transceiver = nativePeer.addTransceiver(track.track, { direction: 'sendrecv', streams: [track.getStream()] })\n    // Store the reference to the Transceiver on our Peer as well.\n    proxyPeer.transceivers.push(transceiver)\n  } catch (err) {\n    // TODO: Better error handling.\n    log.info(`Failed to add track: ${err.message}`)\n  }\n\n  // TODO: What to return here? Probably shouldn't expose the transceiver itself.\n  return transceiver\n}\n","/**\n * Clean the Peer by closing the RTCPeerConnection.\n * @method close\n */\nexport default function close () {\n  const { nativePeer, id, emitter, iceLoop, log } = this\n  log.info('Closing Peer.')\n\n  if (iceLoop) {\n    // Clear the ICE collection loop timeout if it exists.\n    clearTimeout(iceLoop)\n  }\n\n  nativePeer.close()\n  emitter.emit('peer:closed', id)\n}\n","import { PEER } from '../../constants'\n\nimport { runPipeline } from '../../sdpUtils/pipeline'\nimport { removeTrickleIce, removeBundling, changeMediaDirection, preventDtlsRoleChange } from '../../sdpUtils/handlers'\n\n/**\n * Creates an SDP answer, given that a remote offer has been set.\n * @method createAnswer\n * @param  {RTCAnswerOptions} [options={}] Options used to customize the answer.\n * @param  {Object} [options.mediaDirections] Directions to use for media.\n * @param  {string} [options.mediaDirections.audio]\n * @param  {string} [options.mediaDirections.video]\n * @return {Promise} Resolves with the answer.\n */\nexport default function createAnswer (options = {}) {\n  const { nativePeer, config, dtlsRole, log } = this\n  log.info('Creating local answer.')\n\n  // Remove options.mediaDirections.\n  // This is because directions are now set in transceivers.\n  delete options.mediaDirections\n\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .createAnswer(options)\n      .then(answer => {\n        const sdpHandlers = []\n\n        /*\n         * Always include the `preventDtlsRoleChange` handler. This ensures\n         *    that the SDP's DTLS role does not change during a renegotiation.\n         */\n        sdpHandlers.push(preventDtlsRoleChange)\n\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.NONE) {\n          // Modify the answer to claim the Peer doesn't support trickle ICE.\n          sdpHandlers.push(removeTrickleIce)\n        }\n        if (config.removeBundling) {\n          // Modify the offer to remove media bundling\n          sdpHandlers.push(removeBundling)\n        }\n        if (options.mediaDirections) {\n          // Modify the answer to set media directions as desired.\n          sdpHandlers.push(changeMediaDirection(options.mediaDirections))\n        }\n        if (sdpHandlers.length > 0) {\n          // Run the SDP pipeline with only these handlers.\n          answer.sdp = runPipeline(sdpHandlers, answer.sdp, {\n            type: answer.type,\n            endpoint: PEER.ENDPOINT.LOCAL,\n            dtlsRole: dtlsRole\n          })\n        }\n\n        log.info('Finished creating local answer.')\n        resolve(answer)\n      })\n      .catch(reject)\n  })\n}\n","import { PEER } from '../../constants'\n\nimport { runPipeline } from '../../sdpUtils/pipeline'\nimport { removeTrickleIce, removeBundling, changeMediaDirection } from '../../sdpUtils/handlers'\n\n/**\n * Creates an SDP offer.\n * @method createOffer\n * @param  {RTCOfferOptions} [options={}] Options used to customize the offer.\n * @param  {Object} [options.mediaDirections] Directions to use for media.\n * @param  {string} [options.mediaDirections.audio]\n * @param  {string} [options.mediaDirections.video]\n * @return {Promise} Resolves with the offer.\n */\nexport default function createOffer (options = {}) {\n  const { nativePeer, config, log } = this\n  log.info('Creating local offer.')\n\n  // Remove options.mediaDirections.\n  // This is because directions are now set in transceivers.\n  delete options.mediaDirections\n\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .createOffer(options)\n      .then(offer => {\n        const sdpHandlers = []\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.NONE) {\n          // Modify the offer to claim the Peer doesn't support trickle ICE.\n          sdpHandlers.push(removeTrickleIce)\n        }\n        if (config.removeBundling) {\n          // Modify the offer to remove media bundling\n          sdpHandlers.push(removeBundling)\n        }\n        if (options.mediaDirections) {\n          // Modify the offer to set media directions as desired.\n          sdpHandlers.push(changeMediaDirection(options.mediaDirections))\n        }\n        if (sdpHandlers.length > 0) {\n          // Run the SDP pipeline with only these handlers.\n          offer.sdp = runPipeline(sdpHandlers, offer.sdp, {\n            type: offer.type,\n            endpoint: PEER.ENDPOINT.LOCAL\n          })\n        }\n\n        log.info('Finished creating local offer.')\n        resolve(offer)\n      })\n      .catch(reject)\n  })\n}\n","/**\n * Finds a transceiver that can be reused.\n * A transceiver can be reused if it satisfies the following conditions:\n *   - it does not have a track on its sender\n *   - it has the same kind (audio or video) as what we specified\n *   - it has been used before (if it has not been used then we are not \"reusing\" it)\n * @method findReusableTransceiver\n * @param {string} kind The kind of transceiver to find (audio or video)\n * @returns {Object} Transceiver object that matches kind, has no sender track, and has currentDirection. Otherwise undefined.\n */\nexport default function findReusableTransceiver (kind) {\n  const { proxyPeer } = this\n\n  const transceivers = proxyPeer.getTransceivers()\n  return transceivers.find(\n    transceiver =>\n      transceiver.sender.track == null &&\n      transceiver.receiver &&\n      transceiver.receiver.track &&\n      transceiver.receiver.track.kind === kind &&\n      // Ensure the transceiver is not stopped, it could be null if negotiation has not yet complete.\n      transceiver.currentDirection !== 'stopped'\n  )\n}\n","/**\n * Retrieve a snapshot of the Peer object's current state.\n * @method getState\n * @return {Object}\n */\nexport default function getState () {\n  const { proxyPeer, config, id } = this\n\n  return {\n    id,\n    config: config,\n    localDesc: proxyPeer.localDescription,\n    signalingState: proxyPeer.signalingState,\n    localTracks: proxyPeer.localTracks,\n    remoteTracks: proxyPeer.remoteTracks,\n    senderTracks: proxyPeer.senderTracks\n  }\n}\n","/**\n * Retrieve RTCStatsReport for a sender or the peerConnection.\n * @method getStats\n * @param {string} [TrackId] Return stats for peerConnection if trackId is not provided\n * @return {Promise} Resolves with the RTCStatsReport\n */\nexport default function getStats (trackId) {\n  const { nativePeer, proxyPeer, log } = this\n  log.info(`Getting stats ${trackId ? 'for track.' : '.'}`)\n  // If no trackId is supplied, get the stats from the RTCPeerConnection. Otherwise, find an RTCSender\n  // associated with the trackId and get the stats from it.\n\n  // Use the trackId if it was provided\n  if (trackId) {\n    return new Promise((resolve, reject) => {\n      const senders = proxyPeer.getSenders()\n      // search for a sender associated with the trackId\n      const sender = senders.find(sender => sender.track.id === trackId)\n      if (sender) {\n        sender\n          .getStats()\n          .then(resolve)\n          .catch(reject)\n      } else {\n        const errMsg = `Cannot find sender with trackId: ${trackId}`\n        log.info(errMsg)\n        reject(new Error(errMsg))\n      }\n    })\n  } else {\n    // get the stats associated with the peerConnection if no trackId is supplied\n    return nativePeer.getStats()\n  }\n}\n","/**\n * Retrieve the list of Transceivers on the Peer.\n * @method getTransceivers\n * @return {Array<RTCRtpTransceiver>}\n */\nexport default function getTransceivers () {\n  const { proxyPeer } = this\n\n  // Return our Peer's saved list of transceivers instead of using the native\n  //    getTransceivers API. This is for \"proxied webrtc\" mode, where a native\n  //    API call causes delays.\n  return proxyPeer.transceivers\n}\n","import addIceCandidate from './addIceCandidate'\nimport addTransceiver from './addTransceiver'\nimport close from './close'\nimport createAnswer from './createAnswer'\nimport createOffer from './createOffer'\nimport findReusableTransceiver from './findReusableTransceiver'\nimport getState from './getState'\nimport getStats from './getStats'\nimport getTransceivers from './getTransceivers'\nimport removeTrack from './removeTrack'\nimport replaceTrack from './replaceTrack'\nimport sendDTMF from './sendDTMF'\nimport setLocalDescription from './setLocalDescription'\nimport setRemoteDescription from './setRemoteDescription'\n\nconst methods = {\n  addIceCandidate,\n  addTransceiver,\n  close,\n  createAnswer,\n  createOffer,\n  findReusableTransceiver,\n  getState,\n  getStats,\n  getTransceivers,\n  removeTrack,\n  replaceTrack,\n  sendDTMF,\n  setLocalDescription,\n  setRemoteDescription\n}\n\nexport default methods\n","/**\n * Remove a Track from the connection.\n * @method removeTrack\n * @param  {string} trackId An id for a Track object.\n */\nexport default function removeTrack (trackId) {\n  const { nativePeer, proxyPeer, log } = this\n  log.info(`Removing track ${trackId}.`)\n\n  const track = proxyPeer.senderTracks.find(track => track.id === trackId)\n  if (!track) {\n    log.info(`Invalid track ID ${trackId}; no such track found.`)\n    return\n  } else if (proxyPeer.signalingState === ' closed') {\n    log.info('Peer is closed; cannot remove track.')\n    return\n  }\n\n  // Get the RtpSender for the Track we want to remove.\n  const sender = proxyPeer\n    .getSenders()\n    .filter(sender => sender.track !== null)\n    .find(sender => sender.track.id === trackId)\n  nativePeer.removeTrack(sender)\n}\n","/**\n * Replaces a specified transceiver's sender.track.\n * @method replaceTrack\n * @param {Object} newTrack The MediaStreamTrack we want to place into the sender.\n * @param {Object} options Options for specifying which transceiver's sender should be replaced. They are ordered by priority.\n * @param {Array} [options.trackId] The track id whose transceivers we want to set the direction of.\n * @return {Object} A Promise object which is fulfilled once the track has been replaced\n */\nexport default function replaceTrack (newTrack, options) {\n  const { proxyPeer, log } = this\n  log.info(`Replacing track ${options.trackId} with new ${newTrack.kind} track.`)\n\n  return new Promise((resolve, reject) => {\n    // Find the transceiver related to the provided track ID.\n    const targetTransceiver = proxyPeer\n      .getTransceivers()\n      .find(transceiver => transceiver.sender.track && transceiver.sender.track.id === options.trackId)\n\n    const sender = targetTransceiver ? targetTransceiver.sender : undefined\n\n    if (sender) {\n      sender\n        .replaceTrack(newTrack)\n        .then(resolve)\n        .catch(error => {\n          log.info(`Failed to replace track; ${error.message}`)\n          reject(error)\n        })\n    } else {\n      log.info(`Failed to replace track; could not find track ${options.trackId}.`)\n      reject(new Error(`Sender for track ${options.trackId} not found.`))\n    }\n  })\n}\n","/**\n * Send DTMF tones.\n * @method sendDTMF\n * @param {Object} DTMFOptions The DTMF options.\n * @param {string} DTMFOptions.tone DTMF tone to send. Valid values are [0,1,2,3,4,5,6,7,8,9,#].\n * @param {number} DTMFOptions.duration=100 The amount of time, in milliseconds, that each DTMF tone should last.\n * @param {number} DTMFOptions.intertoneGap=70 The length of time, in milliseconds, to wait between tones.\n * @param {Object} [sendOptions] The send options.\n * @param {func} [sendOptions.callback] Optional callback for tone event .\n * @param {string} [sendOptions.trackId] The trackId of the sender to use.\n * @return {Boolean} Whether the DTMF tones were inserted\n */\nexport default function sendDTMF ({ tone, duration = 100, intertoneGap = 70 }, { callback, trackId }) {\n  const { proxyPeer, log } = this\n  log.info('Sending DTMF tones.', tone)\n\n  if (!proxyPeer.getSenders) {\n    log.info('Failed to send tones; getSenders is not supported by this browser.')\n    return false\n  }\n  const senders = proxyPeer.getSenders()\n  // Use the trackId if it was provided\n  if (trackId) {\n    const sender = senders.find(sender => sender.track.id === trackId)\n    if (!sender) {\n      log.info(`Failed to send tones; could not find track ${trackId}.`)\n      return false\n    }\n    insertDTMF(sender, tone, duration, intertoneGap, callback, log)\n    return true\n  } else {\n    let result\n    for (let i = 0; i < senders.length; i++) {\n      result = insertDTMF(senders[i], tone, duration, intertoneGap, callback, log)\n      if (result) {\n        return true\n      }\n    }\n\n    log.info('Failed to send tones; could not find an appropriate track.')\n    return false\n  }\n}\n\n/**\n * Helper function to sendDTMF tones .\n * @private\n * @method insertDTMF\n * @param {sender} object\n * @param {string} tone\n * @param {number} duration\n * @param {number} intertoneGap\n * @param {Function} callback\n */\nfunction insertDTMF (sender, tone, duration, intertoneGap, callback, log) {\n  /**\n   * Event handler when tone is played.\n   * @private\n   * @method handleToneChangeEvent\n   * @param  {event} event\n   */\n  function handleToneChangeEvent (event) {\n    if (event.tone !== '') {\n      log.debug('Tone played: ' + event.tone)\n    } else {\n      log.debug('All tones have played.')\n    }\n  }\n\n  if (sender.dtmf) {\n    const dtmfSender = sender.dtmf\n    if (callback) {\n      dtmfSender.ontonechange = callback\n    } else {\n      dtmfSender.ontonechange = handleToneChangeEvent\n    }\n    try {\n      dtmfSender.insertDTMF(tone, duration, intertoneGap)\n      return true\n    } catch (err) {\n      log.debug(err.message)\n      return false\n    }\n  } else {\n    log.debug('The sender requires DTMF which is not support by this browser.')\n    return false\n  }\n}\n","import { PEER } from '../../constants'\n\n// Utils.\nimport iceCollectionScheduledCheck from '../utils/iceCollectionScheduledCheck'\n\n/**\n * Sets an SDP as the local description of the connection.\n * The returned Promise will resolve when the Peer is ready for negotiation,\n *    taking into account the Peer's `trickleIceMode` configuration.\n * @method setLocalDescription\n * @param  {RTCSessionDescription} sessionDesc\n * @return {Promise}\n */\nexport default function setLocalDescription (desc) {\n  const { nativePeer, proxyPeer, config, id, emitter, iceTimer, log } = this\n\n  // TODO: SDP pipeline here.\n  log.info(`Setting local description ${desc.type} in ${proxyPeer.signalingState} state.`)\n  log.debug(`Setting local description ${desc.type}:`, desc.sdp)\n\n  /**\n   * Scenario: A local answer SDP is being applied to the Peer, but it does\n   *    not have a selected DTLS role yet. This should occur during initial\n   *    negotiation, before responding with this Peer's answer.\n   * Set the local Peer's DTLS role depending on what role was generated. This\n   *    role will be kept throughout all renegotiations.\n   */\n  if (!this.dtlsRole && desc.type === 'answer') {\n    const dtlsMatch = desc.sdp.match(/a=setup:(\\w*?)[\\r\\n]/)\n    if (dtlsMatch) {\n      log.debug(`Selecting DTLS role ${dtlsMatch[1]}.`)\n      this.dtlsRole = dtlsMatch[1]\n    }\n  }\n\n  return new Promise((resolve, reject) => {\n    // We always want to wait for the PeerConnection to be ready for\n    //    negotiation before resolving setLocalDescription.\n    // Each trickle ICE option (FULL/HALF/NONE) emits \"negotiation ready\" event once.\n    emitter.once('onnegotiationready', () => {\n      if (iceTimer.isStarted()) {\n        // In a HALF trickle scenario, the Peer will be ready for negotiation\n        //    before ICE collection has completed. Log that timing.\n        log.debug(`Took ${iceTimer.timeFromStart()}ms to collect ICE candidates before negotiation.`)\n      }\n      resolve()\n    })\n\n    nativePeer\n      .setLocalDescription(desc)\n      .then(() => {\n        log.info('Finished setting local description.')\n        log.debug(`State is now ${proxyPeer.signalingState}.`)\n\n        if (config.trickleIceMode === PEER.TRICKLE_ICE.FULL) {\n          // Trickling ICE candidates means that we can begin negotiation immediately.\n          log.debug('Ready for negotiation (full trickleICE).')\n          emitter.emit('onnegotiationready')\n        } else {\n          // ICE candidates aren't always gathered (only initially and when something\n          //    changes), but we rely on \"gathering complete\" to know when the Peer is\n          //    ready for negotiation. Give the Peer some time to start gathering\n          //    before deciding if we need to wait for gathering to complete or not.\n          // The timeout is needed because of a bug in Chrome:\n          //    https://bugs.chromium.org/p/webrtc/issues/detail?id=1873\n          // Known issue: If candidate collection takes less time than this timeout,\n          //    the logged message will be incorrect, but will functionally still work.\n          setTimeout(() => {\n            if (proxyPeer.iceGatheringState === 'complete') {\n              // Gathering is \"complete\", so we are ready for negotiation.\n              log.debug('Ready for negotiation; ICE candidate collection not needed.')\n              emitter.emit('onnegotiationready')\n            } else {\n              log.debug(`Waiting for ICE collection process (${config.trickleIceMode}).`)\n              // Register the ice collection check function callback to start the candidate collection\n              //  looping process\n              proxyPeer.isIceCollectionCheckOngoing = true\n              iceCollectionScheduledCheck(this)\n            }\n          }, 25)\n        }\n      })\n      .catch(err => {\n        log.info('Failed to set local description.')\n        log.debug(`Peer ${id}: ${err}`)\n        // Parse native error. Make it more understand and/or\n        //    provide a better log about what went wrong.\n        reject(err)\n      })\n  })\n}\n","/**\n * Sets an SDP as the remote description of the connection.\n * @method setRemoteDescription\n * @param  {RTCSessionDescription} sessionDesc\n */\nexport default function setRemoteDescription (desc) {\n  const { nativePeer, proxyPeer, id, log } = this\n\n  // TODO: SDP pipeline here.\n  log.info(`Setting remote description ${desc.type} in ${proxyPeer.signalingState} state.`)\n  log.debug(`Setting remote description ${desc.type}:`, desc.sdp)\n\n  /**\n   * Scenario: A remote answer SDP is being applied to the Peer, but it does\n   *    not have a selected DTLS role yet. This should occur only when the\n   *    initial negotiation is being completed.\n   * Set the local Peer's DTLS role depending on what the remote Peer\n   *    selected. This role will be kept throughout all renegotiations.\n   */\n  if (!this.dtlsRole && desc.type === 'answer') {\n    const dtlsMatch = desc.sdp.match(/a=setup:(\\w*?)[\\r\\n]/)\n    if (dtlsMatch) {\n      const localRole = dtlsMatch[1] === 'active' ? 'passive' : 'active'\n      log.debug(`Selecting DTLS role ${localRole}. Remote Peer selected ${dtlsMatch[1]} DTLS role.`)\n      this.dtlsRole = localRole\n    }\n  }\n\n  // TODO: Update `config.trickleIceMode` to either NONE or FULL (from HALF)\n  //    depending on remote support, since HALF is only needed for initial.\n  return new Promise((resolve, reject) => {\n    nativePeer\n      .setRemoteDescription(desc)\n      .then(() => {\n        log.info('Finished setting remote description.')\n        log.debug(`State is now ${proxyPeer.signalingState}.`)\n        resolve()\n      })\n      .catch(err => {\n        log.info('Failed to set remote description.')\n        log.debug(`Peer ${id}: ${err}`)\n        // Parse native error. Make it more understand and/or\n        //    provide a better log about what went wrong.\n        reject(err)\n      })\n  })\n}\n","import localDescription from './localDescription'\nimport localTracks from './localTracks'\nimport remoteDescription from './remoteDescription'\nimport remoteTracks from './remoteTracksActive'\nimport remoteTracksAll from './remoteTracks'\nimport senderTracks from './senderTracks'\n\nexport default { localDescription, localTracks, remoteDescription, remoteTracks, remoteTracksAll, senderTracks }\n","/**\n * The SDP for the local end of the connection.\n * @method getLocalDescription\n */\nexport default function getLocalDescription () {\n  const { nativePeer, log } = this\n  log.info('Getting local description.')\n\n  const localDesc = nativePeer.localDescription\n  /*\n   * Ensure it is a RTCSessionDescription object.\n   * In some scenarios (based on browser?), it may return an empty object\n   *    instead of undefined when there is no local description.\n   * TODO: Determine if this is still needed, or if we can use the native\n   *    property directly.\n   */\n  if (localDesc && localDesc.sdp && localDesc.type) {\n    return localDesc\n  } else {\n    return undefined\n  }\n}\n","/**\n * @method getLocalTracks\n * @return {Array} List of active Track objects added to the Peer locally.\n */\nexport default function localTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting local tracks.')\n\n  // Return the list of Tracks from active senders.\n  return (\n    proxyPeer\n      .getSenders()\n      /**\n       * Remove any Senders that do not have an associated track.\n       * We only want to retrieve Senders that do have tracks, because those are\n       *    the local tracks that have been added to the Peer.\n       * Senders without tracks are part of a Transceiver where the Receiver has\n       *    a remote track, but no local track has been added to it. We don't\n       *    care about this for the \"get local tracks\" operation.\n       */\n      .filter(sender => Boolean(sender.track))\n      .map(sender => trackManager.get(sender.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track and that its active.\n        // It's possible that Peer has the sender but not the actual track yet.\n        return track && track.getState().state === 'live' && track.getStream().active\n      })\n  )\n}\n","/**\n * The SDP for the remote end of the connection.\n * @method getRemoteDescription\n */\nexport default function getRemoteDescription () {\n  const { nativePeer, log } = this\n  log.info('Getting remote description.')\n\n  const remoteDesc = nativePeer.remoteDescription\n  /*\n   * Ensure it is a RTCSessionDescription object.\n   * In some scenarios (based on browser?), it may return an empty object\n   *    instead of undefined when there is no local description.\n   * TODO: Determine if this is still needed, or if we can use the native\n   *    property directly.\n   */\n  if (remoteDesc && remoteDesc.sdp && remoteDesc.type) {\n    return remoteDesc\n  } else {\n    return undefined\n  }\n}\n","/**\n * @method getRemoteTracks\n * @return {Array} List of active Track objects the Peer has received remotely.\n */\nexport default function getRemoteTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting remote tracks.')\n\n  // Return the list of Tracks from active receivers.\n  return (\n    proxyPeer\n      .getReceivers()\n      /**\n       * Remove any Receivers that do not have an associated track.\n       * We only want to retrieve Receivers that do have tracks, because those are\n       *    the remote tracks that have been added to the Peer.\n       * Receivers without tracks are part of a Transceiver where the Sender has\n       *    a local track, but no remote track has been added to it. We don't\n       *    care about this for the \"get remote tracks\" operation.\n       */\n      .filter(receiver => Boolean(receiver.track))\n      .map(receiver => trackManager.get(receiver.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track\n        return track && track.getState().state === 'live'\n      })\n  )\n}\n","/**\n * @method getRemoteTracks\n * @return {Array} List of active Track objects the Peer has received remotely.\n */\nexport default function getRemoteTracks () {\n  const { proxyPeer, trackManager, log } = this\n  log.info('Getting remote tracks.')\n\n  // Return the list of Tracks from active receivers.\n  return (\n    proxyPeer\n      .getReceivers()\n      /**\n       * Remove any Receivers that do not have an associated track.\n       * We only want to retrieve Receivers that do have tracks, because those are\n       *    the remote tracks that have been added to the Peer.\n       * Receivers without tracks are part of a Transceiver where the Sender has\n       *    a local track, but no remote track has been added to it. We don't\n       *    care about this for the \"get remote tracks\" operation.\n       */\n      .filter(receiver => Boolean(receiver.track))\n      .map(receiver => trackManager.get(receiver.track.id))\n      .filter(track => {\n        // Make sure the trackManager has the track and that its active.\n        // It's possible that Peer has the receiver but not the actual track yet.\n        return track && track.getState().state === 'live' && track.getStream().active\n      })\n  )\n}\n","/**\n * This method is similar to the `localTracks` method, however this method returns\n *  all of the sender's tracks (ended or not) rather than just the active/live ones.\n *\n * @method senderTracks\n * @return {Array} List of Track objects added to the Peer locally.\n */\nexport default function senderTracks () {\n  const { proxyPeer, log } = this\n  log.info('Getting sender tracks.')\n\n  // Return the list of Tracks from senders.\n  return (\n    proxyPeer\n      .getSenders()\n      /**\n       * Remove any Senders that do not have an associated track.\n       * We only want to retrieve Senders that do have tracks, because those are\n       *    the local tracks that have been added to the Peer.\n       * Senders without tracks are part of a Transceiver where the Receiver has\n       *    a remote track, but no local track has been added to it. We don't\n       *    care about this for the \"get local tracks\" operation.\n       */\n      .filter(sender => Boolean(sender.track))\n      .map(sender => sender.track)\n  )\n}\n","/**\n *\n * Util for emitting an event with the necessary peer information for the ice\n * collection scheduled check.\n * @method iceCollectionScheduledCheck\n * @param {Object} proxyBase The \"base\" of the Proxy Peer object.\n */\nexport default function iceCollectionScheduledCheck (proxyBase) {\n  const { proxyPeer, iceTimer, iceCandidates, emitter, config } = proxyBase\n\n  // The time, in milliseconds, that ICE collection has taken so far.\n  const elapsedTime = iceTimer.timeFromStart()\n\n  emitter.emit('scheduledCheck', {\n    iceCollectionDuration: elapsedTime,\n    iceCandidates,\n    iceGatheringState: proxyPeer.iceGatheringState,\n    rtcPeerConnectionConfig: config,\n    rtcLocalSessionDescription: proxyPeer.localDescription\n  })\n}\n","/**\n * Prototype for a timer object that can keep time and be stopped and started.\n */\nconst timerPrototype = {\n  /**\n   * Start the timer\n   * @returns {boolean} True if the timer was successfully started, false if it was already started.\n   */\n  start () {\n    if (!this.isStarted()) {\n      this._startTime = now()\n      return true\n    }\n    return false\n  },\n\n  /**\n   * Stops the timer\n   * @returns {boolean} True if the timer was successfully stopped, false if it was already stopped.\n   */\n  stop () {\n    if (this.isStarted()) {\n      this._startTime = undefined\n      return true\n    }\n\n    return false\n  },\n\n  /**\n   * @returns {boolean} True if the timer is started, false otherwise.\n   */\n  isStarted () {\n    return Boolean(this._startTime)\n  },\n\n  /**\n   * @returns {number} The time in milliseconds since the timer was started, or 0 if it wasn't started.\n   */\n  timeFromStart () {\n    return this.isStarted() ? now() - this._startTime : 0\n  }\n}\n\n/**\n * @returns A timestamp in milliseconds since the unix-epoch\n */\nfunction now () {\n  return new Date().getTime()\n}\n\n/**\n * Create a new timer object. Timers are not started when created and need to be started manually.\n *\n * @returns {Object} The timer object that supports the timer interface.\n */\nexport function createTimer () {\n  return Object.create(timerPrototype)\n}\n","/**\n * Constants relating to the Peer model.\n */\nexport const PEER = {\n  TRICKLE_ICE: {\n    FULL: 'FULL',\n    HALF: 'HALF',\n    NONE: 'NONE'\n  },\n  // Defined by the RTCPeerConnection.iceGatheringState spec.\n  ICE_GATHERING_STATE: {\n    NEW: 'new',\n    GATHERING: 'gathering',\n    COMPLETE: 'complete'\n  },\n  ENDPOINT: {\n    LOCAL: 'local',\n    REMOTE: 'remote'\n  }\n}\n\n/**\n * SDP constants for media direction.\n * @type {Object}\n */\nexport const MEDIA_DIR = {\n  INACTIVE: 'inactive',\n  SEND_ONLY: 'sendonly',\n  RECV_ONLY: 'recvonly',\n  SEND_RECV: 'sendrecv'\n}\n\n/**\n * Reasons for calling the Ice Collection Check function.\n * @name ICE_COLLECTION_CHECK_REASONS\n */\nexport const ICE_COLLECTION_CHECK_REASONS = {\n  ICE_GATHERING_STATE_CHANGE: 'IceGatheringStateChanged',\n  NEW_CANDIDATE: 'NewCandidate',\n  SCHEDULED: 'Scheduled'\n}\n\n/**\n * Result types for the Ice Collection Check Function.\n * @name ICE_COLLECTION_RESULT_TYPES\n */\nexport const ICE_COLLECTION_RESULT_TYPES = {\n  START_CALL: 'StartCall',\n  WAIT: 'Wait',\n  ERROR: 'Error'\n}\n","// Models.\nimport Track from '../models/track'\nimport Media from '../models/media'\nimport Peer from '../Peer'\n\n// Managers.\nimport MediaManager from '../managers/mediaManager'\nimport PeerManager from '../managers/peerManager'\nimport SessionManager from '../managers/sessionManager'\nimport DeviceManager from '../managers/deviceManager'\nimport TrackManager from '../managers/trackManager'\nimport WebRTCManager from '../managers/webrtcManager'\nimport Renderer from '../managers/renderer'\n\nimport { logManager } from '../logs'\n\n// SDP helpers.\nimport sdpPipeline from '../sdpUtils/pipeline'\nimport * as sdpHandlers from '../sdpUtils/handlers'\n\n// Utils\nimport { getBrowserDetails as getDetails } from '../utils'\n\n// Re-export this function so it can be used directly instead of through the\n//    initialized WebrtcStack. It is renamed because of weird import/export behaviour.\nexport const getBrowserDetails = getDetails\n\n/**\n * @returns An dictionary of features that are supported on this platform.\n */\nexport function getWebRTCSupportCapabilities () {\n  return {\n    mediaDevices: Boolean(navigator.mediaDevices),\n    peerConnection: Boolean(window.RTCPeerConnection)\n  }\n}\n\nexport default function initialize () {\n  const log = logManager.getLogger('WebRTC')\n\n  const browserDetails = getBrowserDetails()\n  if (browserDetails.version) {\n    log.debug(`Browser details: ${browserDetails.browser}, version ${browserDetails.version}.`)\n  } else {\n    log.debug('Browser details: Not supported by webRTC adapter.')\n  }\n\n  const renderer = new Renderer()\n  const deviceManager = new DeviceManager()\n  const trackManager = new TrackManager()\n  const mediaManager = new MediaManager({ trackManager })\n  const peerManager = new PeerManager({ trackManager })\n  const sessionManager = new SessionManager({\n    peerManager,\n    mediaManager,\n    trackManager,\n    deviceManager\n  })\n  const webrtcManager = new WebRTCManager()\n\n  return {\n    models: {\n      Track,\n      Media,\n      Peer\n    },\n    // TODO: Make naming consistent.\n    managers: {\n      devices: deviceManager,\n      media: mediaManager,\n      peerManager: peerManager,\n      sessionManager,\n      track: trackManager,\n      // Give access to the Log Manager.\n      // TODO: Don't include it under managers. It's here now because of\n      //    ProxyStack annoyingness.\n      logs: logManager,\n      webrtcManager,\n      renderer\n    },\n    sdp: {\n      pipeline: sdpPipeline,\n      handlers: sdpHandlers\n    },\n    // Export this on the webRTC stack for backwards compatibility.\n    getBrowserDetails\n  }\n}\n","import createManager from 'kandy-logger'\n\nconst manager = createManager({ level: 'DEBUG' })\nexport const logManager = manager\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/*\n * A conversion from MediaDeviceInfo.kind values to their more common terms.\n * See: https://developer.mozilla.org/en-US/docs/Web/API/MediaDeviceInfo/kind\n * @enum {String}\n */\nexport const WEBRTC_DEVICE_KINDS = {\n  audioinput: 'microphone',\n  videoinput: 'camera',\n  audiooutput: 'speaker'\n}\n\n/**\n * Manager for connected devices.\n * Keeps an up-to-date list of all devices.\n * @class DeviceManager\n */\nexport default function DeviceManager () {\n  const log = logManager.getLogger('Manager', 'Device')\n\n  // Internal variables.\n  const emitter = new EventEmitter()\n  // Store each device type separately, so that `deviceId` is unique\n  //    per kind (there is a `default` deviceId per kind).\n  let microphone = []\n  let camera = []\n  let speaker = []\n\n  // Check devices on initialization.\n  checkDevices().then(() => {\n    // Emit an initial event to notify that devices are available.\n    emitter.emit('change')\n  })\n\n  // Check devices whenever they change.\n  let isListening = true\n  let recentDeviceChange = false\n  navigator.mediaDevices.addEventListener('devicechange', () => {\n    log.info('Media device change detected.')\n\n    // A physical device change results in one event per\n    //    device \"kind\". Group the events together.\n    // Only emit an event if the Manager is supposed to\n    //    be listening for changes.\n    if (!recentDeviceChange && isListening) {\n      recentDeviceChange = true\n      setTimeout(() => {\n        recentDeviceChange = false\n        checkDevices().then(() => {\n          // Emit an event to notify of the change.\n          emitter.emit('change')\n        })\n      }, 50)\n    }\n  })\n\n  /**\n   * Sets the Manager to watch or ignore the \"device change\"\n   *    events from the browser.\n   * @method setListening\n   * @param {Boolean} flag Whether to watch for events.\n   * @return {undefined}\n   */\n  function setListening (flag) {\n    log.debug(`Listening for device changes: ${flag}`)\n    isListening = flag\n  }\n\n  /**\n   * Updates the stored device lists with the latest devices.\n   * @method checkDevices\n   * @return {Promise}\n   */\n  function checkDevices () {\n    log.info('Checking media devices.')\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .enumerateDevices()\n        .then(devices => {\n          // Clear the stored devices, to prevent duplicates.\n          microphone = []\n          camera = []\n          speaker = []\n          devices.forEach(device => {\n            const kind = WEBRTC_DEVICE_KINDS[device.kind]\n            switch (kind) {\n              case 'microphone':\n                microphone.push(device)\n                break\n              case 'camera':\n                camera.push(device)\n                break\n              case 'speaker':\n                speaker.push(device)\n                break\n            }\n          })\n          resolve(get())\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Ask for permission and gets the list of available device(s) available from the end-user's devices.\n   * @method setupDeviceInitialization\n   * @param browserConstraints\n   * @return {Object}\n   */\n  function setupDeviceInitialization (browserConstraints) {\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .getUserMedia(browserConstraints)\n        .then(mediaStream => {\n          mediaStream.getTracks().forEach(track => {\n            track.stop()\n          })\n          const devices = checkDevices()\n          resolve(devices)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Retrieves the stored device lists.\n   * @method get\n   * @return {Object}\n   */\n  function get () {\n    return {\n      microphone,\n      camera,\n      speaker\n    }\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  function emit (...args) {\n    return emitter.emit(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    setListening,\n    checkDevices,\n    setupDeviceInitialization,\n    get,\n    on,\n    once,\n    off,\n    emit\n  }\n}\n","import { logManager } from '../logs'\n\n// Models that this manager directly manages.\nimport Media from '../models/media'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Media objects.\n * Allows the creation and retrieval of media objects.\n * @class MediaManager\n */\nexport default function MediaManager (managers) {\n  const log = logManager.getLogger('Manager', 'Media')\n\n  // Internal variables.\n  const trackManager = managers.trackManager\n  const medias = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a snapshot of all Media objects' current state.\n   * @method getState\n   * @return {Array}\n   */\n  function getState () {\n    return getAll().map(id => get(id).getState())\n  }\n\n  /**\n   * Workaround to get Firefox to behave similarly to Chrome regarding device permission prompts.\n   * @method browserConstraintsWorkaround\n   * @param  {MediaStreamConstraints}  constraints\n   * @return {Object}  media constraints\n   */\n  function browserConstraintsWorkaround (constraints) {\n    /**\n     * Firefox workaround.\n     *\n     * Issue Summary: Browser behaviour for prompting the user for device\n     *    permissions is not consistent for consecutive gUM calls. The following\n     *    workaround makes it consistent if the less-specific constraint is\n     *    provided.\n     *\n     * Context: The `deviceId` constraint format can be either a string or an\n     *    object. The object format allows precise control over how the browser\n     *    should try to get the track. It can be specified to fail if it can't\n     *    fulfill the constraint (exact), or whether the constraint is \"best\n     *    effort\" (ideal). When the string format is given, it follows the\n     *    \"ideal\" behaviour.\n     * See: https://developer.mozilla.org/en-US/docs/Web/API/ConstrainDOMString\n     *\n     *  - When the \"ideal\" behaviour is followed and the user has not given\n     *      permission (and not disallowed), the browser will prompt the user\n     *      for permission.\n     *  - [Issue] When the \"ideal\" behaviour is followed and the user has given\n     *      permission previously, the browser will not prompt the user for\n     *      permission.\n     *\n     * Problem: When gUM is called for a different device (ideal behaviour) than\n     *    permission was granted for previously, the browser will not prompt the\n     *    user to give permission for the (new) device. This results in gUM\n     *    using the original device for the new track.\n     *\n     * This happens on Firefox because the prompt for media permissions is\n     *    specific to a single device. For Chrome, the prompt is generic to any\n     *    device.\n     * If permissions are always allowed (\"remember my decision\" on Firefox or\n     *    default on Chrome), this issue wouldn't be seen.\n     *\n     * Workaround: When the behaviour (idea / exact) isn't specified, default\n     *    to exact (instead of letting the browser default to ideal; as per the\n     *    specification).\n     *\n     * This ensures that the browser always prompts the user to give permissions\n     *    for the device (if not already granted). It is also more in-line with\n     *    what might be expected when you ask for a certain device (ie. don't\n     *    return a different device unless it was specified that it's okay).\n     */\n    for (const kind in constraints) {\n      if (\n        constraints[kind] &&\n        typeof constraints[kind] === 'object' &&\n        typeof constraints[kind].deviceId === 'string'\n      ) {\n        // Don't allow a \"bare\" value be provided for deviceId. Change it to use\n        //    \"exact\".\n        const id = constraints[kind].deviceId\n        constraints[kind].deviceId = { exact: id }\n      }\n    }\n    return constraints\n  }\n\n  /**\n   * Wraps native mediaStream, adds tracks to trackManager and Media, and sets up event handlers on a given media.\n   * @method setupMedia\n   * @param {MediaStream} mediaStream Creating a Media object with it.\n   * @return {Media}\n   */\n  function setupMedia (mediaStream) {\n    const media = new Media(mediaStream, true)\n    log.debug(`Creating Media with ID: ${media.id}.`)\n\n    // Only add tracks to a Media objects using the `addTrack` method.\n    // Specify that this is a local track we're adding\n    mediaStream.getTracks().forEach(nativeTrack => {\n      const wrappedTrack = trackManager.add(nativeTrack, mediaStream, true)\n\n      media.addTrack(wrappedTrack)\n    })\n\n    media.once('media:stopped', mediaId => {\n      remove(mediaId)\n    })\n\n    media.on('track:ended', ({ mediaId, trackId }) => {\n      if (media.getTracks().length === 0) {\n        remove(mediaId)\n      }\n    })\n\n    media.on('track:muted', ({ mediaId, trackId }) => {\n      // TBD: Add any extra behaviour (if needed) here\n    })\n\n    return media\n  }\n\n  /**\n   * Create a new local Media object.\n   * Use the provided constraints to get user media as the base MediaStream.\n   * @method createLocal\n   * @param  {MediaStreamConstraints}  constraints\n   * @return {Promise}\n   */\n  function createLocal (constraints) {\n    const constraintsWorkaround = browserConstraintsWorkaround(constraints)\n\n    // Get user media, ...\n    return new Promise((resolve, reject) => {\n      // TODO: Proper error checking.\n      // TODO: Use the WebAPI directly here? Probably not.\n      navigator.mediaDevices\n        .getUserMedia(constraintsWorkaround)\n        .then(mediaStream => {\n          const media = setupMedia(mediaStream)\n\n          medias.set(media.id, media)\n          // TODO: Better event. Include metadata?\n          emitter.emit('media:new', media.id)\n\n          resolve(media)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Creates a new local Screen Media object.\n   * Use the provided constraints to get user media as the base MediaStream.\n   * @method createLocalScreen\n   * @param {MediaStreamConstraints} constraints\n   * @return {promise}\n   */\n  function createLocalScreen (constraints) {\n    const constraintsWorkaround = browserConstraintsWorkaround(constraints)\n\n    return new Promise((resolve, reject) => {\n      navigator.mediaDevices\n        .getDisplayMedia(constraintsWorkaround)\n        .then(mediaStream => {\n          const media = setupMedia(mediaStream)\n\n          medias.set(media.id, media)\n          // TODO: Better event. Include metadata?\n          emitter.emit('media:new', media.id)\n\n          resolve(media)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Create a new remote Media object.\n   * Use provided stream/tracks as the base media objects.\n   * @method createRemote\n   * @param  {MediaStream} mediaStream Native MediaStream object.\n   * @param  {Tracks[]} tracks Array of Track objects.\n   * @return {Media}\n   */\n  function createRemote (stream, tracks = []) {\n    const media = new Media(stream, false)\n\n    tracks.forEach(track => {\n      media.addTrack(track)\n    })\n\n    media.once('media:stopped', mediaId => {\n      remove(mediaId)\n    })\n\n    media.on('track:ended', ({ mediaId, trackId }) => {\n      if (media.getTracks().length === 0) {\n        remove(mediaId)\n      }\n    })\n\n    medias.set(media.id, media)\n    // TODO: Better event. Include metadata?\n    emitter.emit('media:new', media.id)\n    return media\n  }\n\n  /**\n   * Removes a Media object from the medias array.\n   * @private\n   * @method remove\n   * @param {String} mediaId\n   */\n  function remove (mediaId) {\n    const media = get(mediaId)\n    if (media) {\n      medias.delete(mediaId)\n      emitter.emit('media:removed', mediaId)\n    }\n  }\n\n  /**\n   * Retrieve an existing Media object.\n   * @method get\n   * @param  {String} mediaId ID of the desired Media object.\n   * @return {Media}\n   */\n  function get (mediaId) {\n    const media = medias.get(mediaId)\n    if (!media) {\n      log.debug(`No media found with ID: ${mediaId}.`)\n    }\n    return media\n  }\n\n  /**\n   * Retrieve a list of all existing Media object's IDs.\n   * @method getAll\n   * @return {Array} List of Media IDs.\n   */\n  function getAll () {\n    return Array.from(medias.keys())\n  }\n\n  /**\n   * Finds the Media object that contains the specified Track.\n   * @method findTrack\n   * @param  {string}  trackId The ID of the Track to find.\n   * @return {string} The ID of the Media object that contains the Track.\n   */\n  function findTrack (trackId) {\n    // Search through all Media objects for the one that has the desired track.\n    const allMedia = Array.from(medias.values())\n    const media = allMedia.find(media => media.getTrack(trackId))\n    if (media) {\n      log.debug(`Found Media (${media.id}) with Track ${trackId}.`)\n      return media.id\n    } else {\n      log.debug(`Found no Media with Track ${trackId}.`)\n    }\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    // Getter APIs.\n    get,\n    getAll,\n    getState,\n    findTrack,\n    // Create APIs.\n    createLocal,\n    createLocalScreen,\n    createRemote,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\n\nimport Peer from '../Peer'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Peer objects.\n * Allows the creation and retrieval of peer objects.\n * @method PeerManager\n */\nexport default function PeerManager (managers) {\n  const log = logManager.getLogger('Manager', 'Peer')\n\n  // Internal variables.\n  const trackManager = managers.trackManager\n  const peers = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a snapshot of all Peer objects' current state.\n   * @method getState\n   * @return {Array}\n   */\n  function getState () {\n    return getAll().map(id => get(id).getState())\n  }\n\n  /**\n   * Create a new Peer using the provided configs.\n   * @method create\n   * @param  {Object} [config={}]\n   * @return {Peer}\n   */\n  function create (config = {}) {\n    const peer = new Peer(uuidV4(), config, trackManager)\n    peer.once('peer:closed', id => peers.delete(id))\n    peers.set(peer.id, peer)\n    emitter.emit('peer:new', peer.id)\n    return peer\n  }\n\n  /**\n   * Retrieves an existing Peer object.\n   * @method get\n   * @param  {String} id ID of the desired Peer object.\n   * @return {Peer}\n   */\n  function get (id) {\n    const peer = peers.get(id)\n    if (!peer) {\n      log.debug(`No Peer found with ID: ${id}.`)\n    }\n    return peer\n  }\n\n  /**\n   * Retrieve a list of all existing Peer object's IDs.\n   * @method getAll\n   * @return {Array} List of Peer IDs.\n   */\n  function getAll () {\n    return Array.from(peers.keys())\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    getState,\n    get,\n    getAll,\n    create,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\nimport { makeSafeForCSS } from '../utils'\n\n/**\n * Renderer for managing where Tracks are rendered.\n */\nexport default function Renderer () {\n  /*\n   * Object holding reference to all tracks currently rendered and to where.\n   *    Entry format: { containers, rendererId }\n   *    `containers` is the array of HTMLElements where the track is rendered.\n   *    `rendererId` is the ID used when creating DOM elements for this track.\n   */\n  const entries = {}\n\n  /**\n   * Renders this Track as a subelement of the specified element.\n   * @method renderTrack\n   * @param  {HTMLElement|String} container The DOM element to be rendered in,\n   *    or a unique CSS selector for the DOM element.\n   * @param  {String} [speakerId] The device ID to be used for audio output.\n   * @return {boolean} true if rendering of track suceeded, false otherwise.\n   */\n  function renderTrack (track, container, speakerId) {\n    const log = logManager.getLogger('Track', track.id)\n\n    let element\n    // If a string was provided, use it as a CSS selector to find the element.\n    if (typeof container === 'string') {\n      log.info(`Rendering track in element using selector: ${container}`)\n\n      element = document.querySelector(container)\n      if (!element) {\n        log.error(`Unable to get container with selector: ${container}.`)\n        return false\n      }\n    } else {\n      log.info('Rendering track in provided HTMLElement.')\n      element = container\n    }\n\n    const type = track.getState().kind\n    // Create a unique rendering ID for this track.\n    const rendererId = `${type}-${makeSafeForCSS(track.id)}`\n\n    // Get the existing entry for this track.\n    let entry = entries[track.id]\n    if (entry) {\n      if (entry.containers.indexOf(element) > -1) {\n        // Already rendered in element.\n        log.warn('Failed to render track; already rendered in element.')\n        return false\n      } else {\n        // Rendering the track in a second element; no issue with that.\n      }\n    } else {\n      // Create an empty entry; track is not rendered anywhere else.\n      entry = { containers: [], rendererId }\n    }\n\n    // Element is a valid place to render track, so add it to the entry then render it.\n    entry.containers.push(element)\n\n    const renderer = document.createElement(type)\n    renderer.id = rendererId\n    renderer.style.height = '100%'\n    renderer.style.width = '100%'\n\n    const stream = track.getStream()\n    try {\n      renderer.srcObject = stream\n    } catch (error) {\n      log.debug('srcObject property not supported; reverting to createObjectURL.')\n      // TODO: AdapterJS handles this, we should remove this.\n      renderer.src = window.URL.createObjectURL(stream)\n    }\n\n    renderer.autoplay = 'true'\n\n    if (type === 'video') {\n      renderer.muted = 'true'\n      // Needed for IOS autoplay.\n      renderer.playsInline = 'true'\n      // Needed for Android.\n      renderer.play().catch(err => {\n        log.debug(`Could not autoplay renderer #${renderer.id}: ${err.message}`)\n      })\n    }\n\n    // Set speaker if it was provided and it's supported.\n    if (speakerId && typeof renderer.setSinkId !== 'undefined') {\n      // TODO: Better then/catch handling.\n      renderer\n        .setSinkId(speakerId)\n        .then(() => {\n          log.debug(`Set to use speaker: ${speakerId}.`)\n        })\n        .catch(error => {\n          log.debug(`Could not set speaker to use ${speakerId}: ${error.message}`)\n        })\n    } else if (speakerId && typeof renderer.setSinkId === 'undefined') {\n      log.info('Failed to set speaker; setSinkId not supported in this browser.')\n    }\n\n    element.appendChild(renderer)\n\n    // Save the new/updated entry to the Renderer scope.\n    entries[track.id] = entry\n    return true\n  }\n\n  /**\n   * Stop rendering this Track from the specified element.\n   * @method unrenderTrack\n   * @param  {string}      trackId   ID of the track to be unrendered.\n   * @param  {HTMLElement} container The DOM element to be removed from, or\n   *     a unique CSS selector for the DOM element.\n   * @return {boolean} true if unrendering of track suceeded, false otherwise.\n   */\n  function unrenderTrack (trackId, container) {\n    const log = logManager.getLogger('Track', trackId)\n\n    // Get the existing entry for this track.\n    const entry = entries[trackId]\n    if (!entry) {\n      log.info('Failed to unrender track; not rendered anywhere.')\n      return false\n    }\n\n    let element\n    // If a string was provided, use it as a CSS selector to find the element.\n    if (typeof container === 'string') {\n      log.info(`Unrendering track from element using selector: ${container}`)\n\n      element = document.querySelector(container)\n      if (!element) {\n        log.error(`Unable to get container with selector: ${container}.`)\n        return false\n      }\n    } else {\n      log.info('Unrendering track from provided HTMLElement.')\n      element = container\n    }\n\n    const index = entry.containers.findIndex(item => item === element)\n    if (index === -1) {\n      // Not rendered in element.\n      log.info('Failed to unrender track; not rendered in element.')\n      return false\n    }\n\n    const renderer = element.querySelector(`#${entry.rendererId}`)\n\n    if (renderer.srcObject) {\n      renderer.srcObject = null\n    } else if (renderer.src) {\n      renderer.src = null\n    }\n    element.removeChild(renderer)\n\n    entry.containers.splice(index, 1)\n    // If this track isn't rendered anywhere anymore, remove the reference to it.\n    if (entry.containers.length === 0) {\n      delete entries[trackId]\n    }\n    return true\n  }\n\n  return {\n    renderTrack,\n    unrenderTrack\n  }\n}\n","import { logManager } from '../logs'\nimport Session from '../models/session'\n\n// Libraries.\nimport { v4 as uuidV4 } from 'uuid'\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager for Session objects.\n * Allows for creation and retrieval of session objects.\n * @method SessionManager\n */\nexport default function SessionManager (managers) {\n  const log = logManager.getLogger('Manager', 'Session')\n  // Internal variables.\n  const sessions = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Create a new Session object.\n   * @method create\n   * @param {Object} [config]\n   * @param {Object} [config.peer] Configs for the Session's Peer object.\n   * @return {Session}\n   */\n  function create (config = {}) {\n    const session = new Session(uuidV4(), managers, config)\n    session.once('session:ended', id => {\n      sessions.delete(id)\n      emitter.emit('session:removed', id)\n    })\n    sessions.set(session.id, session)\n    emitter.emit('session:new', session.id)\n    return session\n  }\n\n  /**\n   * Retrieve an existing Session object.\n   * @method get\n   * @param  {String} sessionId ID of the desired Session object.\n   * @return {Session}\n   */\n  function get (sessionId) {\n    const session = sessions.get(sessionId)\n    if (!session) {\n      log.debug(`No session found with ID: ${sessionId}.`)\n    }\n    return session\n  }\n\n  /**\n   * Retrieve a list of all existing Sessions.\n   * @method getAll\n   * @return {Array} List of Media IDs.\n   */\n  function getAll () {\n    return Array.from(sessions.values())\n  }\n\n  /**\n   * Get an existing Session object, and add media to it before returning.\n   *    This method is an optimization. It combines `sessionManager.get` and\n   *    `session.addWithMedia` into a single method instead of two.\n   * @method getWithMedia\n   * @return {Promise} Resolves with the Session and Media objects.\n   */\n  function getWithMedia (sessionId, mediaConstrants) {\n    const session = sessions.get(sessionId)\n    if (!session) {\n      log.debug(`No session found with ID: ${sessionId}.`)\n      return\n    }\n\n    return new Promise((resolve, reject) => {\n      session\n        .addNewMedia(mediaConstrants)\n        .then(medias => {\n          resolve({ session, medias })\n        })\n        .catch(reject)\n    })\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    create,\n    get,\n    getAll,\n    getWithMedia,\n    on,\n    once,\n    off\n  }\n}\n","import Track from '../models/track'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Manager / store for Track objects.\n * @method TrackManager\n */\nexport default function TrackManager () {\n  /**\n   * The Track objects being managed.\n   * @type {Map}\n   */\n  const tracks = new Map()\n  const emitter = new EventEmitter()\n\n  /**\n   * Retrieve a Track object.\n   * @method get\n   * @param  {string} trackId\n   * @return {Track}\n   */\n  function get (trackId) {\n    return tracks.get(trackId)\n  }\n\n  /**\n   * Retrieve a list of Track objects.\n   * If no tracks are specified, will return all tracks.\n   * @method getTracks\n   * @param  {Array} [trackIds] List of tracks to retrieve.\n   * @return {Array}\n   */\n  function getTracks (trackIds) {\n    if (trackIds) {\n      return trackIds.map(trackId => tracks.get(trackId))\n    } else {\n      return Array.from(tracks.values())\n    }\n  }\n\n  /**\n   * Wraps a MediaStreamTrack into a Track object and adds\n   *    it to the manager.\n   * @method add\n   * @param  {MediaStreamTrack} track A native track object.\n   * @param  {MediaStream} stream\n   * @param  {boolean} isLocalTrack Specifies if the track parameter is a local one or a remote one.\n   * @return {Track} The added/wrapped Track object.\n   */\n  function add (track, stream, isLocalTrack) {\n    const targetTrack = tracks.get(track.id)\n\n    // Chrome issue: track.stream is outdated and needs to be updated to newStream.\n    // targetTrack.stream.active is false & targetTrack.stream.getTracks() gives us an empty array.\n    // stream.active is true & stream.getTracks() gives us the correct array of tracks.\n    // Set/update the new stream as the track's stream\n    if (targetTrack && !targetTrack.getStream().active && stream.active) {\n      // The track was previously registered and is being re-added with new stream\n      targetTrack.setStream(stream)\n      return targetTrack\n    } else if (targetTrack) {\n      // This track is already registered.\n      return targetTrack\n    } else {\n      // Wrap the track as a Track object.\n      const wrappedTrack = new Track(track, stream)\n\n      // Mark it as local (or remote) before we save it in the state\n      wrappedTrack.setIsLocal(isLocalTrack)\n\n      tracks.set(track.id, wrappedTrack)\n\n      // Remove the track from the manager when it ends.\n      wrappedTrack.once('ended', event => {\n        if (!event.isUnsolicited) {\n          remove({ trackId: track.id })\n        }\n      })\n\n      emitter.emit('add', wrappedTrack.id)\n      return wrappedTrack\n    }\n  }\n\n  /**\n   * Remove a Track from the manager.\n   * @method remove\n   * @param  {string} trackId\n   * @return {Boolean} Whether the Track existed (and hence removed).\n   */\n  function remove ({ trackId }) {\n    const track = get(trackId)\n    if (track) {\n      tracks.delete(trackId)\n      // Clean up any listeners.\n      track.off('ended', remove)\n      emitter.emit('remove', trackId)\n    }\n\n    return Boolean(track)\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    get,\n    getTracks,\n    add,\n    remove,\n    on,\n    once,\n    off\n  }\n}\n","/**\n * \"Manager\" for general WebRTC functions.\n * @class WebRTCManager\n */\nexport default function WebRTCManager (managers) {\n  /**\n   * Retrieve the list of available and supported codecs based on the browser's capabilities for sending media.\n   * @method getAvailableCodecs\n   * @param {string} kind The kind of media of which to get the supported codecs of.\n   * @return {Array|undefined}\n   */\n  function getAvailableCodecs (kind) {\n    const capabilities = RTCRtpSender.getCapabilities(kind)\n    if (capabilities && capabilities.codecs) {\n      return capabilities.codecs\n    }\n  }\n  /**\n   * The exposed API.\n   */\n  return {\n    getAvailableCodecs\n  }\n}\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Object to represent a \"media\" object.\n * Wraps a MediaStream object.\n * @class Media\n * TODO: Rename to Stream? Would be more straight-forward since Tracks can be\n *    managed directly (with trackManager), instead of through a \"Media\" object.\n */\nexport default function Media (nativeStream, isLocal) {\n  const log = logManager.getLogger('Media', nativeStream.id)\n  log.info(`Creating new ${isLocal ? 'local' : 'remote'} Media.`)\n\n  // Internal variables.\n  const id = nativeStream.id\n  const stream = nativeStream\n  const emitter = new EventEmitter()\n\n  /**\n   * Mapping of the IDs of this Media object's tracks to the Track object.\n   * @type {Map}\n   */\n  const tracks = new Map()\n\n  /**\n   * Retrieve a snapshot of the Media object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id: id,\n      tracks: Array.from(tracks.values()).map(track => track.getState()),\n      isLocal: isLocal\n    }\n  }\n\n  /**\n   * Add a track to this Media object.\n   * @method addTrack\n   * @param {Track} track The Track object to add to the Media object.\n   */\n  function addTrack (track) {\n    if (tracks.has(track.id)) {\n      log.debug(`Track (${track.id}) is already in Media (${id}).`)\n      return\n    }\n\n    // Add the native MediaStreamTrack to the MediaStream.\n    stream.addTrack(track.track)\n    // Add the Track to the Media object.\n    tracks.set(track.id, track)\n\n    /**\n     * When a track ends, remove it from the Media object then clean it up.\n     */\n    track.on('ended', () => {\n      const removedTrack = removeTrack(track.id)\n      // Might be from old already deleted media which has no tracks anymore.\n      if (removedTrack) {\n        emitter.emit('track:ended', {\n          mediaId: id,\n          trackId: removedTrack.id\n        })\n      }\n    })\n    // TODO: Emit event or return result?\n    emitter.emit('track:new', {\n      mediaId: id,\n      trackId: track.id\n    })\n\n    /**\n     * When a track is muted, we generate our own internal event\n     */\n    track.on('muted', event => {\n      const wrappedTrack = getTrack(event.trackId)\n      if (wrappedTrack && wrappedTrack.track && wrappedTrack.track.muted) {\n        // Emit our internal event.\n        // Note that wrappedTrack.id is same as wrappedTrack.track & event.trackId\n        emitter.emit('track:muted', {\n          mediaId: id,\n          trackId: event.trackId\n        })\n      }\n    })\n\n    /**\n     * When a track is unmuted, we generate our own internal event\n     */\n    track.on('unmuted', event => {\n      const wrappedTrack = getTrack(event.trackId)\n      if (wrappedTrack && wrappedTrack.track && wrappedTrack.track.muted === false) {\n        // Emit our internal event.\n        // Note that wrappedTrack.id is same as wrappedTrack.track & event.trackId\n        emitter.emit('track:unmuted', {\n          mediaId: id,\n          trackId: event.trackId\n        })\n      }\n    })\n  }\n\n  /**\n   * Remove a track from the Media object.\n   * @private\n   * @method removeTrack\n   * @param  {string} trackId The Track to remove.\n   */\n  function removeTrack (trackId) {\n    const track = getTrack(trackId)\n    if (track) {\n      tracks.delete(trackId)\n      return track\n    }\n  }\n\n  /**\n   * Stop all Tracks within this Media object.\n   * @method stop\n   */\n  function stop () {\n    getTracks().forEach(track => {\n      track.stop()\n    })\n    emitter.emit('media:stopped', this.id)\n  }\n\n  /**\n   * Retrieve the list of Track object this this Media object manages.\n   * @method getTracks\n   * @return {Array} The list of Track objects.\n   */\n  function getTracks () {\n    return Array.from(tracks.values())\n  }\n\n  /**\n   * Retrieve a specific Track object from within the Media object.\n   * @method getTrack\n   * @param  {String} trackId ID of the Track to retrieve.\n   * @return {Track}\n   */\n  function getTrack (trackId) {\n    return tracks.get(trackId)\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id,\n    tracks,\n    isLocal,\n    // Getter APIs.\n    getState,\n    getTracks,\n    getTrack,\n    // Create APIs.\n    addTrack,\n    // Cleanup APIs.\n    stop,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\nimport { setTransceiverDirection } from '../sdpUtils/transceiverUtils'\n\n// Helpers.\nimport { PEER, ICE_COLLECTION_CHECK_REASONS, ICE_COLLECTION_RESULT_TYPES } from '../constants'\n\n// SDP Helpers.\nimport sdpPipeline from '../sdpUtils/pipeline'\nimport { getSdpSessionId } from '../sdpUtils/extractors'\n\n// General Utils.\nimport { getBrowserDetails, mergeValues } from '../utils'\nimport iceCollectionScheduledCheck from '../Peer/utils/iceCollectionScheduledCheck'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\nimport { debounce } from 'lodash/fp'\nconst unfixedDebounce = debounce.convert({ fixed: false })\n\n/**\n * Object to represent a webRTC Session for a single peer.\n * \"Session\" being an abstraction of a webRTC connection between another peer.\n * Performs logic for initializing and connecting a peer connection.\n * Manages media added to / received from the peer connection.\n * @method Session\n */\nexport default function Session (id, managers, config = {}) {\n  const log = logManager.getLogger('Session', id)\n  log.info('Creating new Session.')\n\n  // Internal variables.\n  const sessionId = id\n  let peerId\n  const peerManager = managers.peerManager\n  const mediaManager = managers.mediaManager\n  const trackManager = managers.trackManager\n  const deviceManager = managers.deviceManager\n  const emitter = new EventEmitter()\n\n  // Session settings\n  const settings = {\n    dscpControls: {}\n  }\n\n  // This structure is used to remember the dtls role of a peer relative to some remote sdp.\n  // key: the remote sdp's session id (o= line).\n  // value: the dtls role that the current peer's local sdp has.\n  // This is needed because a remote SDP with the same sessionId as a previous one may reappear later on\n  //  (music-unhold scenario) and the roles will be expected to be the same.\n  const dtlsRoleRecord = new Map()\n\n  // The latest remote description successfully set, even if the Peer has\n  //    been recreated since it was set.\n  let latestRemoteDescription\n\n  // Create and initialize the peer\n  let peer = peerManager.create(config.peer)\n  if (peer) {\n    // The id of the created peer\n    peerId = peer.id\n    setupPeerEventHandlers(peer)\n  } else {\n    throw new Error(`Peer creation error in Session ${sessionId}.`)\n  }\n\n  /**\n   * Records the peer's dtlsRole if it hasn't been recorded yet and associates it with a remote sdp's sessionId.\n   * @method recordNewDtlsRole\n   */\n  function recordNewDtlsRole () {\n    const remoteSdpSessionId = getSdpSessionId(peer.remoteDescription.sdp)\n    if (!dtlsRoleRecord.get(remoteSdpSessionId)) {\n      dtlsRoleRecord.set(remoteSdpSessionId, peer.dtlsRole)\n    }\n  }\n\n  /**\n   * @property {Array} getLocalTracks List of active Track objects the Session has added locally.\n   */\n  function getLocalTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.localTracks\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * @property {Array} getAllLocalTracks List of all Track objects the Session has added locally.\n   */\n  function getAllLocalTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      // Get all local Track objects, not just the active ones.\n      return peer.senderTracks.map(nativeTrack => trackManager.get(nativeTrack.id))\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * @property {Array} getRemoteTracks List of active Track objects the Session has received remotely.\n   */\n  function getRemoteTracks () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.remoteTracks\n    } else {\n      return []\n    }\n  }\n\n  /**\n   * Retrieve a snapshot of the Session object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id: sessionId,\n      localTracks: getLocalTracks(),\n      remoteTracks: getRemoteTracks(),\n      allLocalTracks: getAllLocalTracks()\n    }\n  }\n\n  /**\n   * Setup a warm PeerConnection.\n   * @method warmup\n   */\n  function warmup () {}\n\n  /**\n   * Add Track objects to the Session.\n   * @method addTracks\n   * @param  {Array} tracks List of Track objects.\n   * @param  {Object} dscpTrackMapping Track - DSCPSettings map\n   */\n  function addTracks (tracks, dscpTrackMapping) {\n    const peer = peerManager.get(peerId)\n    // TODO: Better error handling?\n    if (peer) {\n      const addTrackOrReuseTransceiverPromises = tracks.map(track => {\n        return new Promise((resolve, reject) => {\n          // We try to find a reusable transceiver that we can attach the track to achieve the following:\n          // - Avoid transceiver pollution and needing to create a brand new transceiver to attach the track to.\n          // - Allow re-adding of the same track type that has been previously removed.\n          //   (This is so that we can still have re-adding of tracks when using the \"basic\" media API which imposes a 1-audio & 1-video limit)\n          const reusableTransceiver = peer.findReusableTransceiver(track.track.kind)\n\n          // If we can find a reusable transceiver, reuse it.\n          if (reusableTransceiver) {\n            reusableTransceiver.sender\n              // Replace the dummy track on the Sender with the actual track we want to send.\n              .replaceTrack(track.track)\n              .then(() => {\n                /*\n                 * Set the correct direction on the Transceiver to include that we now want to send:\n                 *   - sendrecv --> sendrecv\n                 *   - sendonly --> sendonly\n                 *   - recvonly --> sendrecv\n                 *   - inactive --> sendonly\n                 */\n                reusableTransceiver.direction = ['sendrecv', 'recvonly'].includes(reusableTransceiver.direction)\n                  ? 'sendrecv'\n                  : 'sendonly'\n\n                resolve(\n                  `Track (${track.track.kind} : ${track.id}) reused transceiver (mid: ${reusableTransceiver.mid}).`\n                )\n              })\n              .catch(err => {\n                log.error(err)\n                reject(err)\n              })\n          } else {\n            // To get around the current limitation described above, we use peerConnection's `addTrack` when we can't find a reusable transceiver.\n            // `addTrack` does one of the following when called:\n            // - Create a new transceiver and attaches the track and stream to the sender\n            // - Find and use an existing transceiver that has never been used to send data before and attach the track and stream to the sender.\n            peer.addTransceiver(track)\n            resolve(`Added track (${track.track.kind} : ${track.id}).`)\n          }\n        }).then(message => {\n          // Set event emitters and handlers\n          log.info(message)\n\n          // Indicate that the Session has a new Track.\n          emitter.emit('new:track', {\n            local: true,\n            trackId: track.id\n          })\n\n          settings.dscpControls = mergeValues(settings.dscpControls, dscpTrackMapping)\n\n          track.once('ended', ({ isUnsolicited }) => {\n            const peer = peerManager.get(peerId)\n            if (peer) {\n              // If the PeerConnection is closed, we don't need to worry about\n              //    removing the track (and it would throw an error anyway).\n              if (peer.signalingState !== 'closed') {\n                // If this track ending was expected, remove it from the Peer\n                //    immediately. Otherwise another operation will remove it.\n                if (!isUnsolicited) {\n                  peer.removeTrack(track.id)\n                }\n\n                // In the event this track ending was due to a device change\n                // we should update our device list before notifying the client that\n                // the track ended so they don't try to use a removed device\n                deviceManager.checkDevices().then(() => {\n                  deviceManager.emit('change')\n\n                  // Wait 50ms before emitting `track:ended` to allow the SDK\n                  // a chance to update the device list in state\n                  setTimeout(() => {\n                    emitter.emit('track:ended', {\n                      local: true,\n                      trackId: track.id,\n                      isUnsolicited\n                    })\n                  }, 50)\n                })\n\n                // Remove track from session dscp settings\n                if (settings.dscpControls.hasOwnProperty(track.id)) {\n                  log.debug(`Removing track ${track.id} from session dscp settings`)\n                  delete settings.dscpControls[track.id]\n                }\n              } else {\n                log.debug(\n                  `Received ended event for track ${track.id}, but its associated Peer ${peer.id} is closed. Ignoring this event...`\n                )\n              }\n            }\n          })\n        })\n      })\n\n      return Promise.all(addTrackOrReuseTransceiverPromises)\n    }\n  }\n\n  /**\n   * Creates a local SDP offer.\n   * @method createOffer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local offer.\n   * @return {Promise} Resolves with the offer.\n   */\n  function createOffer (options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      // Remove options.mediaDirections.\n      // This is because directions are now set in transceivers.\n      if (options.mediaDirections) {\n        setTransceiversDirection(options.mediaDirections)\n        delete options.mediaDirections\n      }\n\n      peer\n        .createOffer(options)\n        .then(offer => {\n          if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n            log.debug('Modifying local offer with SDP pipeline.')\n            offer.sdp = sdpPipeline.run(options.sdpHandlers, offer.sdp, {\n              type: offer.type,\n              endpoint: PEER.ENDPOINT.LOCAL\n            })\n          }\n\n          resolve(offer)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Sets a local SDP.\n   * @method setLocalDescription\n   * @param  {Object} description The description containing the SDP to set as the local description.\n   * @return {Promise} Resolves with the description.\n   */\n  function setLocalDescription (description) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setLocalDescription(description)\n        .then(() => {\n          // Record the peer's dtls role if setting a local answer.\n          if (description.type === 'answer') {\n            recordNewDtlsRole()\n          }\n\n          // Set any parameters on the peer's senders if applicable\n          setParameters()\n\n          // Resolve with the _current_ local description, which may be\n          //    different than the provided description due trickle ICE config.\n          resolve(peer.localDescription)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Rollback the local description.\n   * @method rollbackLocalDescription\n   * @return {Promise} Resolves with the rollbacked description or error.\n   */\n  function rollbackLocalDescription () {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setLocalDescription({ type: 'rollback' })\n        .then(() => {\n          resolve(peer.localDescription)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Parse the result of a call to the ice collection check function and act accordingly:\n   *  'StartCall' type - emit the negotiation ready event\n   *  'Error' type - end the session\n   *  'Wait' type - Schedule a callback to the ice collection check function\n   * @method iceCollectionCheckResult\n   * @param {Object} result The result of ice collection check function.\n   * @param {string} result.type The action to take.\n   * @param {number} result.wait How many ms to wait for the next scheduled check.\n   * @return {Promise} Resolves with the rollbacked description or error.\n   */\n  function iceCollectionCheckResult (result) {\n    const peer = peerManager.get(peerId)\n    if (!peer) {\n      return new Error(`Peer not found in Session ${sessionId}.`)\n    }\n\n    if (result.type === ICE_COLLECTION_RESULT_TYPES.START_CALL) {\n      log.info('Proceeding with the negotiation as instructed by the ice collection check.')\n      peer.isIceCollectionCheckOngoing = false\n      peer.emitter.emit('onnegotiationready')\n    } else if (result.type === ICE_COLLECTION_RESULT_TYPES.ERROR) {\n      log.info('Cleaning up session as instructed by the ice collection check.')\n      peer.isIceCollectionCheckOngoing = false\n      const localTracks = getLocalTracks()\n      localTracks.forEach(track => track.stop())\n      end()\n    } else if (result.type === ICE_COLLECTION_RESULT_TYPES.WAIT) {\n      // If `result.wait` is not set, then the ice collection check function is only waiting for either\n      //  ice candidate events or ice gathering state change events\n      if (result.wait) {\n        log.debug(`Setting a scheduled check for the ice collection check after ${result.wait} ms`)\n        peer.iceLoop = setTimeout(() => iceCollectionScheduledCheck(peer), result.wait)\n      }\n    } else {\n      log.info('Unexpected result type from ICE collection check function, ending call.')\n      peer.isIceCollectionCheckOngoing = false\n      const localTracks = getLocalTracks()\n      localTracks.forEach(track => track.stop())\n      end()\n    }\n  }\n\n  /**\n   * Sets parameters on the RTCRtpSenders\n   * @param {Object} mediaConstraints\n   */\n  function setParameters (mediaConstraints) {\n    // RTCRtpSender.setParameters is currently unsupported on Firefox (or at least not supported as it should be)\n    if (getBrowserDetails().browser === 'firefox') {\n      log.debug('Setting sender parameters not supported on Firefox; skipping.')\n      return\n    }\n\n    const promises = []\n\n    // Set the DSCPControls (i.e., network priorities) if set in the session's settings\n    for (const trackId in settings.dscpControls) {\n      promises.push(\n        new Promise((resolve, reject) => {\n          log.debug(`Setting networkPriority ${settings.dscpControls[trackId]} for sender with track ${trackId}`)\n          setNetworkPriority(trackId, settings.dscpControls[trackId])\n            .then(resolve)\n            .catch(reject)\n        })\n      )\n    }\n\n    return Promise.all(promises)\n  }\n\n  /**\n   * Sets the networkPriority in the peer connection's sender's encodings.\n   * @method setNetworkPriority\n   * @param {string} trackId The track ID\n   * @param {string} networkPriority The network priority value to set\n   * @return {Promise} Resolves with the setParameters()\n   */\n  function setNetworkPriority (trackId, networkPriority) {\n    const peer = peerManager.get(peerId)\n    const senders = peer.getSenders()\n\n    // search for a sender associated with the provided track id\n    const sender = senders.find(sender => sender.track.id === trackId)\n    if (sender) {\n      // Need to perform a getParameters() prior to a setParameters()\n      const parameters = sender.getParameters()\n      parameters.encodings.forEach(encoding => {\n        encoding.networkPriority = networkPriority\n      })\n      return sender.setParameters(parameters)\n    } else {\n      const errMsg = `Cannot find sender associated with trackId: ${trackId}`\n      log.info(errMsg)\n      return Promise.reject(errMsg)\n    }\n  }\n\n  /**\n   * Generates (and sets) a local SDP offer.\n   * @method generateOffer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local offer.\n   * @return {Promise} Resolves with the offer.\n   */\n  function generateOffer (options = {}) {\n    // Backwards compatibility: Create the offer and set it as one operation.\n    return new Promise((resolve, reject) => {\n      createOffer(options)\n        .then(setLocalDescription)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Replaces a specified transceiver's sender.track.\n   * @method replaceTrack\n   * @param {Object} newTrack The MediaStreamTrack we want to place into the sender.\n   * @param {Object} options Options for specifying which transceiver's sender should be replaced. They are ordered by priority.\n   * @param {String} [options.trackId] The transceiver with the specific sender.track.id.\n   * @param {String} [options.mid] The transceiver with the specific media id.\n   * @return {Object} A Promise object which is fulfilled once the track has been replaced\n   */\n  function replaceTrack (newTrack, options) {\n    const peer = peerManager.get(peerId)\n    const track = trackManager.get(newTrack.id)\n    return peer\n      .replaceTrack(track.track, options)\n      .then(() => {\n        track.once('ended', ({ isUnsolicited }) => {\n          const peer = peerManager.get(peerId)\n          if (peer) {\n            // If the PeerConnection is closed, we don't need to worry about\n            //    removing the track (and it would throw an error anyway).\n            if (peer.signalingState !== 'closed') {\n              // If this track ending was expected, remove it from the Peer\n              //    immediately. Otherwise another operation will remove it.\n              if (!isUnsolicited) {\n                peer.removeTrack(track.id)\n              }\n\n              emitter.emit('track:ended', {\n                local: true,\n                trackId: track.id,\n                isUnsolicited\n              })\n              // Remove track from session dscp settings\n              if (settings.dscpControls.hasOwnProperty(track.id)) {\n                log.debug(`Removing track ${track.id} from session dscp settings`)\n                delete settings.dscpControls[track.id]\n              }\n            } else {\n              log.debug(\n                `Received ended event for track ${track.id}, but its associated Peer ${peer.id} is closed. Ignoring this event...`\n              )\n            }\n          }\n        })\n\n        emitter.emit('track:replaced', {\n          oldTrackId: options.trackId,\n          trackId: newTrack.id\n        })\n      })\n      .catch(err => err)\n  }\n\n  /**\n   * Sets the direction of transceivers.\n   * @method setTransceiversDirection\n   * @param {Object} mediaDirections Options for specifying the directions we want to set for certain medias (i.e., audio and video)\n   * @param {Array} [mediaDirections.audio] The direction we want to set of the transceivers with audio tracks\n   * @param {Array} [mediaDirections.video] The direction we want to set of the transceivers with video tracks\n   * @return {undefined}\n   */\n  function setTransceiversDirection (mediaDirections) {\n    const peer = peerManager.get(peerId)\n\n    // Set EVERY Transceiver's direction. This includes those with active tracks\n    //    and those without.\n    peer.getTransceivers().forEach(transceiver => {\n      const kind = transceiver.receiver.track.kind\n      setTransceiverDirection(transceiver, mediaDirections[kind])\n    })\n  }\n\n  /**\n   * Processes (and sets) a remote SDP offer.\n   * @method processOffer\n   * @param  {RTCSessionDescription} offer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the remote offer.\n   * @return {Promise}\n   */\n  function processOffer (offer, options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n        log.debug('Modifying remote offer with SDP pipeline.')\n        offer.sdp = sdpPipeline.run(options.sdpHandlers, offer.sdp, {\n          type: offer.type,\n          endpoint: PEER.ENDPOINT.REMOTE\n        })\n      }\n\n      peer\n        .setRemoteDescription(offer)\n        .then(() => {\n          // Set the offer as the latest remote description.\n          latestRemoteDescription = offer\n          resolve()\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Creates a local SDP answer.\n   * @method createAnswer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local answer.\n   * @return {Promise} Resolves with the answer.\n   */\n  function createAnswer (options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      // Remove options.mediaDirections.\n      // This is because directions are now set in transceivers.\n      if (options.mediaDirections) {\n        setTransceiversDirection(options.mediaDirections)\n        delete options.mediaDirections\n      }\n\n      // Set the dtlsRole here if the following are true:\n      // - It previously existed for this specific remote sdp.\n      // - It hasn't been set on a recreated peer yet.\n      const remoteSdpSessionId = getSdpSessionId(peer.remoteDescription.sdp)\n      const previousDtlsRole = dtlsRoleRecord.get(remoteSdpSessionId)\n      if (!peer.dtlsRole && previousDtlsRole) {\n        peer.dtlsRole = previousDtlsRole\n      }\n\n      peer\n        .createAnswer(options)\n        .then(answer => {\n          if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n            log.debug('Modifying local answer with SDP pipeline.')\n            answer.sdp = sdpPipeline.run(options.sdpHandlers, answer.sdp, {\n              type: answer.type,\n              endpoint: PEER.ENDPOINT.LOCAL\n            })\n          }\n          resolve(answer)\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Generates (and sets) a local SDP answer.\n   * @method generateAnswer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Object} [options.mediaDirections] Directions to use for media.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the local answer.\n   * @return {Promise} Resolves with the answer.\n   */\n  function generateAnswer (options = {}) {\n    // For backwards compatibility: Should use other APIs directly.\n    return new Promise((resolve, reject) => {\n      createAnswer(options)\n        .then(setLocalDescription)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Processes (and sets) a remote SDP answer.\n   * @method processAnswer\n   * @param  {RTCSessionDescription} answer\n   * @param  {Object} [options] Options for configuring the SDP.\n   * @param  {Array}  [options.sdpHandlers] SDP handlers for modifying the remote answer.\n   * @return {Promise}\n   */\n  function processAnswer (answer, options = {}) {\n    if (options.sdpHandlers || sdpPipeline.getHandlers().length) {\n      log.debug('Modifying remote answer with SDP pipeline.')\n      answer.sdp = sdpPipeline.run(options.sdpHandlers, answer.sdp, {\n        type: answer.type,\n        endpoint: PEER.ENDPOINT.REMOTE\n      })\n    }\n\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .setRemoteDescription(answer)\n        .then(() => {\n          // Record the peer's dtls role.\n          recordNewDtlsRole()\n\n          // Set the answer as the latest remote description.\n          latestRemoteDescription = answer\n\n          resolve()\n        })\n        .catch(reject)\n    })\n  }\n\n  /**\n   * Add an ICE candidate from the remote endpoint.\n   * @method addIceCandidate\n   * @param  {RTCIceCandidate} candidate\n   * @param  {Object} [options]\n   * @param  {string} [options.label] The Peer to perform the operation on.\n   * @return {Promise}\n   */\n  function addIceCandidate (candidate, options = {}) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n      }\n\n      peer\n        .addIceCandidate(candidate)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  /**\n   * End the Session.\n   * @method end\n   */\n  function end () {\n    log.info('Ending Session.')\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      peer.close()\n    }\n    emitter.emit('session:ended', sessionId)\n  }\n\n  /**\n   * Removes specified Track objects from the Session.\n   * @method removeTrack\n   * @param  {Array} trackIds List of IDs of Track objects to remove.\n   */\n  function removeTracks (trackIds) {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      // Get the list of all tracks on the Peer (event ended ones).\n      const allLocalTracks = peer.senderTracks\n      trackIds.forEach(trackId => {\n        if (allLocalTracks.findIndex(track => track.id === trackId) > -1) {\n          peer.removeTrack(trackId)\n          // Remove the track from the session dscp settings\n          if (settings.dscpControls.hasOwnProperty(trackId)) {\n            log.debug(`Removing track ${trackId} from session dscp settings`)\n            delete settings.dscpControls[trackId]\n          }\n        }\n      })\n    }\n  }\n\n  /*\n   * Restarts ICE connection\n   * @method restartIce\n   */\n  function restartIce () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      peer.restartIce()\n    }\n  }\n\n  /*\n   * Get the DTLS role of the Peer\n   * @method getDtlsRole\n   * @return {string} The DTLS role of the Peer\n   */\n  function getDtlsRole () {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.dtlsRole\n    }\n  }\n\n  /**\n   * Send DTMF tones on specified Track object from the Session.\n   * @method sendDTMF\n   * @param {Object} options The DTMF options.\n   * @param {string} options.tone DTMF tone to send. Valid values are [0,1,2,3,4,5,6,7,8,9,#].\n   * @param {number} [options.duration=100] The amount of time, in milliseconds, that each DTMF tone should last.\n   * @param {number} [options.intertoneGap=70] The length of time, in milliseconds, to wait between tones.\n   * @param {Object} [sendOptions] The send options.\n   * @param {func} [sendOptions.callback] Optional callback for tone event .\n   * @param {string} [sendOptions.trackId] The trackId of the sender to use.\n   * @return {boolean} The success or fail indicator\n   */\n  function sendDTMF (DTMFOptions, sendOptions = {}) {\n    const peer = peerManager.get(peerId)\n    if (peer) {\n      return peer.sendDTMF(DTMFOptions, sendOptions)\n    } else {\n      return false\n    }\n  }\n\n  /**\n   * Retrieve RTCStatsReport from a sender.\n   * @method getStats\n   * @param  {string} trackId The track id associated with a sender.\n   * @return {Promise}\n   */\n  function getStats (trackId) {\n    return new Promise((resolve, reject) => {\n      const peer = peerManager.get(peerId)\n      if (!peer) {\n        reject(new Error(`Peer not found in Session ${sessionId}.`))\n        return\n      }\n      peer\n        .getStats(trackId)\n        .then(resolve)\n        .catch(reject)\n    })\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * Sets up event handlers on a given peer.\n   * @method setupPeerEventHandlers\n   * @param {PeerConnection} targetPeer The peer to set event handlers on.\n   */\n  function setupPeerEventHandlers (targetPeer) {\n    targetPeer.oniceconnectionstatechange = event => {\n      emitter.emit('peer:iceConnectionStateChange', {\n        iceConnectionState: targetPeer.iceConnectionState\n      })\n    }\n\n    // TODO: Use `uniqueLabel` when setting event listeners (and bubbling events).\n    // When the peer gets an ICE candidate, emit it as\n    //  a message to be sent to the other end.\n    targetPeer.onicecandidate = event => {\n      emitter.emit('onicecandidate', {\n        candidate: event.candidate\n      })\n    }\n\n    /*\n     * Ice Collection Check Events:\n     *\n     * Emit an event for the session channel everytime:\n     *  - the ICE gathering state changes\n     *  - an ICE candidate is collected\n     *  - it is time for a scheduled call to the collection check function\n     *\n     */\n    targetPeer.onicegatheringstatechange = event => {\n      // Only emit the event if we are in an ongoing ice collection check loop\n      if (targetPeer.isIceCollectionCheckOngoing) {\n        // Clear any previous timeout/loop\n        if (targetPeer.iceLoop) {\n          clearTimeout(targetPeer.iceLoop)\n          targetPeer.iceLoop = undefined\n        }\n        emitter.emit('peer:iceGatheringStateChange', {\n          reason: ICE_COLLECTION_CHECK_REASONS.ICE_GATHERING_STATE_CHANGE,\n          iceCollectionDuration: targetPeer.iceTimer.timeFromStart(),\n          iceCandidates: targetPeer.iceCandidates,\n          iceGatheringState: targetPeer.iceGatheringState,\n          rtcPeerConnectionConfig: targetPeer.config,\n          rtcLocalSessionDescription: targetPeer.localDescription\n        })\n      }\n    }\n\n    // Debounce the listener for the ice candidate event since they can be emitted quite quickly\n    //  one after another. Options: leading:true will ensure the first invocation always occur, and\n    //  trailing:false (default) ensures the last invocation will occur after the delay as appropriate.\n    targetPeer.on(\n      'iceCandidateCollected',\n      unfixedDebounce(50)(\n        iceCollectionInfo => {\n          // Only emit the event if we are in an ongoing ice collection check process\n          if (targetPeer.isIceCollectionCheckOngoing) {\n            // Clear any previous timeout/loop\n            if (targetPeer.iceLoop) {\n              clearTimeout(targetPeer.iceLoop)\n              targetPeer.iceLoop = undefined\n            }\n            emitter.emit('peer:iceCandidateCollected', {\n              reason: ICE_COLLECTION_CHECK_REASONS.NEW_CANDIDATE,\n              ...iceCollectionInfo\n            })\n          }\n        },\n        { leading: true }\n      )\n    )\n\n    targetPeer.on('scheduledCheck', iceCollectionInfo => {\n      // Only emit the event if we are in an ongoing ice collection check loop\n      if (targetPeer.isIceCollectionCheckOngoing) {\n        // Clear any previous timeout/loop\n        if (targetPeer.iceLoop) {\n          clearTimeout(targetPeer.iceLoop)\n          targetPeer.iceLoop = undefined\n        }\n        emitter.emit('peer:iceCollectionScheduledCheck', {\n          reason: ICE_COLLECTION_CHECK_REASONS.SCHEDULED,\n          ...iceCollectionInfo\n        })\n      }\n    })\n\n    // Handle when the Peer receives a new remote track.\n    targetPeer.ontrack = track => {\n      let media = mediaManager.get(track.getStream().id)\n      if (media) {\n        // Add the new Track to its Media object.\n        media.addTrack(track)\n      } else {\n        // Create a new Media object using the Track.\n        media = mediaManager.createRemote(track.getStream(), [track])\n      }\n\n      track.once('ended', () => {\n        emitter.emit('track:ended', {\n          local: false,\n          trackId: track.id,\n          // If a remote track is ended, then a remote action triggered it. Consider\n          //    this solicited since we don't want to take an action here.\n          isUnsolicited: false\n        })\n      })\n\n      const { kind } = track.getState()\n      log.info(`Received new track (${kind} : ${track.id})`)\n\n      // Indicate that the Session has a new Track.\n      emitter.emit('new:track', {\n        local: false,\n        trackId: track.id\n      })\n    }\n  }\n\n  /**\n   * Creates a new peer and replaces the current peer being used by this session.\n   *     This will close the previous Peer, stopping any media being sent/received on it.\n   * @method recreatePeer\n   */\n  function recreatePeer () {\n    const oldPeer = peer\n    const newPeer = peerManager.create(config.peer)\n    if (newPeer) {\n      // The id of the created peer\n      peerId = newPeer.id\n      log.debug(`Recreated Peer with ID: ${peerId}`)\n      peer = newPeer\n\n      // Copy tracks\n      oldPeer.localTracks.forEach(oldLocalTrack => {\n        newPeer.addTransceiver(oldLocalTrack)\n      })\n\n      // Set event handlers\n      setupPeerEventHandlers(newPeer)\n\n      // Close the old peer\n      oldPeer.close()\n    } else {\n      throw new Error(`Peer creation error in Session ${sessionId}.`)\n    }\n  }\n\n  function getPeer () {\n    return peer\n  }\n\n  function getRemoteDescription () {\n    return peer.remoteDescription\n  }\n\n  function getLatestRemoteDesc () {\n    return latestRemoteDescription\n  }\n\n  /**\n   * Given a list of media section IDs, return the list of remote track IDs from\n   *     the Transceivers that the media sections represent.\n   * @param {Array<string>} mids List of media section IDs.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getRemoteTrackIdsFromTransceivers (mids) {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    // Iterate over every transceiver\n    transceivers.forEach(transceiver => {\n      // If the transceiver's mid value is in our list of mids, add it to the\n      //    remoteTrackIds array to be returned.\n      // The `if` condition looks sketchy because we are comparing a string to\n      //    a number.\n      if (mids.some(mid => mid + '' === transceiver.mid)) {\n        const id = transceiver.receiver.track.id\n        remoteTrackIds.push(id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Get all active, incoming remote tracks that are part of the Session.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getIncomingRemoteTrackIds () {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    transceivers.forEach(transceiver => {\n      // Check the `direction` of the transceiver.\n      // For incoming calls, the `currentDirection` property will not be set since that transceiver\n      // is not yet fully negotiated.\n      const isReceiving =\n        transceiver.mid !== null &&\n        transceiver.direction.includes('recv') &&\n        transceiver.receiver.track.readyState === 'live'\n      if (isReceiving) {\n        remoteTrackIds.push(transceiver.receiver.track.id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Get all active, remote tracks that are part of the Session.\n   * @return {Array<string>} List of remote track IDs.\n   */\n  function getActiveRemoteTrackIds () {\n    const transceivers = peer.getTransceivers()\n\n    const remoteTrackIds = []\n    transceivers.forEach(transceiver => {\n      // transceiver.mid !== null --> The Transceiver is in the SDP.\n      // currentDirection --> The Transceiver has been negotiated.\n      // currentDirection.includes(recv) --> It has a remote track.\n      // track.readyState === live ---> It is active (...not thorough).\n      const isReceiving =\n        transceiver.mid !== null &&\n        transceiver.currentDirection &&\n        transceiver.currentDirection.includes('recv') &&\n        transceiver.receiver.track.readyState === 'live'\n      if (isReceiving) {\n        remoteTrackIds.push(transceiver.receiver.track.id)\n      }\n    })\n\n    return remoteTrackIds\n  }\n\n  /**\n   * Session method to load an audio file and insert it into the Session by\n   *    replacing an existing audio track temporarily.\n   *\n   * Provides feedback at two points in time:\n   *    1) When the audio file starts playing, or fails to start playing.\n   *        Done by fulfilling the method's Promise.\n   *    2) When the audio file ends playing, or encounters an error while playing.\n   *        Done by emitting an event.\n   *\n   * If the original audio track is replaced, but cannot be put back on the Session afterwards,\n   *    it is considered an error scenario. To \"fix\" this, the method will stop that track.\n   *    this is meant to avoid it being a \"ghost\" track. It will:\n   *        1) Clean-up resources and release the microphone,\n   *        2) Allow an application to handle it the same as any other track ending unsolicated.\n   *\n   * @method insertAudio\n   * @param {string} filePath\n   * @return {Promise} Resolves when audio file starts playing. Rejects if fails to start.\n   */\n  function insertAudio (filePath) {\n    return new Promise((resolve, reject) => {\n      let isReady = false\n      /*\n       * `playIfReady` needs to be called twice to start playing the audio file.\n       *    Once to ensure it \"can play through\".\n       *    Once to ensure the media will be streamed through the Peer.\n       */\n      function playIfReady () {\n        if (isReady) {\n          audio.play()\n        } else {\n          isReady = true\n        }\n      }\n\n      /*\n       * End the original track from the Call, but pretend that it was \"unsolicited\". This\n       *    makes it appear the same as if something other than the SDK stopped the track\n       *    so that it falls into the same error-handling scenario as them.\n       */\n      function endOriginalTrack () {\n        log.info(`Stopping track ${oldTrack.id} to release the microphone after error.`)\n        oldTrack.track.stop()\n        oldTrack.track.onended(new Event('track-error'))\n      }\n\n      // Get the audio track we will be replacing temporarily.\n      const peer = peerManager.get(peerId)\n      const oldTrack = peer.localTracks.find(track => {\n        return track.track.kind === 'audio' && track.track.readyState === 'live'\n      })\n      if (!oldTrack) {\n        reject(new Error('No valid local audio track found to insert audio file on.'))\n      }\n      // The ID of the track currently on the Call.\n      let currentTrackId = oldTrack.id\n\n      const audio = new Audio(filePath)\n      // Set the volume to 20%.\n      audio.volume = 0.2\n\n      // Create a source node from that MediaElement.\n      const context = new AudioContext()\n      const source = context.createMediaElementSource(audio)\n\n      // Connect the source node to the destination (which has a MediaStream).\n      const dest = context.createMediaStreamDestination()\n      source.connect(dest)\n      const audioTrack = dest.stream.getAudioTracks()[0]\n\n      /*\n       * Replace the existing audio track on the Peer with the file's track.\n       * When it has been replaced, that is 1 of 2 conditions to be met before playing it.\n       */\n      peer\n        .replaceTrack(audioTrack, { trackId: oldTrack.id })\n        .then(() => {\n          // The original track has successfully been replaced; take note of that.\n          currentTrackId = audioTrack.id\n          log.debug('Replaced audio from file media.')\n          playIfReady()\n        })\n        .catch(err => {\n          log.info(`Failed to replace audio with file media: ${err.message}.`)\n          reject(new Error('Failed to replace audio track with file media.'))\n        })\n\n      /*\n       * Audio event listeners:\n       *    - canplaythrough: Enough of the file has been loaded that buffering isn't needed.\n       *    - play: The file has started playing.\n       *    - error: An error was encountered.\n       *    - ended: The file has stopped playing.\n       *\n       * From our usage of `audio`:\n       *    - canplaythrough: Happens once, before we start playing the file.\n       *    - play: Indicates we have started playing the file.\n       *    - error: Most likely that the file could not start playing because `new Audio(filePath)`\n       *        failed. Could also happen mid-play, but unknown.\n       *    - ended: Indicates the file reached the end (successfully).\n       *\n       * Ref: https://developer.mozilla.org/en-US/docs/Web/API/HTMLAudioElement\n       */\n\n      // When the track \"can play through\", that is 1 of 2 conditions to be met before playing it.\n      audio.oncanplaythrough = () => {\n        log.debug('File media ready to be played.')\n        playIfReady()\n      }\n\n      // When the file start's playing, resolve the `insertAudio` promise to provide feedback.\n      audio.onplay = () => {\n        log.debug(`Audio file started playing. Duration of ${audio.duration} seconds.`)\n        resolve(audio.duration)\n      }\n\n      // On an error, reject the `insertAudio` promise to provide feedback.\n      audio.onerror = () => {\n        log.info('Encountered error trying to play audio file.')\n\n        // If the original track is not on the Peer when this error happened,\n        //    try to put it back before rejecting the `insertAudio` method.\n        if (currentTrackId !== oldTrack.id) {\n          peer.replaceTrack(oldTrack.track, { trackId: audioTrack.id }).catch(() => {\n            // If we can't \"rollback\" the operation, end the original track\n            //    to prevent it from becoming a \"ghost\" track.\n            endOriginalTrack()\n          })\n        }\n        // Reject the promise if it hasn't been fulfilled.\n        reject(new Error('Failed to play audio file.'))\n        // Emit a failure event in case the promise has already been fulfilled.\n        emitter.emit('audioFileEnded', false)\n      }\n\n      // When the file ends, replace the original audio track back on the Peer.\n      audio.onended = event => {\n        log.debug('Audio file ended playing.')\n\n        peer\n          .replaceTrack(oldTrack.track, { trackId: audioTrack.id })\n          .then(() => {\n            log.debug('Replaced original audio track.')\n            emitter.emit('audioFileEnded', true)\n          })\n          .catch(err => {\n            log.info('Failed to replace original audio track.', err)\n            endOriginalTrack()\n            // Failed to replace the original audio track.\n            emitter.emit('audioFileEnded', false)\n          })\n      }\n    })\n  }\n\n  /**\n   * Special-case method that combines getUserMedia and adding the tracks to\n   *    the Session.\n   * The goal of combining these methods is for Proxy-mode, to reduce the number\n   *    of times messages need to cross the channel. This function reduces the\n   *    trips from 3 (createLocal, getTracks, addTracks) to 1 (addNewMedia).\n   * @method addNewMedia\n   * @param {Object} mediaConstraints\n   * @return {Promise}\n   */\n  function addNewMedia (constraints) {\n    /*\n     * Helper method that wraps the getUserMedia functions on the MediaManager.\n     *    The wrapper is to prevent them from rejecting, so even a failure will\n     *    resolve the promise returned by this function. This allows the calling\n     *    function to wait for all promises to settle, so that media can be\n     *    cleaned-up if need be. (For some reason Promise.allSettled was causing\n     *    errors...)\n     * @method getMedia\n     */\n    function getMedia (constraints) {\n      const { audio, video, screen } = constraints\n\n      return new Promise(resolve => {\n        if (audio || video) {\n          mediaManager\n            .createLocal({ audio, video })\n            .then(media => {\n              resolve({ status: 'fulfilled', value: media })\n            })\n            .catch(err => {\n              resolve({ status: 'rejected', value: err })\n            })\n        } else if (screen) {\n          mediaManager\n            .createLocalScreen({ screen })\n            .then(media => {\n              resolve({ status: 'fulfilled', value: media })\n            })\n            .catch(err => {\n              resolve({ status: 'rejected', value: err })\n            })\n        }\n      })\n    }\n\n    return new Promise((resolve, reject) => {\n      const { audio, video, screen } = constraints\n      let mediaProm, screenProm\n\n      if (audio || video) {\n        mediaProm = getMedia({ audio, video })\n      }\n      if (screen) {\n        screenProm = getMedia({ screen })\n      }\n\n      Promise.all([mediaProm, screenProm]).then(results => {\n        if (results.some(result => result && result.status === 'rejected')) {\n          // At least one promise rejected. Clean-up any successful media, then\n          //    reject the original promise.\n          const medias = results.filter(result => result && result.status === 'fulfilled').map(result => result.value)\n\n          Promise.all(medias.map(media => media.stop)).then(() => {\n            const err = results.find(result => result.status === 'rejected').value\n\n            let errMessage\n            if (err.name === 'OverconstrainedError') {\n              errMessage = `Failed to get media due to constraint: ${err.constraint}.`\n            } else {\n              errMessage = `Failed to get media => Name: ${err.name}; Error Message :${err.message}.`\n            }\n            log.info(errMessage)\n\n            const newErr = new Error(errMessage)\n            newErr.name = err.name\n            reject(newErr)\n          })\n        } else {\n          // All media was gathered successfully.\n          const tracks = results.reduce((acc, cur) => {\n            // Add the tracks from the current media object to the accumulator.\n            //    If cur is undefined, just return the accumulator.\n            return cur ? acc.concat(cur.value.getTracks()) : acc\n          }, [])\n\n          addTracks(tracks)\n            .then(() => {\n              const medias = results.filter(result => result && result.value).map(result => result.value)\n              resolve(medias)\n            })\n            .catch(reject)\n        }\n      })\n    })\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id: sessionId,\n    config,\n    // Getter APIs.\n    get peer () {\n      return getPeer()\n    },\n    getState,\n    get localTracks () {\n      return getLocalTracks()\n    },\n    get remoteTracks () {\n      return getRemoteTracks()\n    },\n    get allLocalTracks () {\n      return getAllLocalTracks()\n    },\n    warmup,\n    addTracks,\n    removeTracks,\n    replaceTrack,\n    setTransceiversDirection,\n    // Negotiation APIs.\n    createOffer,\n    createAnswer,\n    setLocalDescription,\n    getRemoteDescription,\n    getLatestRemoteDesc,\n    generateOffer,\n    processOffer,\n    generateAnswer,\n    processAnswer,\n    iceCollectionCheckResult,\n    // Other APIs.\n    recreatePeer,\n    rollbackLocalDescription,\n    addIceCandidate,\n    restartIce,\n    getDtlsRole,\n    end,\n    sendDTMF,\n    getStats,\n    setParameters,\n    getRemoteTrackIdsFromTransceivers,\n    getIncomingRemoteTrackIds,\n    getActiveRemoteTrackIds,\n    insertAudio,\n    addNewMedia,\n    // Event APIs.\n    on,\n    once,\n    off\n  }\n}\n","import { logManager } from '../logs'\n\n// Libraries.\nimport EventEmitter from 'eventemitter3'\n\n/**\n * Wrapper object for a native MediaStreamTrack object.\n * Ref: https://developer.mozilla.org/en-US/docs/Web/API/MediaStreamTrack\n * @method Track\n */\nexport default function Track (mediaTrack, mediaStream) {\n  const log = logManager.getLogger('Track', mediaTrack.id)\n  log.info(`Creating new ${mediaTrack.kind} Track.`)\n\n  // Internal variables.\n  const id = mediaTrack.id\n  const track = mediaTrack\n  let stream = mediaStream\n  let isLocalTrack\n  let constraints = {}\n  const emitter = new EventEmitter()\n\n  /**\n   * When a track ends, the Track itself doesn't do anything about it.\n   * It \"bubbles\" the event up to be handled at a higher level.\n   */\n  track.onended = event => {\n    // Check whether this function was called because a native event was emitted\n    //    or if it was called manually by the SDK.\n    const isNative = event instanceof Event\n\n    const endpoint = isLocalTrack ? 'local' : 'remote'\n    const trigger = isNative ? 'unsolicited' : 'solicited'\n    log.debug(`Track ended (${endpoint}, ${trigger}).`, event)\n\n    emitter.emit('ended', {\n      trackId: track.id,\n      /*\n       * If an event triggered this listener, then it was a remote notification\n       *    (for remote track) or browser action (for local track) that caused it.\n       *    If it was a local track, then the track ending was not part of a\n       *    renegotiation and something will need to handle this situation.\n       *\n       * Otherwise, the SDK called `track.onended()` when we stopped the track as\n       *    part of an operation. The operation should handle the track being\n       *    ended since it was solicited.\n       */\n      isUnsolicited: isNative\n    })\n  }\n\n  /**\n   * When a track is muted, we forward this to any listener.\n   * This handler is typically invoked by actions triggered outside the\n   * direct control of the webrtc SDK.\n   */\n  track.onmute = event => {\n    log.debug('Event emitted: ', event)\n    emitter.emit('muted', {\n      trackId: track.id,\n      mediaId: stream.id,\n      isLocal: isLocalTrack\n    })\n  }\n\n  /**\n   * When a track is unmuted, we forward this to any listener.\n   * This handler is typically invoked by actions triggered outside the\n   * direct control of the webrtc SDK.\n   */\n  track.onunmute = event => {\n    log.debug('Event emitted: ', event)\n    emitter.emit('unmuted', {\n      trackId: track.id,\n      mediaId: stream.id,\n      isLocal: isLocalTrack\n    })\n  }\n\n  function setIsLocal (isLocal) {\n    isLocalTrack = isLocal\n  }\n\n  function isLocal () {\n    return isLocalTrack\n  }\n\n  function setStream (newStream) {\n    stream = newStream\n  }\n  function getStream () {\n    return stream\n  }\n\n  /**\n   * Retrieve a snapshot of the Track object's current state.\n   * @method getState\n   * @return {Object}\n   */\n  function getState () {\n    return {\n      id,\n      streamId: stream.id,\n      kind: track.kind,\n      isLocal: isLocalTrack,\n      label: track.label,\n      muted: track.muted,\n      enabled: track.enabled,\n      state: track.readyState\n    }\n  }\n\n  /**\n   * Set this Track to be disabled and disallow the Track to render the source stream.\n   * @method mute\n   */\n  function mute () {\n    track.enabled = false\n  }\n\n  /**\n   * Set this Track to be enabled and allow the Track to render the source stream.\n   * @method unmute\n   */\n  function unmute () {\n    track.enabled = true\n  }\n\n  /**\n   * Calls native stop() function to deassociate the source and the track.\n   * @method stop\n   */\n  function stop () {\n    if (track.readyState === 'ended') {\n      log.debug('Track already ended.')\n      return\n    }\n\n    track.stop()\n    /**\n     * Treat stopping the track the same as it being ended.\n     * Normally, onended is not triggered when `stop` is called, only when it is\n     *    \"remotely ended\".\n     */\n    track.onended()\n  }\n\n  /**\n   * Gets the currently set constraints for the track.\n   * @method getConstraints\n   * @return {Object}\n   */\n  function getConstraints () {\n    return constraints\n  }\n\n  /**\n   * Set the values for constrainable properties of the track.\n   * @method applyConstraints\n   * @param  {Object} constraints The list of constrainable properties.\n   */\n  function setConstraints (constr) {\n    constraints = constr\n  }\n\n  function on (...args) {\n    return emitter.on(...args)\n  }\n\n  function once (...args) {\n    return emitter.once(...args)\n  }\n\n  function off (...args) {\n    return emitter.off(...args)\n  }\n\n  /**\n   * The exposed API.\n   */\n  return {\n    id,\n    // Track APIs.\n    getState,\n    mute,\n    unmute,\n    stop,\n    getConstraints,\n    setConstraints,\n    // Event APIs.\n    on,\n    off,\n    once,\n    // The native track and stream was accessible before, so it was\n    //    used when it probably shouldn't have been.\n    // TODO: Find a better solution.\n    track,\n    setStream,\n    getStream,\n    setIsLocal,\n    isLocal\n  }\n}\n","/**\n * Extracts the session ID from the SDP.\n * Session ID is located in the o= line.\n * Ref: https://tools.ietf.org/html/rfc4566#section-5.2\n * @method getSdpSessionId\n * @param  {string} sdp A valid SDP string.\n * @return {string} The SDP's session ID.\n */\nexport function getSdpSessionId (sdp) {\n  const oLine = sdp.match(/o=.*/gm)\n\n  if (oLine && oLine[0]) {\n    return oLine[0].split(' ')[1]\n  }\n}\n","import { logManager } from '../logs'\n// Constants.\nimport { MEDIA_DIR } from '../constants'\n\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * SDP handler to remove the trickle ICE option from media groups.\n * Modifies the SDP so it claims to not support trickle ICE.\n * @method removeTrickleIce\n * @param  {Object} sdp\n * @param  {Object} info\n * @param  {String} info.type\n * @param  {String} info.endpoint\n * @param  {Object} originalSdp\n * @return {Object}\n */\nexport function removeTrickleIce (sdp, info, originalSdp) {\n  sdp.media.forEach(media => {\n    if (media.iceOptions === 'trickle') {\n      log.debug(`Removing trickle ICE option from ${media.type} media.`)\n      delete media.iceOptions\n    }\n  })\n\n  return sdp\n}\n\n/**\n * SDP handler to delete the bundle groupings line from the SDP.\n * PeerConnections do not have an option to completely disable bundling, so\n *    manually removing the line from the SDP is needed to prevent bundling.\n * @method removeBundling\n * @param  {Object}     sdp           The session description.\n * @param  {Object}     info          Information about the session description.\n * @param  {RTCSdpType} info.type     The session description's type.\n * @param  {String}     info.endpoint Which end of the connection created the SDP.\n * @param  {Object}     originalSdp   The original SDP before any modifications.\n * @return {Object}\n */\nexport function removeBundling (sdp, info, originalSdp) {\n  if (sdp.groups) {\n    log.debug('Removing SDP bundling groups.')\n    delete sdp.groups\n  }\n\n  return sdp\n}\n\n/**\n * Currying function to create an SDP handler.\n * The SDP handler modifies the SDP to change the direction of media.\n * @method changeMediaDirection\n * @param  {Object} mediaDirections\n * @param  {string} [audio] Direction to set for audio.\n * @param  {string} [video] Direction to set for video.\n * @return {Function} SDP handler.\n */\nexport function changeMediaDirection ({ audio, video }) {\n  function isValid (direction) {\n    return Object.values(MEDIA_DIR).includes(direction)\n  }\n\n  /**\n   * SDP handler to change the direction of media a-lines.\n   */\n  return (sdp, info, originalSdp) => {\n    sdp.media.forEach(media => {\n      if (media.type === 'audio' && isValid(audio)) {\n        media.direction = audio\n      } else if (media.type === 'video' && isValid(video)) {\n        media.direction = video\n      }\n    })\n    return sdp\n  }\n}\n\n/**\n * SDP handler to modify the DTLS role of a locally generated answer SDP.\n *\n * The point of this SDP handler is to avoid a DTLS role conflict during a\n *    renegotiation. A role conflict occurs when DTLS roles have been selected\n *    during initial negotiation, but during renegotiation, the answerer selects\n *    the opposite role than previously used.\n *\n * This handler only needs to be used when the Peer is generating an answer SDP.\n *    That is the only point when a conflicting role can be chosen.\n *\n * This handler prevents the role changing by comparing the SDP's role with the\n *    role that the Peer previously selected. If they conflict, the Peer's\n *    previous role is used.\n *\n * Related stories: KAA-1426, KAA-1562.\n * References: https://groups.google.com/forum/#!topic/discuss-webrtc/gsw3OEAwNKo\n * @method preventDtlsRoleChange\n * @param  {Object}     newSdp          The session description.\n * @param  {Object}     info            Information about the session description.\n * @param  {RTCSdpType} info.type       The session description's type.\n * @param  {string}     info.endpoint   Which end of the connection created the SDP.\n * @param  {string}     [info.dtlsRole] The previously select DTLS role of the Peer.\n * @param  {Object}     originalSdp     The sdp in its initial state.\n * @return {Object}                     The modified SDP.\n */\nexport function preventDtlsRoleChange (newSdp, info, originalSdp) {\n  /**\n   * This SDP handler only affects local answer SDPs.\n   *  - Only local because we are trying to prevent role conflict issues caused\n   *        by the answerer choosing the \"wrong\" role during a renegotiation.\n   *  - Only answer because offers are always actpass.\n   */\n  if (info.endpoint === 'local' && info.type === 'answer') {\n    for (const mLine of newSdp.media) {\n      /**\n       * If the generated DTLS role is different than what the Peer expects,\n       *    replace it. The Peer expects the DTLS role to stay the same\n       *    throughout renegotiations.\n       */\n      if (mLine.setup && info.dtlsRole && mLine.setup !== info.dtlsRole) {\n        log.debug(`Changing DTLS role from ${mLine.setup} to ${info.dtlsRole}.`)\n        mLine.setup = info.dtlsRole\n      }\n    }\n  }\n  return newSdp\n}\n","// Libraries.\nimport sdpTransform from 'sdp-transform'\nimport { cloneDeep, isArray, isFunction } from 'lodash/fp'\n\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * Basic SDP pipeline runner.\n * Does not include any default handlers.\n * @method sdpPipeline\n * @param  {Array}      handlers       List of functions that transform the SDP.\n * @param  {String}     sdp            The session description.\n * @param  {RTCSdpType} info           Information about the session description.\n * @param  {RTCSdpType} info.type      The session description's type.\n * @param  {String}     info.endpoint  Which end of the connection created the SDP.\n * @param  {Boolean}    info.isInitiator Whether this session initiated the connection or not.\n * @return {String}     The modified session description.\n\n */\nexport function runPipeline (handlers, sdp, info) {\n  const objectSdp = sdpTransform.parse(sdp)\n\n  const originalSdp = Object.freeze(objectSdp)\n  let newSdp = cloneDeep(originalSdp)\n\n  if (isArray(handlers)) {\n    handlers.forEach(handler => {\n      if (isFunction(handler)) {\n        newSdp = handler(newSdp, info, originalSdp)\n      } else {\n        log.error('SDP handler not a function; skipping.')\n      }\n    })\n  }\n\n  return sdpTransform.write(newSdp)\n}\n\n/**\n * Create an instance of the SDP pipeline.\n * Allows for persistent SDP handlers to be set and implicitly used.\n * @method createPipeline\n * @return {Object} An SDP pipeline.\n */\nfunction createPipeline () {\n  /**\n   * SDP handlers that should be included with every pipeline run.\n   * @type {Array}\n   */\n  let defaultHandlers = []\n\n  /**\n   * Use the pipeline to process an SDP.\n   * @method run\n   * @param  {Array}      handlers      List of functions that transform the SDP.\n   * @param  {String}     sdp           The session description.\n   * @param  {RTCSdpType} info          Information about the session description.\n   * @param  {RTCSdpType} info.type     The session description's type.\n   * @param  {String}     info.endpoint Which end of the connection created the SDP.\n   * @return {String}     The modified session description.\n   */\n  function run (handlers = [], sdp, info) {\n    return runPipeline(handlers.concat(defaultHandlers), sdp, info)\n  }\n\n  /**\n   * Set the SDP handlers that should be included with every pipeline run.\n   * @method setHandlers\n   * @param  {Array} handlers List of SDP handler functions.\n   */\n  function setHandlers (handlers) {\n    if (isArray(handlers)) {\n      defaultHandlers = defaultHandlers.concat(handlers)\n    }\n  }\n\n  /**\n   * Get the SDP handlers that are included with every pipeline run.\n   * @method getHandlers\n   * @return {Array} List of SDP handler functions.\n   */\n  function getHandlers () {\n    return defaultHandlers\n  }\n\n  return {\n    run,\n    setHandlers,\n    getHandlers\n  }\n}\n\n// Export an instance of the pipeline to be used by everything.\nexport default createPipeline()\n","import { MEDIA_DIR } from '../constants'\nimport { values, includes } from 'lodash/fp'\n\nimport { logManager } from '../logs'\nconst log = logManager.getLogger('SdpPipeline')\n\n/**\n * Sets a transceiver's direction.\n * Checks that the desired direction is a valid one.\n * @method setTransceiverDirection\n * @param {Object} transceiver The transceiver that we want to modify.\n * @param {String} targetDirection The desired direction we want to change to.\n * @return {Boolean} Indicator on whether the transceiver direction was successfully changed.\n */\nexport function setTransceiverDirection (transceiver, targetDirection) {\n  if (!includes(targetDirection, values(MEDIA_DIR))) {\n    log.info(`Invalid direction \"${targetDirection}\"`)\n    return false\n  }\n\n  // Only in Safari:\n  //  - has transceiver.setDirection\n  //  - transceiver.direction is readOnly\n  if (transceiver.setDirection) {\n    transceiver.setDirection(targetDirection)\n  } else {\n    transceiver.direction = targetDirection\n  }\n  return true\n}\n","import adapter from 'webrtc-adapter/out/adapter'\nimport { mergeAllWith, isArray } from 'lodash/fp'\n\n// TODO: This function was copied from Kandy, we should eventually create a common project that\n// can contain all of these utils that are useful in multiple packages.\n\n/**\n * Deeply merges the values of multiple objects. Objects on the left receive the values from objects on their right.\n * Unlike lodash's default merge behavior this doesn't merge arrays.\n *\n * @name mergeValues\n * @param {...Object} objects - Objects to merge\n * @return {Object} A new object containing the merged values.\n */\nexport function mergeValues (...objects) {\n  return mergeAllWith((leftValue, rightValue) => {\n    // Overwrite the default behavior of lodash's merge for arrays and simply\n    // clobber what's on the left so we don't end up with merged arrays.\n    if (isArray(leftValue)) {\n      return rightValue\n    }\n  }, objects)\n}\n\nexport function makeSafeForCSS (name) {\n  if (!name) {\n    return name\n  } else {\n    return name.replace(/[^a-z0-9]/g, '')\n  }\n}\n\n/**\n * @returns The browser details as provided by webrtc-adapter\n */\nexport function getBrowserDetails () {\n  return adapter.browserDetails\n}\n","'use strict';\n\nvar has = Object.prototype.hasOwnProperty\n  , prefix = '~';\n\n/**\n * Constructor to create a storage for our `EE` objects.\n * An `Events` instance is a plain object whose properties are event names.\n *\n * @constructor\n * @private\n */\nfunction Events() {}\n\n//\n// We try to not inherit from `Object.prototype`. In some engines creating an\n// instance in this way is faster than calling `Object.create(null)` directly.\n// If `Object.create(null)` is not supported we prefix the event names with a\n// character to make sure that the built-in object properties are not\n// overridden or used as an attack vector.\n//\nif (Object.create) {\n  Events.prototype = Object.create(null);\n\n  //\n  // This hack is needed because the `__proto__` property is still inherited in\n  // some old browsers like Android 4, iPhone 5.1, Opera 11 and Safari 5.\n  //\n  if (!new Events().__proto__) prefix = false;\n}\n\n/**\n * Representation of a single event listener.\n *\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} [once=false] Specify if the listener is a one-time listener.\n * @constructor\n * @private\n */\nfunction EE(fn, context, once) {\n  this.fn = fn;\n  this.context = context;\n  this.once = once || false;\n}\n\n/**\n * Add a listener for a given event.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} context The context to invoke the listener with.\n * @param {Boolean} once Specify if the listener is a one-time listener.\n * @returns {EventEmitter}\n * @private\n */\nfunction addListener(emitter, event, fn, context, once) {\n  if (typeof fn !== 'function') {\n    throw new TypeError('The listener must be a function');\n  }\n\n  var listener = new EE(fn, context || emitter, once)\n    , evt = prefix ? prefix + event : event;\n\n  if (!emitter._events[evt]) emitter._events[evt] = listener, emitter._eventsCount++;\n  else if (!emitter._events[evt].fn) emitter._events[evt].push(listener);\n  else emitter._events[evt] = [emitter._events[evt], listener];\n\n  return emitter;\n}\n\n/**\n * Clear event by name.\n *\n * @param {EventEmitter} emitter Reference to the `EventEmitter` instance.\n * @param {(String|Symbol)} evt The Event name.\n * @private\n */\nfunction clearEvent(emitter, evt) {\n  if (--emitter._eventsCount === 0) emitter._events = new Events();\n  else delete emitter._events[evt];\n}\n\n/**\n * Minimal `EventEmitter` interface that is molded against the Node.js\n * `EventEmitter` interface.\n *\n * @constructor\n * @public\n */\nfunction EventEmitter() {\n  this._events = new Events();\n  this._eventsCount = 0;\n}\n\n/**\n * Return an array listing the events for which the emitter has registered\n * listeners.\n *\n * @returns {Array}\n * @public\n */\nEventEmitter.prototype.eventNames = function eventNames() {\n  var names = []\n    , events\n    , name;\n\n  if (this._eventsCount === 0) return names;\n\n  for (name in (events = this._events)) {\n    if (has.call(events, name)) names.push(prefix ? name.slice(1) : name);\n  }\n\n  if (Object.getOwnPropertySymbols) {\n    return names.concat(Object.getOwnPropertySymbols(events));\n  }\n\n  return names;\n};\n\n/**\n * Return the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Array} The registered listeners.\n * @public\n */\nEventEmitter.prototype.listeners = function listeners(event) {\n  var evt = prefix ? prefix + event : event\n    , handlers = this._events[evt];\n\n  if (!handlers) return [];\n  if (handlers.fn) return [handlers.fn];\n\n  for (var i = 0, l = handlers.length, ee = new Array(l); i < l; i++) {\n    ee[i] = handlers[i].fn;\n  }\n\n  return ee;\n};\n\n/**\n * Return the number of listeners listening to a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Number} The number of listeners.\n * @public\n */\nEventEmitter.prototype.listenerCount = function listenerCount(event) {\n  var evt = prefix ? prefix + event : event\n    , listeners = this._events[evt];\n\n  if (!listeners) return 0;\n  if (listeners.fn) return 1;\n  return listeners.length;\n};\n\n/**\n * Calls each of the listeners registered for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @returns {Boolean} `true` if the event had listeners, else `false`.\n * @public\n */\nEventEmitter.prototype.emit = function emit(event, a1, a2, a3, a4, a5) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return false;\n\n  var listeners = this._events[evt]\n    , len = arguments.length\n    , args\n    , i;\n\n  if (listeners.fn) {\n    if (listeners.once) this.removeListener(event, listeners.fn, undefined, true);\n\n    switch (len) {\n      case 1: return listeners.fn.call(listeners.context), true;\n      case 2: return listeners.fn.call(listeners.context, a1), true;\n      case 3: return listeners.fn.call(listeners.context, a1, a2), true;\n      case 4: return listeners.fn.call(listeners.context, a1, a2, a3), true;\n      case 5: return listeners.fn.call(listeners.context, a1, a2, a3, a4), true;\n      case 6: return listeners.fn.call(listeners.context, a1, a2, a3, a4, a5), true;\n    }\n\n    for (i = 1, args = new Array(len -1); i < len; i++) {\n      args[i - 1] = arguments[i];\n    }\n\n    listeners.fn.apply(listeners.context, args);\n  } else {\n    var length = listeners.length\n      , j;\n\n    for (i = 0; i < length; i++) {\n      if (listeners[i].once) this.removeListener(event, listeners[i].fn, undefined, true);\n\n      switch (len) {\n        case 1: listeners[i].fn.call(listeners[i].context); break;\n        case 2: listeners[i].fn.call(listeners[i].context, a1); break;\n        case 3: listeners[i].fn.call(listeners[i].context, a1, a2); break;\n        case 4: listeners[i].fn.call(listeners[i].context, a1, a2, a3); break;\n        default:\n          if (!args) for (j = 1, args = new Array(len -1); j < len; j++) {\n            args[j - 1] = arguments[j];\n          }\n\n          listeners[i].fn.apply(listeners[i].context, args);\n      }\n    }\n  }\n\n  return true;\n};\n\n/**\n * Add a listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.on = function on(event, fn, context) {\n  return addListener(this, event, fn, context, false);\n};\n\n/**\n * Add a one-time listener for a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn The listener function.\n * @param {*} [context=this] The context to invoke the listener with.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.once = function once(event, fn, context) {\n  return addListener(this, event, fn, context, true);\n};\n\n/**\n * Remove the listeners of a given event.\n *\n * @param {(String|Symbol)} event The event name.\n * @param {Function} fn Only remove the listeners that match this function.\n * @param {*} context Only remove the listeners that have this context.\n * @param {Boolean} once Only remove one-time listeners.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeListener = function removeListener(event, fn, context, once) {\n  var evt = prefix ? prefix + event : event;\n\n  if (!this._events[evt]) return this;\n  if (!fn) {\n    clearEvent(this, evt);\n    return this;\n  }\n\n  var listeners = this._events[evt];\n\n  if (listeners.fn) {\n    if (\n      listeners.fn === fn &&\n      (!once || listeners.once) &&\n      (!context || listeners.context === context)\n    ) {\n      clearEvent(this, evt);\n    }\n  } else {\n    for (var i = 0, events = [], length = listeners.length; i < length; i++) {\n      if (\n        listeners[i].fn !== fn ||\n        (once && !listeners[i].once) ||\n        (context && listeners[i].context !== context)\n      ) {\n        events.push(listeners[i]);\n      }\n    }\n\n    //\n    // Reset the array, or remove it completely if we have no more listeners.\n    //\n    if (events.length) this._events[evt] = events.length === 1 ? events[0] : events;\n    else clearEvent(this, evt);\n  }\n\n  return this;\n};\n\n/**\n * Remove all listeners, or those of the specified event.\n *\n * @param {(String|Symbol)} [event] The event name.\n * @returns {EventEmitter} `this`.\n * @public\n */\nEventEmitter.prototype.removeAllListeners = function removeAllListeners(event) {\n  var evt;\n\n  if (event) {\n    evt = prefix ? prefix + event : event;\n    if (this._events[evt]) clearEvent(this, evt);\n  } else {\n    this._events = new Events();\n    this._eventsCount = 0;\n  }\n\n  return this;\n};\n\n//\n// Alias methods names because people roll like that.\n//\nEventEmitter.prototype.off = EventEmitter.prototype.removeListener;\nEventEmitter.prototype.addListener = EventEmitter.prototype.on;\n\n//\n// Expose the prefix.\n//\nEventEmitter.prefixed = prefix;\n\n//\n// Allow `EventEmitter` to be imported as module namespace.\n//\nEventEmitter.EventEmitter = EventEmitter;\n\n//\n// Expose the module.\n//\nif ('undefined' !== typeof module) {\n  module.exports = EventEmitter;\n}\n","var _ = require('./lodash.min').runInContext();\nmodule.exports = require('./fp/_baseConvert')(_, _);\n","var mapping = require('./_mapping'),\n    fallbackHolder = require('./placeholder');\n\n/** Built-in value reference. */\nvar push = Array.prototype.push;\n\n/**\n * Creates a function, with an arity of `n`, that invokes `func` with the\n * arguments it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {number} n The arity of the new function.\n * @returns {Function} Returns the new function.\n */\nfunction baseArity(func, n) {\n  return n == 2\n    ? function(a, b) { return func.apply(undefined, arguments); }\n    : function(a) { return func.apply(undefined, arguments); };\n}\n\n/**\n * Creates a function that invokes `func`, with up to `n` arguments, ignoring\n * any additional arguments.\n *\n * @private\n * @param {Function} func The function to cap arguments for.\n * @param {number} n The arity cap.\n * @returns {Function} Returns the new function.\n */\nfunction baseAry(func, n) {\n  return n == 2\n    ? function(a, b) { return func(a, b); }\n    : function(a) { return func(a); };\n}\n\n/**\n * Creates a clone of `array`.\n *\n * @private\n * @param {Array} array The array to clone.\n * @returns {Array} Returns the cloned array.\n */\nfunction cloneArray(array) {\n  var length = array ? array.length : 0,\n      result = Array(length);\n\n  while (length--) {\n    result[length] = array[length];\n  }\n  return result;\n}\n\n/**\n * Creates a function that clones a given object using the assignment `func`.\n *\n * @private\n * @param {Function} func The assignment function.\n * @returns {Function} Returns the new cloner function.\n */\nfunction createCloner(func) {\n  return function(object) {\n    return func({}, object);\n  };\n}\n\n/**\n * A specialized version of `_.spread` which flattens the spread array into\n * the arguments of the invoked `func`.\n *\n * @private\n * @param {Function} func The function to spread arguments over.\n * @param {number} start The start position of the spread.\n * @returns {Function} Returns the new function.\n */\nfunction flatSpread(func, start) {\n  return function() {\n    var length = arguments.length,\n        lastIndex = length - 1,\n        args = Array(length);\n\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var array = args[start],\n        otherArgs = args.slice(0, start);\n\n    if (array) {\n      push.apply(otherArgs, array);\n    }\n    if (start != lastIndex) {\n      push.apply(otherArgs, args.slice(start + 1));\n    }\n    return func.apply(this, otherArgs);\n  };\n}\n\n/**\n * Creates a function that wraps `func` and uses `cloner` to clone the first\n * argument it receives.\n *\n * @private\n * @param {Function} func The function to wrap.\n * @param {Function} cloner The function to clone arguments.\n * @returns {Function} Returns the new immutable function.\n */\nfunction wrapImmutable(func, cloner) {\n  return function() {\n    var length = arguments.length;\n    if (!length) {\n      return;\n    }\n    var args = Array(length);\n    while (length--) {\n      args[length] = arguments[length];\n    }\n    var result = args[0] = cloner.apply(undefined, args);\n    func.apply(undefined, args);\n    return result;\n  };\n}\n\n/**\n * The base implementation of `convert` which accepts a `util` object of methods\n * required to perform conversions.\n *\n * @param {Object} util The util object.\n * @param {string} name The name of the function to convert.\n * @param {Function} func The function to convert.\n * @param {Object} [options] The options object.\n * @param {boolean} [options.cap=true] Specify capping iteratee arguments.\n * @param {boolean} [options.curry=true] Specify currying.\n * @param {boolean} [options.fixed=true] Specify fixed arity.\n * @param {boolean} [options.immutable=true] Specify immutable operations.\n * @param {boolean} [options.rearg=true] Specify rearranging arguments.\n * @returns {Function|Object} Returns the converted function or object.\n */\nfunction baseConvert(util, name, func, options) {\n  var isLib = typeof name == 'function',\n      isObj = name === Object(name);\n\n  if (isObj) {\n    options = func;\n    func = name;\n    name = undefined;\n  }\n  if (func == null) {\n    throw new TypeError;\n  }\n  options || (options = {});\n\n  var config = {\n    'cap': 'cap' in options ? options.cap : true,\n    'curry': 'curry' in options ? options.curry : true,\n    'fixed': 'fixed' in options ? options.fixed : true,\n    'immutable': 'immutable' in options ? options.immutable : true,\n    'rearg': 'rearg' in options ? options.rearg : true\n  };\n\n  var defaultHolder = isLib ? func : fallbackHolder,\n      forceCurry = ('curry' in options) && options.curry,\n      forceFixed = ('fixed' in options) && options.fixed,\n      forceRearg = ('rearg' in options) && options.rearg,\n      pristine = isLib ? func.runInContext() : undefined;\n\n  var helpers = isLib ? func : {\n    'ary': util.ary,\n    'assign': util.assign,\n    'clone': util.clone,\n    'curry': util.curry,\n    'forEach': util.forEach,\n    'isArray': util.isArray,\n    'isError': util.isError,\n    'isFunction': util.isFunction,\n    'isWeakMap': util.isWeakMap,\n    'iteratee': util.iteratee,\n    'keys': util.keys,\n    'rearg': util.rearg,\n    'toInteger': util.toInteger,\n    'toPath': util.toPath\n  };\n\n  var ary = helpers.ary,\n      assign = helpers.assign,\n      clone = helpers.clone,\n      curry = helpers.curry,\n      each = helpers.forEach,\n      isArray = helpers.isArray,\n      isError = helpers.isError,\n      isFunction = helpers.isFunction,\n      isWeakMap = helpers.isWeakMap,\n      keys = helpers.keys,\n      rearg = helpers.rearg,\n      toInteger = helpers.toInteger,\n      toPath = helpers.toPath;\n\n  var aryMethodKeys = keys(mapping.aryMethod);\n\n  var wrappers = {\n    'castArray': function(castArray) {\n      return function() {\n        var value = arguments[0];\n        return isArray(value)\n          ? castArray(cloneArray(value))\n          : castArray.apply(undefined, arguments);\n      };\n    },\n    'iteratee': function(iteratee) {\n      return function() {\n        var func = arguments[0],\n            arity = arguments[1],\n            result = iteratee(func, arity),\n            length = result.length;\n\n        if (config.cap && typeof arity == 'number') {\n          arity = arity > 2 ? (arity - 2) : 1;\n          return (length && length <= arity) ? result : baseAry(result, arity);\n        }\n        return result;\n      };\n    },\n    'mixin': function(mixin) {\n      return function(source) {\n        var func = this;\n        if (!isFunction(func)) {\n          return mixin(func, Object(source));\n        }\n        var pairs = [];\n        each(keys(source), function(key) {\n          if (isFunction(source[key])) {\n            pairs.push([key, func.prototype[key]]);\n          }\n        });\n\n        mixin(func, Object(source));\n\n        each(pairs, function(pair) {\n          var value = pair[1];\n          if (isFunction(value)) {\n            func.prototype[pair[0]] = value;\n          } else {\n            delete func.prototype[pair[0]];\n          }\n        });\n        return func;\n      };\n    },\n    'nthArg': function(nthArg) {\n      return function(n) {\n        var arity = n < 0 ? 1 : (toInteger(n) + 1);\n        return curry(nthArg(n), arity);\n      };\n    },\n    'rearg': function(rearg) {\n      return function(func, indexes) {\n        var arity = indexes ? indexes.length : 0;\n        return curry(rearg(func, indexes), arity);\n      };\n    },\n    'runInContext': function(runInContext) {\n      return function(context) {\n        return baseConvert(util, runInContext(context), options);\n      };\n    }\n  };\n\n  /*--------------------------------------------------------------------------*/\n\n  /**\n   * Casts `func` to a function with an arity capped iteratee if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCap(name, func) {\n    if (config.cap) {\n      var indexes = mapping.iterateeRearg[name];\n      if (indexes) {\n        return iterateeRearg(func, indexes);\n      }\n      var n = !isLib && mapping.iterateeAry[name];\n      if (n) {\n        return iterateeAry(func, n);\n      }\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to a curried function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castCurry(name, func, n) {\n    return (forceCurry || (config.curry && n > 1))\n      ? curry(func, n)\n      : func;\n  }\n\n  /**\n   * Casts `func` to a fixed arity function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the cast function.\n   */\n  function castFixed(name, func, n) {\n    if (config.fixed && (forceFixed || !mapping.skipFixed[name])) {\n      var data = mapping.methodSpread[name],\n          start = data && data.start;\n\n      return start  === undefined ? ary(func, n) : flatSpread(func, start);\n    }\n    return func;\n  }\n\n  /**\n   * Casts `func` to an rearged function if needed.\n   *\n   * @private\n   * @param {string} name The name of the function to inspect.\n   * @param {Function} func The function to inspect.\n   * @param {number} n The arity of `func`.\n   * @returns {Function} Returns the cast function.\n   */\n  function castRearg(name, func, n) {\n    return (config.rearg && n > 1 && (forceRearg || !mapping.skipRearg[name]))\n      ? rearg(func, mapping.methodRearg[name] || mapping.aryRearg[n])\n      : func;\n  }\n\n  /**\n   * Creates a clone of `object` by `path`.\n   *\n   * @private\n   * @param {Object} object The object to clone.\n   * @param {Array|string} path The path to clone by.\n   * @returns {Object} Returns the cloned object.\n   */\n  function cloneByPath(object, path) {\n    path = toPath(path);\n\n    var index = -1,\n        length = path.length,\n        lastIndex = length - 1,\n        result = clone(Object(object)),\n        nested = result;\n\n    while (nested != null && ++index < length) {\n      var key = path[index],\n          value = nested[key];\n\n      if (value != null &&\n          !(isFunction(value) || isError(value) || isWeakMap(value))) {\n        nested[key] = clone(index == lastIndex ? value : Object(value));\n      }\n      nested = nested[key];\n    }\n    return result;\n  }\n\n  /**\n   * Converts `lodash` to an immutable auto-curried iteratee-first data-last\n   * version with conversion `options` applied.\n   *\n   * @param {Object} [options] The options object. See `baseConvert` for more details.\n   * @returns {Function} Returns the converted `lodash`.\n   */\n  function convertLib(options) {\n    return _.runInContext.convert(options)(undefined);\n  }\n\n  /**\n   * Create a converter function for `func` of `name`.\n   *\n   * @param {string} name The name of the function to convert.\n   * @param {Function} func The function to convert.\n   * @returns {Function} Returns the new converter function.\n   */\n  function createConverter(name, func) {\n    var realName = mapping.aliasToReal[name] || name,\n        methodName = mapping.remap[realName] || realName,\n        oldOptions = options;\n\n    return function(options) {\n      var newUtil = isLib ? pristine : helpers,\n          newFunc = isLib ? pristine[methodName] : func,\n          newOptions = assign(assign({}, oldOptions), options);\n\n      return baseConvert(newUtil, realName, newFunc, newOptions);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee, with up to `n`\n   * arguments, ignoring any additional arguments.\n   *\n   * @private\n   * @param {Function} func The function to cap iteratee arguments for.\n   * @param {number} n The arity cap.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeAry(func, n) {\n    return overArg(func, function(func) {\n      return typeof func == 'function' ? baseAry(func, n) : func;\n    });\n  }\n\n  /**\n   * Creates a function that wraps `func` to invoke its iteratee with arguments\n   * arranged according to the specified `indexes` where the argument value at\n   * the first index is provided as the first argument, the argument value at\n   * the second index is provided as the second argument, and so on.\n   *\n   * @private\n   * @param {Function} func The function to rearrange iteratee arguments for.\n   * @param {number[]} indexes The arranged argument indexes.\n   * @returns {Function} Returns the new function.\n   */\n  function iterateeRearg(func, indexes) {\n    return overArg(func, function(func) {\n      var n = indexes.length;\n      return baseArity(rearg(baseAry(func, n), indexes), n);\n    });\n  }\n\n  /**\n   * Creates a function that invokes `func` with its first argument transformed.\n   *\n   * @private\n   * @param {Function} func The function to wrap.\n   * @param {Function} transform The argument transform.\n   * @returns {Function} Returns the new function.\n   */\n  function overArg(func, transform) {\n    return function() {\n      var length = arguments.length;\n      if (!length) {\n        return func();\n      }\n      var args = Array(length);\n      while (length--) {\n        args[length] = arguments[length];\n      }\n      var index = config.rearg ? 0 : (length - 1);\n      args[index] = transform(args[index]);\n      return func.apply(undefined, args);\n    };\n  }\n\n  /**\n   * Creates a function that wraps `func` and applys the conversions\n   * rules by `name`.\n   *\n   * @private\n   * @param {string} name The name of the function to wrap.\n   * @param {Function} func The function to wrap.\n   * @returns {Function} Returns the converted function.\n   */\n  function wrap(name, func, placeholder) {\n    var result,\n        realName = mapping.aliasToReal[name] || name,\n        wrapped = func,\n        wrapper = wrappers[realName];\n\n    if (wrapper) {\n      wrapped = wrapper(func);\n    }\n    else if (config.immutable) {\n      if (mapping.mutate.array[realName]) {\n        wrapped = wrapImmutable(func, cloneArray);\n      }\n      else if (mapping.mutate.object[realName]) {\n        wrapped = wrapImmutable(func, createCloner(func));\n      }\n      else if (mapping.mutate.set[realName]) {\n        wrapped = wrapImmutable(func, cloneByPath);\n      }\n    }\n    each(aryMethodKeys, function(aryKey) {\n      each(mapping.aryMethod[aryKey], function(otherName) {\n        if (realName == otherName) {\n          var data = mapping.methodSpread[realName],\n              afterRearg = data && data.afterRearg;\n\n          result = afterRearg\n            ? castFixed(realName, castRearg(realName, wrapped, aryKey), aryKey)\n            : castRearg(realName, castFixed(realName, wrapped, aryKey), aryKey);\n\n          result = castCap(realName, result);\n          result = castCurry(realName, result, aryKey);\n          return false;\n        }\n      });\n      return !result;\n    });\n\n    result || (result = wrapped);\n    if (result == func) {\n      result = forceCurry ? curry(result, 1) : function() {\n        return func.apply(this, arguments);\n      };\n    }\n    result.convert = createConverter(realName, func);\n    result.placeholder = func.placeholder = placeholder;\n\n    return result;\n  }\n\n  /*--------------------------------------------------------------------------*/\n\n  if (!isObj) {\n    return wrap(name, func, defaultHolder);\n  }\n  var _ = func;\n\n  // Convert methods by ary cap.\n  var pairs = [];\n  each(aryMethodKeys, function(aryKey) {\n    each(mapping.aryMethod[aryKey], function(key) {\n      var func = _[mapping.remap[key] || key];\n      if (func) {\n        pairs.push([key, wrap(key, func, _)]);\n      }\n    });\n  });\n\n  // Convert remaining methods.\n  each(keys(_), function(key) {\n    var func = _[key];\n    if (typeof func == 'function') {\n      var length = pairs.length;\n      while (length--) {\n        if (pairs[length][0] == key) {\n          return;\n        }\n      }\n      func.convert = createConverter(key, func);\n      pairs.push([key, func]);\n    }\n  });\n\n  // Assign to `_` leaving `_.prototype` unchanged to allow chaining.\n  each(pairs, function(pair) {\n    _[pair[0]] = pair[1];\n  });\n\n  _.convert = convertLib;\n  _.placeholder = _;\n\n  // Assign aliases.\n  each(keys(_), function(key) {\n    each(mapping.realToAlias[key] || [], function(alias) {\n      _[alias] = _[key];\n    });\n  });\n\n  return _;\n}\n\nmodule.exports = baseConvert;\n","/** Used to map aliases to their real names. */\nexports.aliasToReal = {\n\n  // Lodash aliases.\n  'each': 'forEach',\n  'eachRight': 'forEachRight',\n  'entries': 'toPairs',\n  'entriesIn': 'toPairsIn',\n  'extend': 'assignIn',\n  'extendAll': 'assignInAll',\n  'extendAllWith': 'assignInAllWith',\n  'extendWith': 'assignInWith',\n  'first': 'head',\n\n  // Methods that are curried variants of others.\n  'conforms': 'conformsTo',\n  'matches': 'isMatch',\n  'property': 'get',\n\n  // Ramda aliases.\n  '__': 'placeholder',\n  'F': 'stubFalse',\n  'T': 'stubTrue',\n  'all': 'every',\n  'allPass': 'overEvery',\n  'always': 'constant',\n  'any': 'some',\n  'anyPass': 'overSome',\n  'apply': 'spread',\n  'assoc': 'set',\n  'assocPath': 'set',\n  'complement': 'negate',\n  'compose': 'flowRight',\n  'contains': 'includes',\n  'dissoc': 'unset',\n  'dissocPath': 'unset',\n  'dropLast': 'dropRight',\n  'dropLastWhile': 'dropRightWhile',\n  'equals': 'isEqual',\n  'identical': 'eq',\n  'indexBy': 'keyBy',\n  'init': 'initial',\n  'invertObj': 'invert',\n  'juxt': 'over',\n  'omitAll': 'omit',\n  'nAry': 'ary',\n  'path': 'get',\n  'pathEq': 'matchesProperty',\n  'pathOr': 'getOr',\n  'paths': 'at',\n  'pickAll': 'pick',\n  'pipe': 'flow',\n  'pluck': 'map',\n  'prop': 'get',\n  'propEq': 'matchesProperty',\n  'propOr': 'getOr',\n  'props': 'at',\n  'symmetricDifference': 'xor',\n  'symmetricDifferenceBy': 'xorBy',\n  'symmetricDifferenceWith': 'xorWith',\n  'takeLast': 'takeRight',\n  'takeLastWhile': 'takeRightWhile',\n  'unapply': 'rest',\n  'unnest': 'flatten',\n  'useWith': 'overArgs',\n  'where': 'conformsTo',\n  'whereEq': 'isMatch',\n  'zipObj': 'zipObject'\n};\n\n/** Used to map ary to method names. */\nexports.aryMethod = {\n  '1': [\n    'assignAll', 'assignInAll', 'attempt', 'castArray', 'ceil', 'create',\n    'curry', 'curryRight', 'defaultsAll', 'defaultsDeepAll', 'floor', 'flow',\n    'flowRight', 'fromPairs', 'invert', 'iteratee', 'memoize', 'method', 'mergeAll',\n    'methodOf', 'mixin', 'nthArg', 'over', 'overEvery', 'overSome','rest', 'reverse',\n    'round', 'runInContext', 'spread', 'template', 'trim', 'trimEnd', 'trimStart',\n    'uniqueId', 'words', 'zipAll'\n  ],\n  '2': [\n    'add', 'after', 'ary', 'assign', 'assignAllWith', 'assignIn', 'assignInAllWith',\n    'at', 'before', 'bind', 'bindAll', 'bindKey', 'chunk', 'cloneDeepWith',\n    'cloneWith', 'concat', 'conformsTo', 'countBy', 'curryN', 'curryRightN',\n    'debounce', 'defaults', 'defaultsDeep', 'defaultTo', 'delay', 'difference',\n    'divide', 'drop', 'dropRight', 'dropRightWhile', 'dropWhile', 'endsWith', 'eq',\n    'every', 'filter', 'find', 'findIndex', 'findKey', 'findLast', 'findLastIndex',\n    'findLastKey', 'flatMap', 'flatMapDeep', 'flattenDepth', 'forEach',\n    'forEachRight', 'forIn', 'forInRight', 'forOwn', 'forOwnRight', 'get',\n    'groupBy', 'gt', 'gte', 'has', 'hasIn', 'includes', 'indexOf', 'intersection',\n    'invertBy', 'invoke', 'invokeMap', 'isEqual', 'isMatch', 'join', 'keyBy',\n    'lastIndexOf', 'lt', 'lte', 'map', 'mapKeys', 'mapValues', 'matchesProperty',\n    'maxBy', 'meanBy', 'merge', 'mergeAllWith', 'minBy', 'multiply', 'nth', 'omit',\n    'omitBy', 'overArgs', 'pad', 'padEnd', 'padStart', 'parseInt', 'partial',\n    'partialRight', 'partition', 'pick', 'pickBy', 'propertyOf', 'pull', 'pullAll',\n    'pullAt', 'random', 'range', 'rangeRight', 'rearg', 'reject', 'remove',\n    'repeat', 'restFrom', 'result', 'sampleSize', 'some', 'sortBy', 'sortedIndex',\n    'sortedIndexOf', 'sortedLastIndex', 'sortedLastIndexOf', 'sortedUniqBy',\n    'split', 'spreadFrom', 'startsWith', 'subtract', 'sumBy', 'take', 'takeRight',\n    'takeRightWhile', 'takeWhile', 'tap', 'throttle', 'thru', 'times', 'trimChars',\n    'trimCharsEnd', 'trimCharsStart', 'truncate', 'union', 'uniqBy', 'uniqWith',\n    'unset', 'unzipWith', 'without', 'wrap', 'xor', 'zip', 'zipObject',\n    'zipObjectDeep'\n  ],\n  '3': [\n    'assignInWith', 'assignWith', 'clamp', 'differenceBy', 'differenceWith',\n    'findFrom', 'findIndexFrom', 'findLastFrom', 'findLastIndexFrom', 'getOr',\n    'includesFrom', 'indexOfFrom', 'inRange', 'intersectionBy', 'intersectionWith',\n    'invokeArgs', 'invokeArgsMap', 'isEqualWith', 'isMatchWith', 'flatMapDepth',\n    'lastIndexOfFrom', 'mergeWith', 'orderBy', 'padChars', 'padCharsEnd',\n    'padCharsStart', 'pullAllBy', 'pullAllWith', 'rangeStep', 'rangeStepRight',\n    'reduce', 'reduceRight', 'replace', 'set', 'slice', 'sortedIndexBy',\n    'sortedLastIndexBy', 'transform', 'unionBy', 'unionWith', 'update', 'xorBy',\n    'xorWith', 'zipWith'\n  ],\n  '4': [\n    'fill', 'setWith', 'updateWith'\n  ]\n};\n\n/** Used to map ary to rearg configs. */\nexports.aryRearg = {\n  '2': [1, 0],\n  '3': [2, 0, 1],\n  '4': [3, 2, 0, 1]\n};\n\n/** Used to map method names to their iteratee ary. */\nexports.iterateeAry = {\n  'dropRightWhile': 1,\n  'dropWhile': 1,\n  'every': 1,\n  'filter': 1,\n  'find': 1,\n  'findFrom': 1,\n  'findIndex': 1,\n  'findIndexFrom': 1,\n  'findKey': 1,\n  'findLast': 1,\n  'findLastFrom': 1,\n  'findLastIndex': 1,\n  'findLastIndexFrom': 1,\n  'findLastKey': 1,\n  'flatMap': 1,\n  'flatMapDeep': 1,\n  'flatMapDepth': 1,\n  'forEach': 1,\n  'forEachRight': 1,\n  'forIn': 1,\n  'forInRight': 1,\n  'forOwn': 1,\n  'forOwnRight': 1,\n  'map': 1,\n  'mapKeys': 1,\n  'mapValues': 1,\n  'partition': 1,\n  'reduce': 2,\n  'reduceRight': 2,\n  'reject': 1,\n  'remove': 1,\n  'some': 1,\n  'takeRightWhile': 1,\n  'takeWhile': 1,\n  'times': 1,\n  'transform': 2\n};\n\n/** Used to map method names to iteratee rearg configs. */\nexports.iterateeRearg = {\n  'mapKeys': [1],\n  'reduceRight': [1, 0]\n};\n\n/** Used to map method names to rearg configs. */\nexports.methodRearg = {\n  'assignInAllWith': [1, 0],\n  'assignInWith': [1, 2, 0],\n  'assignAllWith': [1, 0],\n  'assignWith': [1, 2, 0],\n  'differenceBy': [1, 2, 0],\n  'differenceWith': [1, 2, 0],\n  'getOr': [2, 1, 0],\n  'intersectionBy': [1, 2, 0],\n  'intersectionWith': [1, 2, 0],\n  'isEqualWith': [1, 2, 0],\n  'isMatchWith': [2, 1, 0],\n  'mergeAllWith': [1, 0],\n  'mergeWith': [1, 2, 0],\n  'padChars': [2, 1, 0],\n  'padCharsEnd': [2, 1, 0],\n  'padCharsStart': [2, 1, 0],\n  'pullAllBy': [2, 1, 0],\n  'pullAllWith': [2, 1, 0],\n  'rangeStep': [1, 2, 0],\n  'rangeStepRight': [1, 2, 0],\n  'setWith': [3, 1, 2, 0],\n  'sortedIndexBy': [2, 1, 0],\n  'sortedLastIndexBy': [2, 1, 0],\n  'unionBy': [1, 2, 0],\n  'unionWith': [1, 2, 0],\n  'updateWith': [3, 1, 2, 0],\n  'xorBy': [1, 2, 0],\n  'xorWith': [1, 2, 0],\n  'zipWith': [1, 2, 0]\n};\n\n/** Used to map method names to spread configs. */\nexports.methodSpread = {\n  'assignAll': { 'start': 0 },\n  'assignAllWith': { 'start': 0 },\n  'assignInAll': { 'start': 0 },\n  'assignInAllWith': { 'start': 0 },\n  'defaultsAll': { 'start': 0 },\n  'defaultsDeepAll': { 'start': 0 },\n  'invokeArgs': { 'start': 2 },\n  'invokeArgsMap': { 'start': 2 },\n  'mergeAll': { 'start': 0 },\n  'mergeAllWith': { 'start': 0 },\n  'partial': { 'start': 1 },\n  'partialRight': { 'start': 1 },\n  'without': { 'start': 1 },\n  'zipAll': { 'start': 0 }\n};\n\n/** Used to identify methods which mutate arrays or objects. */\nexports.mutate = {\n  'array': {\n    'fill': true,\n    'pull': true,\n    'pullAll': true,\n    'pullAllBy': true,\n    'pullAllWith': true,\n    'pullAt': true,\n    'remove': true,\n    'reverse': true\n  },\n  'object': {\n    'assign': true,\n    'assignAll': true,\n    'assignAllWith': true,\n    'assignIn': true,\n    'assignInAll': true,\n    'assignInAllWith': true,\n    'assignInWith': true,\n    'assignWith': true,\n    'defaults': true,\n    'defaultsAll': true,\n    'defaultsDeep': true,\n    'defaultsDeepAll': true,\n    'merge': true,\n    'mergeAll': true,\n    'mergeAllWith': true,\n    'mergeWith': true,\n  },\n  'set': {\n    'set': true,\n    'setWith': true,\n    'unset': true,\n    'update': true,\n    'updateWith': true\n  }\n};\n\n/** Used to map real names to their aliases. */\nexports.realToAlias = (function() {\n  var hasOwnProperty = Object.prototype.hasOwnProperty,\n      object = exports.aliasToReal,\n      result = {};\n\n  for (var key in object) {\n    var value = object[key];\n    if (hasOwnProperty.call(result, value)) {\n      result[value].push(key);\n    } else {\n      result[value] = [key];\n    }\n  }\n  return result;\n}());\n\n/** Used to map method names to other names. */\nexports.remap = {\n  'assignAll': 'assign',\n  'assignAllWith': 'assignWith',\n  'assignInAll': 'assignIn',\n  'assignInAllWith': 'assignInWith',\n  'curryN': 'curry',\n  'curryRightN': 'curryRight',\n  'defaultsAll': 'defaults',\n  'defaultsDeepAll': 'defaultsDeep',\n  'findFrom': 'find',\n  'findIndexFrom': 'findIndex',\n  'findLastFrom': 'findLast',\n  'findLastIndexFrom': 'findLastIndex',\n  'getOr': 'get',\n  'includesFrom': 'includes',\n  'indexOfFrom': 'indexOf',\n  'invokeArgs': 'invoke',\n  'invokeArgsMap': 'invokeMap',\n  'lastIndexOfFrom': 'lastIndexOf',\n  'mergeAll': 'merge',\n  'mergeAllWith': 'mergeWith',\n  'padChars': 'pad',\n  'padCharsEnd': 'padEnd',\n  'padCharsStart': 'padStart',\n  'propertyOf': 'get',\n  'rangeStep': 'range',\n  'rangeStepRight': 'rangeRight',\n  'restFrom': 'rest',\n  'spreadFrom': 'spread',\n  'trimChars': 'trim',\n  'trimCharsEnd': 'trimEnd',\n  'trimCharsStart': 'trimStart',\n  'zipAll': 'zip'\n};\n\n/** Used to track methods that skip fixing their arity. */\nexports.skipFixed = {\n  'castArray': true,\n  'flow': true,\n  'flowRight': true,\n  'iteratee': true,\n  'mixin': true,\n  'rearg': true,\n  'runInContext': true\n};\n\n/** Used to track methods that skip rearranging arguments. */\nexports.skipRearg = {\n  'add': true,\n  'assign': true,\n  'assignIn': true,\n  'bind': true,\n  'bindKey': true,\n  'concat': true,\n  'difference': true,\n  'divide': true,\n  'eq': true,\n  'gt': true,\n  'gte': true,\n  'isEqual': true,\n  'lt': true,\n  'lte': true,\n  'matchesProperty': true,\n  'merge': true,\n  'multiply': true,\n  'overArgs': true,\n  'partial': true,\n  'partialRight': true,\n  'propertyOf': true,\n  'random': true,\n  'range': true,\n  'rangeRight': true,\n  'subtract': true,\n  'zip': true,\n  'zipObject': true,\n  'zipObjectDeep': true\n};\n","/**\n * The default argument placeholder value for methods.\n *\n * @type {Object}\n */\nmodule.exports = {};\n","/**\n * @license\n * Lodash <https://lodash.com/>\n * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>\n * Released under MIT license <https://lodash.com/license>\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\n * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\n */\n(function(){function n(n,t,r){switch(r.length){case 0:return n.call(t);case 1:return n.call(t,r[0]);case 2:return n.call(t,r[0],r[1]);case 3:return n.call(t,r[0],r[1],r[2])}return n.apply(t,r)}function t(n,t,r,e){for(var u=-1,i=null==n?0:n.length;++u<i;){var o=n[u];t(e,o,r(o),n)}return e}function r(n,t){for(var r=-1,e=null==n?0:n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function e(n,t){for(var r=null==n?0:n.length;r--&&t(n[r],r,n)!==!1;);return n}function u(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(!t(n[r],r,n))return!1;\nreturn!0}function i(n,t){for(var r=-1,e=null==n?0:n.length,u=0,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[u++]=o)}return i}function o(n,t){return!!(null==n?0:n.length)&&y(n,t,0)>-1}function f(n,t,r){for(var e=-1,u=null==n?0:n.length;++e<u;)if(r(t,n[e]))return!0;return!1}function c(n,t){for(var r=-1,e=null==n?0:n.length,u=Array(e);++r<e;)u[r]=t(n[r],r,n);return u}function a(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function l(n,t,r,e){var u=-1,i=null==n?0:n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);\nreturn r}function s(n,t,r,e){var u=null==n?0:n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function h(n,t){for(var r=-1,e=null==n?0:n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function p(n){return n.split(\"\")}function _(n){return n.match($t)||[]}function v(n,t,r){var e;return r(n,function(n,r,u){if(t(n,r,u))return e=r,!1}),e}function g(n,t,r,e){for(var u=n.length,i=r+(e?1:-1);e?i--:++i<u;)if(t(n[i],i,n))return i;return-1}function y(n,t,r){return t===t?Z(n,t,r):g(n,b,r)}function d(n,t,r,e){\nfor(var u=r-1,i=n.length;++u<i;)if(e(n[u],t))return u;return-1}function b(n){return n!==n}function w(n,t){var r=null==n?0:n.length;return r?k(n,t)/r:Cn}function m(n){return function(t){return null==t?X:t[n]}}function x(n){return function(t){return null==n?X:n[t]}}function j(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function A(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function k(n,t){for(var r,e=-1,u=n.length;++e<u;){var i=t(n[e]);i!==X&&(r=r===X?i:r+i);\n}return r}function O(n,t){for(var r=-1,e=Array(n);++r<n;)e[r]=t(r);return e}function I(n,t){return c(t,function(t){return[t,n[t]]})}function R(n){return n?n.slice(0,H(n)+1).replace(Lt,\"\"):n}function z(n){return function(t){return n(t)}}function E(n,t){return c(t,function(t){return n[t]})}function S(n,t){return n.has(t)}function W(n,t){for(var r=-1,e=n.length;++r<e&&y(t,n[r],0)>-1;);return r}function L(n,t){for(var r=n.length;r--&&y(t,n[r],0)>-1;);return r}function C(n,t){for(var r=n.length,e=0;r--;)n[r]===t&&++e;\nreturn e}function U(n){return\"\\\\\"+Yr[n]}function B(n,t){return null==n?X:n[t]}function T(n){return Nr.test(n)}function $(n){return Pr.test(n)}function D(n){for(var t,r=[];!(t=n.next()).done;)r.push(t.value);return r}function M(n){var t=-1,r=Array(n.size);return n.forEach(function(n,e){r[++t]=[e,n]}),r}function F(n,t){return function(r){return n(t(r))}}function N(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){var o=n[r];o!==t&&o!==cn||(n[r]=cn,i[u++]=r)}return i}function P(n){var t=-1,r=Array(n.size);\nreturn n.forEach(function(n){r[++t]=n}),r}function q(n){var t=-1,r=Array(n.size);return n.forEach(function(n){r[++t]=[n,n]}),r}function Z(n,t,r){for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function K(n,t,r){for(var e=r+1;e--;)if(n[e]===t)return e;return e}function V(n){return T(n)?J(n):_e(n)}function G(n){return T(n)?Y(n):p(n)}function H(n){for(var t=n.length;t--&&Ct.test(n.charAt(t)););return t}function J(n){for(var t=Mr.lastIndex=0;Mr.test(n);)++t;return t}function Y(n){return n.match(Mr)||[];\n}function Q(n){return n.match(Fr)||[]}var X,nn=\"4.17.21\",tn=200,rn=\"Unsupported core-js use. Try https://npms.io/search?q=ponyfill.\",en=\"Expected a function\",un=\"Invalid `variable` option passed into `_.template`\",on=\"__lodash_hash_undefined__\",fn=500,cn=\"__lodash_placeholder__\",an=1,ln=2,sn=4,hn=1,pn=2,_n=1,vn=2,gn=4,yn=8,dn=16,bn=32,wn=64,mn=128,xn=256,jn=512,An=30,kn=\"...\",On=800,In=16,Rn=1,zn=2,En=3,Sn=1/0,Wn=9007199254740991,Ln=1.7976931348623157e308,Cn=NaN,Un=4294967295,Bn=Un-1,Tn=Un>>>1,$n=[[\"ary\",mn],[\"bind\",_n],[\"bindKey\",vn],[\"curry\",yn],[\"curryRight\",dn],[\"flip\",jn],[\"partial\",bn],[\"partialRight\",wn],[\"rearg\",xn]],Dn=\"[object Arguments]\",Mn=\"[object Array]\",Fn=\"[object AsyncFunction]\",Nn=\"[object Boolean]\",Pn=\"[object Date]\",qn=\"[object DOMException]\",Zn=\"[object Error]\",Kn=\"[object Function]\",Vn=\"[object GeneratorFunction]\",Gn=\"[object Map]\",Hn=\"[object Number]\",Jn=\"[object Null]\",Yn=\"[object Object]\",Qn=\"[object Promise]\",Xn=\"[object Proxy]\",nt=\"[object RegExp]\",tt=\"[object Set]\",rt=\"[object String]\",et=\"[object Symbol]\",ut=\"[object Undefined]\",it=\"[object WeakMap]\",ot=\"[object WeakSet]\",ft=\"[object ArrayBuffer]\",ct=\"[object DataView]\",at=\"[object Float32Array]\",lt=\"[object Float64Array]\",st=\"[object Int8Array]\",ht=\"[object Int16Array]\",pt=\"[object Int32Array]\",_t=\"[object Uint8Array]\",vt=\"[object Uint8ClampedArray]\",gt=\"[object Uint16Array]\",yt=\"[object Uint32Array]\",dt=/\\b__p \\+= '';/g,bt=/\\b(__p \\+=) '' \\+/g,wt=/(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g,mt=/&(?:amp|lt|gt|quot|#39);/g,xt=/[&<>\"']/g,jt=RegExp(mt.source),At=RegExp(xt.source),kt=/<%-([\\s\\S]+?)%>/g,Ot=/<%([\\s\\S]+?)%>/g,It=/<%=([\\s\\S]+?)%>/g,Rt=/\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,zt=/^\\w*$/,Et=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,St=/[\\\\^$.*+?()[\\]{}|]/g,Wt=RegExp(St.source),Lt=/^\\s+/,Ct=/\\s/,Ut=/\\{(?:\\n\\/\\* \\[wrapped with .+\\] \\*\\/)?\\n?/,Bt=/\\{\\n\\/\\* \\[wrapped with (.+)\\] \\*/,Tt=/,? & /,$t=/[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g,Dt=/[()=,{}\\[\\]\\/\\s]/,Mt=/\\\\(\\\\)?/g,Ft=/\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g,Nt=/\\w*$/,Pt=/^[-+]0x[0-9a-f]+$/i,qt=/^0b[01]+$/i,Zt=/^\\[object .+?Constructor\\]$/,Kt=/^0o[0-7]+$/i,Vt=/^(?:0|[1-9]\\d*)$/,Gt=/[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g,Ht=/($^)/,Jt=/['\\n\\r\\u2028\\u2029\\\\]/g,Yt=\"\\\\ud800-\\\\udfff\",Qt=\"\\\\u0300-\\\\u036f\",Xt=\"\\\\ufe20-\\\\ufe2f\",nr=\"\\\\u20d0-\\\\u20ff\",tr=Qt+Xt+nr,rr=\"\\\\u2700-\\\\u27bf\",er=\"a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff\",ur=\"\\\\xac\\\\xb1\\\\xd7\\\\xf7\",ir=\"\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf\",or=\"\\\\u2000-\\\\u206f\",fr=\" \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000\",cr=\"A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde\",ar=\"\\\\ufe0e\\\\ufe0f\",lr=ur+ir+or+fr,sr=\"['\\u2019]\",hr=\"[\"+Yt+\"]\",pr=\"[\"+lr+\"]\",_r=\"[\"+tr+\"]\",vr=\"\\\\d+\",gr=\"[\"+rr+\"]\",yr=\"[\"+er+\"]\",dr=\"[^\"+Yt+lr+vr+rr+er+cr+\"]\",br=\"\\\\ud83c[\\\\udffb-\\\\udfff]\",wr=\"(?:\"+_r+\"|\"+br+\")\",mr=\"[^\"+Yt+\"]\",xr=\"(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}\",jr=\"[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]\",Ar=\"[\"+cr+\"]\",kr=\"\\\\u200d\",Or=\"(?:\"+yr+\"|\"+dr+\")\",Ir=\"(?:\"+Ar+\"|\"+dr+\")\",Rr=\"(?:\"+sr+\"(?:d|ll|m|re|s|t|ve))?\",zr=\"(?:\"+sr+\"(?:D|LL|M|RE|S|T|VE))?\",Er=wr+\"?\",Sr=\"[\"+ar+\"]?\",Wr=\"(?:\"+kr+\"(?:\"+[mr,xr,jr].join(\"|\")+\")\"+Sr+Er+\")*\",Lr=\"\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])\",Cr=\"\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])\",Ur=Sr+Er+Wr,Br=\"(?:\"+[gr,xr,jr].join(\"|\")+\")\"+Ur,Tr=\"(?:\"+[mr+_r+\"?\",_r,xr,jr,hr].join(\"|\")+\")\",$r=RegExp(sr,\"g\"),Dr=RegExp(_r,\"g\"),Mr=RegExp(br+\"(?=\"+br+\")|\"+Tr+Ur,\"g\"),Fr=RegExp([Ar+\"?\"+yr+\"+\"+Rr+\"(?=\"+[pr,Ar,\"$\"].join(\"|\")+\")\",Ir+\"+\"+zr+\"(?=\"+[pr,Ar+Or,\"$\"].join(\"|\")+\")\",Ar+\"?\"+Or+\"+\"+Rr,Ar+\"+\"+zr,Cr,Lr,vr,Br].join(\"|\"),\"g\"),Nr=RegExp(\"[\"+kr+Yt+tr+ar+\"]\"),Pr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qr=[\"Array\",\"Buffer\",\"DataView\",\"Date\",\"Error\",\"Float32Array\",\"Float64Array\",\"Function\",\"Int8Array\",\"Int16Array\",\"Int32Array\",\"Map\",\"Math\",\"Object\",\"Promise\",\"RegExp\",\"Set\",\"String\",\"Symbol\",\"TypeError\",\"Uint8Array\",\"Uint8ClampedArray\",\"Uint16Array\",\"Uint32Array\",\"WeakMap\",\"_\",\"clearTimeout\",\"isFinite\",\"parseInt\",\"setTimeout\"],Zr=-1,Kr={};\nKr[at]=Kr[lt]=Kr[st]=Kr[ht]=Kr[pt]=Kr[_t]=Kr[vt]=Kr[gt]=Kr[yt]=!0,Kr[Dn]=Kr[Mn]=Kr[ft]=Kr[Nn]=Kr[ct]=Kr[Pn]=Kr[Zn]=Kr[Kn]=Kr[Gn]=Kr[Hn]=Kr[Yn]=Kr[nt]=Kr[tt]=Kr[rt]=Kr[it]=!1;var Vr={};Vr[Dn]=Vr[Mn]=Vr[ft]=Vr[ct]=Vr[Nn]=Vr[Pn]=Vr[at]=Vr[lt]=Vr[st]=Vr[ht]=Vr[pt]=Vr[Gn]=Vr[Hn]=Vr[Yn]=Vr[nt]=Vr[tt]=Vr[rt]=Vr[et]=Vr[_t]=Vr[vt]=Vr[gt]=Vr[yt]=!0,Vr[Zn]=Vr[Kn]=Vr[it]=!1;var Gr={\"\\xc0\":\"A\",\"\\xc1\":\"A\",\"\\xc2\":\"A\",\"\\xc3\":\"A\",\"\\xc4\":\"A\",\"\\xc5\":\"A\",\"\\xe0\":\"a\",\"\\xe1\":\"a\",\"\\xe2\":\"a\",\"\\xe3\":\"a\",\"\\xe4\":\"a\",\"\\xe5\":\"a\",\n\"\\xc7\":\"C\",\"\\xe7\":\"c\",\"\\xd0\":\"D\",\"\\xf0\":\"d\",\"\\xc8\":\"E\",\"\\xc9\":\"E\",\"\\xca\":\"E\",\"\\xcb\":\"E\",\"\\xe8\":\"e\",\"\\xe9\":\"e\",\"\\xea\":\"e\",\"\\xeb\":\"e\",\"\\xcc\":\"I\",\"\\xcd\":\"I\",\"\\xce\":\"I\",\"\\xcf\":\"I\",\"\\xec\":\"i\",\"\\xed\":\"i\",\"\\xee\":\"i\",\"\\xef\":\"i\",\"\\xd1\":\"N\",\"\\xf1\":\"n\",\"\\xd2\":\"O\",\"\\xd3\":\"O\",\"\\xd4\":\"O\",\"\\xd5\":\"O\",\"\\xd6\":\"O\",\"\\xd8\":\"O\",\"\\xf2\":\"o\",\"\\xf3\":\"o\",\"\\xf4\":\"o\",\"\\xf5\":\"o\",\"\\xf6\":\"o\",\"\\xf8\":\"o\",\"\\xd9\":\"U\",\"\\xda\":\"U\",\"\\xdb\":\"U\",\"\\xdc\":\"U\",\"\\xf9\":\"u\",\"\\xfa\":\"u\",\"\\xfb\":\"u\",\"\\xfc\":\"u\",\"\\xdd\":\"Y\",\"\\xfd\":\"y\",\"\\xff\":\"y\",\"\\xc6\":\"Ae\",\n\"\\xe6\":\"ae\",\"\\xde\":\"Th\",\"\\xfe\":\"th\",\"\\xdf\":\"ss\",\"\\u0100\":\"A\",\"\\u0102\":\"A\",\"\\u0104\":\"A\",\"\\u0101\":\"a\",\"\\u0103\":\"a\",\"\\u0105\":\"a\",\"\\u0106\":\"C\",\"\\u0108\":\"C\",\"\\u010a\":\"C\",\"\\u010c\":\"C\",\"\\u0107\":\"c\",\"\\u0109\":\"c\",\"\\u010b\":\"c\",\"\\u010d\":\"c\",\"\\u010e\":\"D\",\"\\u0110\":\"D\",\"\\u010f\":\"d\",\"\\u0111\":\"d\",\"\\u0112\":\"E\",\"\\u0114\":\"E\",\"\\u0116\":\"E\",\"\\u0118\":\"E\",\"\\u011a\":\"E\",\"\\u0113\":\"e\",\"\\u0115\":\"e\",\"\\u0117\":\"e\",\"\\u0119\":\"e\",\"\\u011b\":\"e\",\"\\u011c\":\"G\",\"\\u011e\":\"G\",\"\\u0120\":\"G\",\"\\u0122\":\"G\",\"\\u011d\":\"g\",\"\\u011f\":\"g\",\"\\u0121\":\"g\",\n\"\\u0123\":\"g\",\"\\u0124\":\"H\",\"\\u0126\":\"H\",\"\\u0125\":\"h\",\"\\u0127\":\"h\",\"\\u0128\":\"I\",\"\\u012a\":\"I\",\"\\u012c\":\"I\",\"\\u012e\":\"I\",\"\\u0130\":\"I\",\"\\u0129\":\"i\",\"\\u012b\":\"i\",\"\\u012d\":\"i\",\"\\u012f\":\"i\",\"\\u0131\":\"i\",\"\\u0134\":\"J\",\"\\u0135\":\"j\",\"\\u0136\":\"K\",\"\\u0137\":\"k\",\"\\u0138\":\"k\",\"\\u0139\":\"L\",\"\\u013b\":\"L\",\"\\u013d\":\"L\",\"\\u013f\":\"L\",\"\\u0141\":\"L\",\"\\u013a\":\"l\",\"\\u013c\":\"l\",\"\\u013e\":\"l\",\"\\u0140\":\"l\",\"\\u0142\":\"l\",\"\\u0143\":\"N\",\"\\u0145\":\"N\",\"\\u0147\":\"N\",\"\\u014a\":\"N\",\"\\u0144\":\"n\",\"\\u0146\":\"n\",\"\\u0148\":\"n\",\"\\u014b\":\"n\",\"\\u014c\":\"O\",\n\"\\u014e\":\"O\",\"\\u0150\":\"O\",\"\\u014d\":\"o\",\"\\u014f\":\"o\",\"\\u0151\":\"o\",\"\\u0154\":\"R\",\"\\u0156\":\"R\",\"\\u0158\":\"R\",\"\\u0155\":\"r\",\"\\u0157\":\"r\",\"\\u0159\":\"r\",\"\\u015a\":\"S\",\"\\u015c\":\"S\",\"\\u015e\":\"S\",\"\\u0160\":\"S\",\"\\u015b\":\"s\",\"\\u015d\":\"s\",\"\\u015f\":\"s\",\"\\u0161\":\"s\",\"\\u0162\":\"T\",\"\\u0164\":\"T\",\"\\u0166\":\"T\",\"\\u0163\":\"t\",\"\\u0165\":\"t\",\"\\u0167\":\"t\",\"\\u0168\":\"U\",\"\\u016a\":\"U\",\"\\u016c\":\"U\",\"\\u016e\":\"U\",\"\\u0170\":\"U\",\"\\u0172\":\"U\",\"\\u0169\":\"u\",\"\\u016b\":\"u\",\"\\u016d\":\"u\",\"\\u016f\":\"u\",\"\\u0171\":\"u\",\"\\u0173\":\"u\",\"\\u0174\":\"W\",\"\\u0175\":\"w\",\n\"\\u0176\":\"Y\",\"\\u0177\":\"y\",\"\\u0178\":\"Y\",\"\\u0179\":\"Z\",\"\\u017b\":\"Z\",\"\\u017d\":\"Z\",\"\\u017a\":\"z\",\"\\u017c\":\"z\",\"\\u017e\":\"z\",\"\\u0132\":\"IJ\",\"\\u0133\":\"ij\",\"\\u0152\":\"Oe\",\"\\u0153\":\"oe\",\"\\u0149\":\"'n\",\"\\u017f\":\"s\"},Hr={\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#39;\"},Jr={\"&amp;\":\"&\",\"&lt;\":\"<\",\"&gt;\":\">\",\"&quot;\":'\"',\"&#39;\":\"'\"},Yr={\"\\\\\":\"\\\\\",\"'\":\"'\",\"\\n\":\"n\",\"\\r\":\"r\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},Qr=parseFloat,Xr=parseInt,ne=\"object\"==typeof global&&global&&global.Object===Object&&global,te=\"object\"==typeof self&&self&&self.Object===Object&&self,re=ne||te||Function(\"return this\")(),ee=\"object\"==typeof exports&&exports&&!exports.nodeType&&exports,ue=ee&&\"object\"==typeof module&&module&&!module.nodeType&&module,ie=ue&&ue.exports===ee,oe=ie&&ne.process,fe=function(){\ntry{var n=ue&&ue.require&&ue.require(\"util\").types;return n?n:oe&&oe.binding&&oe.binding(\"util\")}catch(n){}}(),ce=fe&&fe.isArrayBuffer,ae=fe&&fe.isDate,le=fe&&fe.isMap,se=fe&&fe.isRegExp,he=fe&&fe.isSet,pe=fe&&fe.isTypedArray,_e=m(\"length\"),ve=x(Gr),ge=x(Hr),ye=x(Jr),de=function p(x){function Z(n){if(cc(n)&&!bh(n)&&!(n instanceof Ct)){if(n instanceof Y)return n;if(bl.call(n,\"__wrapped__\"))return eo(n)}return new Y(n)}function J(){}function Y(n,t){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!t,\nthis.__index__=0,this.__values__=X}function Ct(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Un,this.__views__=[]}function $t(){var n=new Ct(this.__wrapped__);return n.__actions__=Tu(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Tu(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Tu(this.__views__),n}function Yt(){if(this.__filtered__){var n=new Ct(this);n.__dir__=-1,\nn.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Qt(){var n=this.__wrapped__.value(),t=this.__dir__,r=bh(n),e=t<0,u=r?n.length:0,i=Oi(0,u,this.__views__),o=i.start,f=i.end,c=f-o,a=e?f:o-1,l=this.__iteratees__,s=l.length,h=0,p=Hl(c,this.__takeCount__);if(!r||!e&&u==c&&p==c)return wu(n,this.__actions__);var _=[];n:for(;c--&&h<p;){a+=t;for(var v=-1,g=n[a];++v<s;){var y=l[v],d=y.iteratee,b=y.type,w=d(g);if(b==zn)g=w;else if(!w){if(b==Rn)continue n;break n}}_[h++]=g}return _}function Xt(n){\nvar t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function nr(){this.__data__=is?is(null):{},this.size=0}function tr(n){var t=this.has(n)&&delete this.__data__[n];return this.size-=t?1:0,t}function rr(n){var t=this.__data__;if(is){var r=t[n];return r===on?X:r}return bl.call(t,n)?t[n]:X}function er(n){var t=this.__data__;return is?t[n]!==X:bl.call(t,n)}function ur(n,t){var r=this.__data__;return this.size+=this.has(n)?0:1,r[n]=is&&t===X?on:t,this}function ir(n){\nvar t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){var e=n[t];this.set(e[0],e[1])}}function or(){this.__data__=[],this.size=0}function fr(n){var t=this.__data__,r=Wr(t,n);return!(r<0)&&(r==t.length-1?t.pop():Ll.call(t,r,1),--this.size,!0)}function cr(n){var t=this.__data__,r=Wr(t,n);return r<0?X:t[r][1]}function ar(n){return Wr(this.__data__,n)>-1}function lr(n,t){var r=this.__data__,e=Wr(r,n);return e<0?(++this.size,r.push([n,t])):r[e][1]=t,this}function sr(n){var t=-1,r=null==n?0:n.length;for(this.clear();++t<r;){\nvar e=n[t];this.set(e[0],e[1])}}function hr(){this.size=0,this.__data__={hash:new Xt,map:new(ts||ir),string:new Xt}}function pr(n){var t=xi(this,n).delete(n);return this.size-=t?1:0,t}function _r(n){return xi(this,n).get(n)}function vr(n){return xi(this,n).has(n)}function gr(n,t){var r=xi(this,n),e=r.size;return r.set(n,t),this.size+=r.size==e?0:1,this}function yr(n){var t=-1,r=null==n?0:n.length;for(this.__data__=new sr;++t<r;)this.add(n[t])}function dr(n){return this.__data__.set(n,on),this}function br(n){\nreturn this.__data__.has(n)}function wr(n){this.size=(this.__data__=new ir(n)).size}function mr(){this.__data__=new ir,this.size=0}function xr(n){var t=this.__data__,r=t.delete(n);return this.size=t.size,r}function jr(n){return this.__data__.get(n)}function Ar(n){return this.__data__.has(n)}function kr(n,t){var r=this.__data__;if(r instanceof ir){var e=r.__data__;if(!ts||e.length<tn-1)return e.push([n,t]),this.size=++r.size,this;r=this.__data__=new sr(e)}return r.set(n,t),this.size=r.size,this}function Or(n,t){\nvar r=bh(n),e=!r&&dh(n),u=!r&&!e&&mh(n),i=!r&&!e&&!u&&Oh(n),o=r||e||u||i,f=o?O(n.length,hl):[],c=f.length;for(var a in n)!t&&!bl.call(n,a)||o&&(\"length\"==a||u&&(\"offset\"==a||\"parent\"==a)||i&&(\"buffer\"==a||\"byteLength\"==a||\"byteOffset\"==a)||Ci(a,c))||f.push(a);return f}function Ir(n){var t=n.length;return t?n[tu(0,t-1)]:X}function Rr(n,t){return Xi(Tu(n),Mr(t,0,n.length))}function zr(n){return Xi(Tu(n))}function Er(n,t,r){(r===X||Gf(n[t],r))&&(r!==X||t in n)||Br(n,t,r)}function Sr(n,t,r){var e=n[t];\nbl.call(n,t)&&Gf(e,r)&&(r!==X||t in n)||Br(n,t,r)}function Wr(n,t){for(var r=n.length;r--;)if(Gf(n[r][0],t))return r;return-1}function Lr(n,t,r,e){return ys(n,function(n,u,i){t(e,n,r(n),i)}),e}function Cr(n,t){return n&&$u(t,Pc(t),n)}function Ur(n,t){return n&&$u(t,qc(t),n)}function Br(n,t,r){\"__proto__\"==t&&Tl?Tl(n,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):n[t]=r}function Tr(n,t){for(var r=-1,e=t.length,u=il(e),i=null==n;++r<e;)u[r]=i?X:Mc(n,t[r]);return u}function Mr(n,t,r){return n===n&&(r!==X&&(n=n<=r?n:r),\nt!==X&&(n=n>=t?n:t)),n}function Fr(n,t,e,u,i,o){var f,c=t&an,a=t&ln,l=t&sn;if(e&&(f=i?e(n,u,i,o):e(n)),f!==X)return f;if(!fc(n))return n;var s=bh(n);if(s){if(f=zi(n),!c)return Tu(n,f)}else{var h=zs(n),p=h==Kn||h==Vn;if(mh(n))return Iu(n,c);if(h==Yn||h==Dn||p&&!i){if(f=a||p?{}:Ei(n),!c)return a?Mu(n,Ur(f,n)):Du(n,Cr(f,n))}else{if(!Vr[h])return i?n:{};f=Si(n,h,c)}}o||(o=new wr);var _=o.get(n);if(_)return _;o.set(n,f),kh(n)?n.forEach(function(r){f.add(Fr(r,t,e,r,n,o))}):jh(n)&&n.forEach(function(r,u){\nf.set(u,Fr(r,t,e,u,n,o))});var v=l?a?di:yi:a?qc:Pc,g=s?X:v(n);return r(g||n,function(r,u){g&&(u=r,r=n[u]),Sr(f,u,Fr(r,t,e,u,n,o))}),f}function Nr(n){var t=Pc(n);return function(r){return Pr(r,n,t)}}function Pr(n,t,r){var e=r.length;if(null==n)return!e;for(n=ll(n);e--;){var u=r[e],i=t[u],o=n[u];if(o===X&&!(u in n)||!i(o))return!1}return!0}function Gr(n,t,r){if(\"function\"!=typeof n)throw new pl(en);return Ws(function(){n.apply(X,r)},t)}function Hr(n,t,r,e){var u=-1,i=o,a=!0,l=n.length,s=[],h=t.length;\nif(!l)return s;r&&(t=c(t,z(r))),e?(i=f,a=!1):t.length>=tn&&(i=S,a=!1,t=new yr(t));n:for(;++u<l;){var p=n[u],_=null==r?p:r(p);if(p=e||0!==p?p:0,a&&_===_){for(var v=h;v--;)if(t[v]===_)continue n;s.push(p)}else i(t,_,e)||s.push(p)}return s}function Jr(n,t){var r=!0;return ys(n,function(n,e,u){return r=!!t(n,e,u)}),r}function Yr(n,t,r){for(var e=-1,u=n.length;++e<u;){var i=n[e],o=t(i);if(null!=o&&(f===X?o===o&&!bc(o):r(o,f)))var f=o,c=i}return c}function ne(n,t,r,e){var u=n.length;for(r=kc(r),r<0&&(r=-r>u?0:u+r),\ne=e===X||e>u?u:kc(e),e<0&&(e+=u),e=r>e?0:Oc(e);r<e;)n[r++]=t;return n}function te(n,t){var r=[];return ys(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function ee(n,t,r,e,u){var i=-1,o=n.length;for(r||(r=Li),u||(u=[]);++i<o;){var f=n[i];t>0&&r(f)?t>1?ee(f,t-1,r,e,u):a(u,f):e||(u[u.length]=f)}return u}function ue(n,t){return n&&bs(n,t,Pc)}function oe(n,t){return n&&ws(n,t,Pc)}function fe(n,t){return i(t,function(t){return uc(n[t])})}function _e(n,t){t=ku(t,n);for(var r=0,e=t.length;null!=n&&r<e;)n=n[no(t[r++])];\nreturn r&&r==e?n:X}function de(n,t,r){var e=t(n);return bh(n)?e:a(e,r(n))}function we(n){return null==n?n===X?ut:Jn:Bl&&Bl in ll(n)?ki(n):Ki(n)}function me(n,t){return n>t}function xe(n,t){return null!=n&&bl.call(n,t)}function je(n,t){return null!=n&&t in ll(n)}function Ae(n,t,r){return n>=Hl(t,r)&&n<Gl(t,r)}function ke(n,t,r){for(var e=r?f:o,u=n[0].length,i=n.length,a=i,l=il(i),s=1/0,h=[];a--;){var p=n[a];a&&t&&(p=c(p,z(t))),s=Hl(p.length,s),l[a]=!r&&(t||u>=120&&p.length>=120)?new yr(a&&p):X}p=n[0];\nvar _=-1,v=l[0];n:for(;++_<u&&h.length<s;){var g=p[_],y=t?t(g):g;if(g=r||0!==g?g:0,!(v?S(v,y):e(h,y,r))){for(a=i;--a;){var d=l[a];if(!(d?S(d,y):e(n[a],y,r)))continue n}v&&v.push(y),h.push(g)}}return h}function Oe(n,t,r,e){return ue(n,function(n,u,i){t(e,r(n),u,i)}),e}function Ie(t,r,e){r=ku(r,t),t=Gi(t,r);var u=null==t?t:t[no(jo(r))];return null==u?X:n(u,t,e)}function Re(n){return cc(n)&&we(n)==Dn}function ze(n){return cc(n)&&we(n)==ft}function Ee(n){return cc(n)&&we(n)==Pn}function Se(n,t,r,e,u){\nreturn n===t||(null==n||null==t||!cc(n)&&!cc(t)?n!==n&&t!==t:We(n,t,r,e,Se,u))}function We(n,t,r,e,u,i){var o=bh(n),f=bh(t),c=o?Mn:zs(n),a=f?Mn:zs(t);c=c==Dn?Yn:c,a=a==Dn?Yn:a;var l=c==Yn,s=a==Yn,h=c==a;if(h&&mh(n)){if(!mh(t))return!1;o=!0,l=!1}if(h&&!l)return i||(i=new wr),o||Oh(n)?pi(n,t,r,e,u,i):_i(n,t,c,r,e,u,i);if(!(r&hn)){var p=l&&bl.call(n,\"__wrapped__\"),_=s&&bl.call(t,\"__wrapped__\");if(p||_){var v=p?n.value():n,g=_?t.value():t;return i||(i=new wr),u(v,g,r,e,i)}}return!!h&&(i||(i=new wr),vi(n,t,r,e,u,i));\n}function Le(n){return cc(n)&&zs(n)==Gn}function Ce(n,t,r,e){var u=r.length,i=u,o=!e;if(null==n)return!i;for(n=ll(n);u--;){var f=r[u];if(o&&f[2]?f[1]!==n[f[0]]:!(f[0]in n))return!1}for(;++u<i;){f=r[u];var c=f[0],a=n[c],l=f[1];if(o&&f[2]){if(a===X&&!(c in n))return!1}else{var s=new wr;if(e)var h=e(a,l,c,n,t,s);if(!(h===X?Se(l,a,hn|pn,e,s):h))return!1}}return!0}function Ue(n){return!(!fc(n)||Di(n))&&(uc(n)?kl:Zt).test(to(n))}function Be(n){return cc(n)&&we(n)==nt}function Te(n){return cc(n)&&zs(n)==tt;\n}function $e(n){return cc(n)&&oc(n.length)&&!!Kr[we(n)]}function De(n){return\"function\"==typeof n?n:null==n?La:\"object\"==typeof n?bh(n)?Ze(n[0],n[1]):qe(n):Fa(n)}function Me(n){if(!Mi(n))return Vl(n);var t=[];for(var r in ll(n))bl.call(n,r)&&\"constructor\"!=r&&t.push(r);return t}function Fe(n){if(!fc(n))return Zi(n);var t=Mi(n),r=[];for(var e in n)(\"constructor\"!=e||!t&&bl.call(n,e))&&r.push(e);return r}function Ne(n,t){return n<t}function Pe(n,t){var r=-1,e=Hf(n)?il(n.length):[];return ys(n,function(n,u,i){\ne[++r]=t(n,u,i)}),e}function qe(n){var t=ji(n);return 1==t.length&&t[0][2]?Ni(t[0][0],t[0][1]):function(r){return r===n||Ce(r,n,t)}}function Ze(n,t){return Bi(n)&&Fi(t)?Ni(no(n),t):function(r){var e=Mc(r,n);return e===X&&e===t?Nc(r,n):Se(t,e,hn|pn)}}function Ke(n,t,r,e,u){n!==t&&bs(t,function(i,o){if(u||(u=new wr),fc(i))Ve(n,t,o,r,Ke,e,u);else{var f=e?e(Ji(n,o),i,o+\"\",n,t,u):X;f===X&&(f=i),Er(n,o,f)}},qc)}function Ve(n,t,r,e,u,i,o){var f=Ji(n,r),c=Ji(t,r),a=o.get(c);if(a)return Er(n,r,a),X;var l=i?i(f,c,r+\"\",n,t,o):X,s=l===X;\nif(s){var h=bh(c),p=!h&&mh(c),_=!h&&!p&&Oh(c);l=c,h||p||_?bh(f)?l=f:Jf(f)?l=Tu(f):p?(s=!1,l=Iu(c,!0)):_?(s=!1,l=Wu(c,!0)):l=[]:gc(c)||dh(c)?(l=f,dh(f)?l=Rc(f):fc(f)&&!uc(f)||(l=Ei(c))):s=!1}s&&(o.set(c,l),u(l,c,e,i,o),o.delete(c)),Er(n,r,l)}function Ge(n,t){var r=n.length;if(r)return t+=t<0?r:0,Ci(t,r)?n[t]:X}function He(n,t,r){t=t.length?c(t,function(n){return bh(n)?function(t){return _e(t,1===n.length?n[0]:n)}:n}):[La];var e=-1;return t=c(t,z(mi())),A(Pe(n,function(n,r,u){return{criteria:c(t,function(t){\nreturn t(n)}),index:++e,value:n}}),function(n,t){return Cu(n,t,r)})}function Je(n,t){return Ye(n,t,function(t,r){return Nc(n,r)})}function Ye(n,t,r){for(var e=-1,u=t.length,i={};++e<u;){var o=t[e],f=_e(n,o);r(f,o)&&fu(i,ku(o,n),f)}return i}function Qe(n){return function(t){return _e(t,n)}}function Xe(n,t,r,e){var u=e?d:y,i=-1,o=t.length,f=n;for(n===t&&(t=Tu(t)),r&&(f=c(n,z(r)));++i<o;)for(var a=0,l=t[i],s=r?r(l):l;(a=u(f,s,a,e))>-1;)f!==n&&Ll.call(f,a,1),Ll.call(n,a,1);return n}function nu(n,t){for(var r=n?t.length:0,e=r-1;r--;){\nvar u=t[r];if(r==e||u!==i){var i=u;Ci(u)?Ll.call(n,u,1):yu(n,u)}}return n}function tu(n,t){return n+Nl(Ql()*(t-n+1))}function ru(n,t,r,e){for(var u=-1,i=Gl(Fl((t-n)/(r||1)),0),o=il(i);i--;)o[e?i:++u]=n,n+=r;return o}function eu(n,t){var r=\"\";if(!n||t<1||t>Wn)return r;do t%2&&(r+=n),t=Nl(t/2),t&&(n+=n);while(t);return r}function uu(n,t){return Ls(Vi(n,t,La),n+\"\")}function iu(n){return Ir(ra(n))}function ou(n,t){var r=ra(n);return Xi(r,Mr(t,0,r.length))}function fu(n,t,r,e){if(!fc(n))return n;t=ku(t,n);\nfor(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var c=no(t[u]),a=r;if(\"__proto__\"===c||\"constructor\"===c||\"prototype\"===c)return n;if(u!=o){var l=f[c];a=e?e(l,c,f):X,a===X&&(a=fc(l)?l:Ci(t[u+1])?[]:{})}Sr(f,c,a),f=f[c]}return n}function cu(n){return Xi(ra(n))}function au(n,t,r){var e=-1,u=n.length;t<0&&(t=-t>u?0:u+t),r=r>u?u:r,r<0&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=il(u);++e<u;)i[e]=n[e+t];return i}function lu(n,t){var r;return ys(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function su(n,t,r){\nvar e=0,u=null==n?e:n.length;if(\"number\"==typeof t&&t===t&&u<=Tn){for(;e<u;){var i=e+u>>>1,o=n[i];null!==o&&!bc(o)&&(r?o<=t:o<t)?e=i+1:u=i}return u}return hu(n,t,La,r)}function hu(n,t,r,e){var u=0,i=null==n?0:n.length;if(0===i)return 0;t=r(t);for(var o=t!==t,f=null===t,c=bc(t),a=t===X;u<i;){var l=Nl((u+i)/2),s=r(n[l]),h=s!==X,p=null===s,_=s===s,v=bc(s);if(o)var g=e||_;else g=a?_&&(e||h):f?_&&h&&(e||!p):c?_&&h&&!p&&(e||!v):!p&&!v&&(e?s<=t:s<t);g?u=l+1:i=l}return Hl(i,Bn)}function pu(n,t){for(var r=-1,e=n.length,u=0,i=[];++r<e;){\nvar o=n[r],f=t?t(o):o;if(!r||!Gf(f,c)){var c=f;i[u++]=0===o?0:o}}return i}function _u(n){return\"number\"==typeof n?n:bc(n)?Cn:+n}function vu(n){if(\"string\"==typeof n)return n;if(bh(n))return c(n,vu)+\"\";if(bc(n))return vs?vs.call(n):\"\";var t=n+\"\";return\"0\"==t&&1/n==-Sn?\"-0\":t}function gu(n,t,r){var e=-1,u=o,i=n.length,c=!0,a=[],l=a;if(r)c=!1,u=f;else if(i>=tn){var s=t?null:ks(n);if(s)return P(s);c=!1,u=S,l=new yr}else l=t?[]:a;n:for(;++e<i;){var h=n[e],p=t?t(h):h;if(h=r||0!==h?h:0,c&&p===p){for(var _=l.length;_--;)if(l[_]===p)continue n;\nt&&l.push(p),a.push(h)}else u(l,p,r)||(l!==a&&l.push(p),a.push(h))}return a}function yu(n,t){return t=ku(t,n),n=Gi(n,t),null==n||delete n[no(jo(t))]}function du(n,t,r,e){return fu(n,t,r(_e(n,t)),e)}function bu(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?au(n,e?0:i,e?i+1:u):au(n,e?i+1:0,e?u:i)}function wu(n,t){var r=n;return r instanceof Ct&&(r=r.value()),l(t,function(n,t){return t.func.apply(t.thisArg,a([n],t.args))},r)}function mu(n,t,r){var e=n.length;if(e<2)return e?gu(n[0]):[];\nfor(var u=-1,i=il(e);++u<e;)for(var o=n[u],f=-1;++f<e;)f!=u&&(i[u]=Hr(i[u]||o,n[f],t,r));return gu(ee(i,1),t,r)}function xu(n,t,r){for(var e=-1,u=n.length,i=t.length,o={};++e<u;){r(o,n[e],e<i?t[e]:X)}return o}function ju(n){return Jf(n)?n:[]}function Au(n){return\"function\"==typeof n?n:La}function ku(n,t){return bh(n)?n:Bi(n,t)?[n]:Cs(Ec(n))}function Ou(n,t,r){var e=n.length;return r=r===X?e:r,!t&&r>=e?n:au(n,t,r)}function Iu(n,t){if(t)return n.slice();var r=n.length,e=zl?zl(r):new n.constructor(r);\nreturn n.copy(e),e}function Ru(n){var t=new n.constructor(n.byteLength);return new Rl(t).set(new Rl(n)),t}function zu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.byteLength)}function Eu(n){var t=new n.constructor(n.source,Nt.exec(n));return t.lastIndex=n.lastIndex,t}function Su(n){return _s?ll(_s.call(n)):{}}function Wu(n,t){return new n.constructor(t?Ru(n.buffer):n.buffer,n.byteOffset,n.length)}function Lu(n,t){if(n!==t){var r=n!==X,e=null===n,u=n===n,i=bc(n),o=t!==X,f=null===t,c=t===t,a=bc(t);\nif(!f&&!a&&!i&&n>t||i&&o&&c&&!f&&!a||e&&o&&c||!r&&c||!u)return 1;if(!e&&!i&&!a&&n<t||a&&r&&u&&!e&&!i||f&&r&&u||!o&&u||!c)return-1}return 0}function Cu(n,t,r){for(var e=-1,u=n.criteria,i=t.criteria,o=u.length,f=r.length;++e<o;){var c=Lu(u[e],i[e]);if(c){if(e>=f)return c;return c*(\"desc\"==r[e]?-1:1)}}return n.index-t.index}function Uu(n,t,r,e){for(var u=-1,i=n.length,o=r.length,f=-1,c=t.length,a=Gl(i-o,0),l=il(c+a),s=!e;++f<c;)l[f]=t[f];for(;++u<o;)(s||u<i)&&(l[r[u]]=n[u]);for(;a--;)l[f++]=n[u++];return l;\n}function Bu(n,t,r,e){for(var u=-1,i=n.length,o=-1,f=r.length,c=-1,a=t.length,l=Gl(i-f,0),s=il(l+a),h=!e;++u<l;)s[u]=n[u];for(var p=u;++c<a;)s[p+c]=t[c];for(;++o<f;)(h||u<i)&&(s[p+r[o]]=n[u++]);return s}function Tu(n,t){var r=-1,e=n.length;for(t||(t=il(e));++r<e;)t[r]=n[r];return t}function $u(n,t,r,e){var u=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var f=t[i],c=e?e(r[f],n[f],f,r,n):X;c===X&&(c=n[f]),u?Br(r,f,c):Sr(r,f,c)}return r}function Du(n,t){return $u(n,Is(n),t)}function Mu(n,t){return $u(n,Rs(n),t);\n}function Fu(n,r){return function(e,u){var i=bh(e)?t:Lr,o=r?r():{};return i(e,n,mi(u,2),o)}}function Nu(n){return uu(function(t,r){var e=-1,u=r.length,i=u>1?r[u-1]:X,o=u>2?r[2]:X;for(i=n.length>3&&\"function\"==typeof i?(u--,i):X,o&&Ui(r[0],r[1],o)&&(i=u<3?X:i,u=1),t=ll(t);++e<u;){var f=r[e];f&&n(t,f,e,i)}return t})}function Pu(n,t){return function(r,e){if(null==r)return r;if(!Hf(r))return n(r,e);for(var u=r.length,i=t?u:-1,o=ll(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function qu(n){return function(t,r,e){\nfor(var u=-1,i=ll(t),o=e(t),f=o.length;f--;){var c=o[n?f:++u];if(r(i[c],c,i)===!1)break}return t}}function Zu(n,t,r){function e(){return(this&&this!==re&&this instanceof e?i:n).apply(u?r:this,arguments)}var u=t&_n,i=Gu(n);return e}function Ku(n){return function(t){t=Ec(t);var r=T(t)?G(t):X,e=r?r[0]:t.charAt(0),u=r?Ou(r,1).join(\"\"):t.slice(1);return e[n]()+u}}function Vu(n){return function(t){return l(Ra(ca(t).replace($r,\"\")),n,\"\")}}function Gu(n){return function(){var t=arguments;switch(t.length){\ncase 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=gs(n.prototype),e=n.apply(r,t);return fc(e)?e:r}}function Hu(t,r,e){function u(){for(var o=arguments.length,f=il(o),c=o,a=wi(u);c--;)f[c]=arguments[c];var l=o<3&&f[0]!==a&&f[o-1]!==a?[]:N(f,a);\nreturn o-=l.length,o<e?oi(t,r,Qu,u.placeholder,X,f,l,X,X,e-o):n(this&&this!==re&&this instanceof u?i:t,this,f)}var i=Gu(t);return u}function Ju(n){return function(t,r,e){var u=ll(t);if(!Hf(t)){var i=mi(r,3);t=Pc(t),r=function(n){return i(u[n],n,u)}}var o=n(t,r,e);return o>-1?u[i?t[o]:o]:X}}function Yu(n){return gi(function(t){var r=t.length,e=r,u=Y.prototype.thru;for(n&&t.reverse();e--;){var i=t[e];if(\"function\"!=typeof i)throw new pl(en);if(u&&!o&&\"wrapper\"==bi(i))var o=new Y([],!0)}for(e=o?e:r;++e<r;){\ni=t[e];var f=bi(i),c=\"wrapper\"==f?Os(i):X;o=c&&$i(c[0])&&c[1]==(mn|yn|bn|xn)&&!c[4].length&&1==c[9]?o[bi(c[0])].apply(o,c[3]):1==i.length&&$i(i)?o[f]():o.thru(i)}return function(){var n=arguments,e=n[0];if(o&&1==n.length&&bh(e))return o.plant(e).value();for(var u=0,i=r?t[u].apply(this,n):e;++u<r;)i=t[u].call(this,i);return i}})}function Qu(n,t,r,e,u,i,o,f,c,a){function l(){for(var y=arguments.length,d=il(y),b=y;b--;)d[b]=arguments[b];if(_)var w=wi(l),m=C(d,w);if(e&&(d=Uu(d,e,u,_)),i&&(d=Bu(d,i,o,_)),\ny-=m,_&&y<a){return oi(n,t,Qu,l.placeholder,r,d,N(d,w),f,c,a-y)}var x=h?r:this,j=p?x[n]:n;return y=d.length,f?d=Hi(d,f):v&&y>1&&d.reverse(),s&&c<y&&(d.length=c),this&&this!==re&&this instanceof l&&(j=g||Gu(j)),j.apply(x,d)}var s=t&mn,h=t&_n,p=t&vn,_=t&(yn|dn),v=t&jn,g=p?X:Gu(n);return l}function Xu(n,t){return function(r,e){return Oe(r,n,t(e),{})}}function ni(n,t){return function(r,e){var u;if(r===X&&e===X)return t;if(r!==X&&(u=r),e!==X){if(u===X)return e;\"string\"==typeof r||\"string\"==typeof e?(r=vu(r),\ne=vu(e)):(r=_u(r),e=_u(e)),u=n(r,e)}return u}}function ti(t){return gi(function(r){return r=c(r,z(mi())),uu(function(e){var u=this;return t(r,function(t){return n(t,u,e)})})})}function ri(n,t){t=t===X?\" \":vu(t);var r=t.length;if(r<2)return r?eu(t,n):t;var e=eu(t,Fl(n/V(t)));return T(t)?Ou(G(e),0,n).join(\"\"):e.slice(0,n)}function ei(t,r,e,u){function i(){for(var r=-1,c=arguments.length,a=-1,l=u.length,s=il(l+c),h=this&&this!==re&&this instanceof i?f:t;++a<l;)s[a]=u[a];for(;c--;)s[a++]=arguments[++r];\nreturn n(h,o?e:this,s)}var o=r&_n,f=Gu(t);return i}function ui(n){return function(t,r,e){return e&&\"number\"!=typeof e&&Ui(t,r,e)&&(r=e=X),t=Ac(t),r===X?(r=t,t=0):r=Ac(r),e=e===X?t<r?1:-1:Ac(e),ru(t,r,e,n)}}function ii(n){return function(t,r){return\"string\"==typeof t&&\"string\"==typeof r||(t=Ic(t),r=Ic(r)),n(t,r)}}function oi(n,t,r,e,u,i,o,f,c,a){var l=t&yn,s=l?o:X,h=l?X:o,p=l?i:X,_=l?X:i;t|=l?bn:wn,t&=~(l?wn:bn),t&gn||(t&=~(_n|vn));var v=[n,t,u,p,s,_,h,f,c,a],g=r.apply(X,v);return $i(n)&&Ss(g,v),g.placeholder=e,\nYi(g,n,t)}function fi(n){var t=al[n];return function(n,r){if(n=Ic(n),r=null==r?0:Hl(kc(r),292),r&&Zl(n)){var e=(Ec(n)+\"e\").split(\"e\");return e=(Ec(t(e[0]+\"e\"+(+e[1]+r)))+\"e\").split(\"e\"),+(e[0]+\"e\"+(+e[1]-r))}return t(n)}}function ci(n){return function(t){var r=zs(t);return r==Gn?M(t):r==tt?q(t):I(t,n(t))}}function ai(n,t,r,e,u,i,o,f){var c=t&vn;if(!c&&\"function\"!=typeof n)throw new pl(en);var a=e?e.length:0;if(a||(t&=~(bn|wn),e=u=X),o=o===X?o:Gl(kc(o),0),f=f===X?f:kc(f),a-=u?u.length:0,t&wn){var l=e,s=u;\ne=u=X}var h=c?X:Os(n),p=[n,t,r,e,u,l,s,i,o,f];if(h&&qi(p,h),n=p[0],t=p[1],r=p[2],e=p[3],u=p[4],f=p[9]=p[9]===X?c?0:n.length:Gl(p[9]-a,0),!f&&t&(yn|dn)&&(t&=~(yn|dn)),t&&t!=_n)_=t==yn||t==dn?Hu(n,t,f):t!=bn&&t!=(_n|bn)||u.length?Qu.apply(X,p):ei(n,t,r,e);else var _=Zu(n,t,r);return Yi((h?ms:Ss)(_,p),n,t)}function li(n,t,r,e){return n===X||Gf(n,gl[r])&&!bl.call(e,r)?t:n}function si(n,t,r,e,u,i){return fc(n)&&fc(t)&&(i.set(t,n),Ke(n,t,X,si,i),i.delete(t)),n}function hi(n){return gc(n)?X:n}function pi(n,t,r,e,u,i){\nvar o=r&hn,f=n.length,c=t.length;if(f!=c&&!(o&&c>f))return!1;var a=i.get(n),l=i.get(t);if(a&&l)return a==t&&l==n;var s=-1,p=!0,_=r&pn?new yr:X;for(i.set(n,t),i.set(t,n);++s<f;){var v=n[s],g=t[s];if(e)var y=o?e(g,v,s,t,n,i):e(v,g,s,n,t,i);if(y!==X){if(y)continue;p=!1;break}if(_){if(!h(t,function(n,t){if(!S(_,t)&&(v===n||u(v,n,r,e,i)))return _.push(t)})){p=!1;break}}else if(v!==g&&!u(v,g,r,e,i)){p=!1;break}}return i.delete(n),i.delete(t),p}function _i(n,t,r,e,u,i,o){switch(r){case ct:if(n.byteLength!=t.byteLength||n.byteOffset!=t.byteOffset)return!1;\nn=n.buffer,t=t.buffer;case ft:return!(n.byteLength!=t.byteLength||!i(new Rl(n),new Rl(t)));case Nn:case Pn:case Hn:return Gf(+n,+t);case Zn:return n.name==t.name&&n.message==t.message;case nt:case rt:return n==t+\"\";case Gn:var f=M;case tt:var c=e&hn;if(f||(f=P),n.size!=t.size&&!c)return!1;var a=o.get(n);if(a)return a==t;e|=pn,o.set(n,t);var l=pi(f(n),f(t),e,u,i,o);return o.delete(n),l;case et:if(_s)return _s.call(n)==_s.call(t)}return!1}function vi(n,t,r,e,u,i){var o=r&hn,f=yi(n),c=f.length;if(c!=yi(t).length&&!o)return!1;\nfor(var a=c;a--;){var l=f[a];if(!(o?l in t:bl.call(t,l)))return!1}var s=i.get(n),h=i.get(t);if(s&&h)return s==t&&h==n;var p=!0;i.set(n,t),i.set(t,n);for(var _=o;++a<c;){l=f[a];var v=n[l],g=t[l];if(e)var y=o?e(g,v,l,t,n,i):e(v,g,l,n,t,i);if(!(y===X?v===g||u(v,g,r,e,i):y)){p=!1;break}_||(_=\"constructor\"==l)}if(p&&!_){var d=n.constructor,b=t.constructor;d!=b&&\"constructor\"in n&&\"constructor\"in t&&!(\"function\"==typeof d&&d instanceof d&&\"function\"==typeof b&&b instanceof b)&&(p=!1)}return i.delete(n),\ni.delete(t),p}function gi(n){return Ls(Vi(n,X,_o),n+\"\")}function yi(n){return de(n,Pc,Is)}function di(n){return de(n,qc,Rs)}function bi(n){for(var t=n.name+\"\",r=fs[t],e=bl.call(fs,t)?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function wi(n){return(bl.call(Z,\"placeholder\")?Z:n).placeholder}function mi(){var n=Z.iteratee||Ca;return n=n===Ca?De:n,arguments.length?n(arguments[0],arguments[1]):n}function xi(n,t){var r=n.__data__;return Ti(t)?r[\"string\"==typeof t?\"string\":\"hash\"]:r.map;\n}function ji(n){for(var t=Pc(n),r=t.length;r--;){var e=t[r],u=n[e];t[r]=[e,u,Fi(u)]}return t}function Ai(n,t){var r=B(n,t);return Ue(r)?r:X}function ki(n){var t=bl.call(n,Bl),r=n[Bl];try{n[Bl]=X;var e=!0}catch(n){}var u=xl.call(n);return e&&(t?n[Bl]=r:delete n[Bl]),u}function Oi(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case\"drop\":n+=o;break;case\"dropRight\":t-=o;break;case\"take\":t=Hl(t,n+o);break;case\"takeRight\":n=Gl(n,t-o)}}return{start:n,end:t}}function Ii(n){var t=n.match(Bt);\nreturn t?t[1].split(Tt):[]}function Ri(n,t,r){t=ku(t,n);for(var e=-1,u=t.length,i=!1;++e<u;){var o=no(t[e]);if(!(i=null!=n&&r(n,o)))break;n=n[o]}return i||++e!=u?i:(u=null==n?0:n.length,!!u&&oc(u)&&Ci(o,u)&&(bh(n)||dh(n)))}function zi(n){var t=n.length,r=new n.constructor(t);return t&&\"string\"==typeof n[0]&&bl.call(n,\"index\")&&(r.index=n.index,r.input=n.input),r}function Ei(n){return\"function\"!=typeof n.constructor||Mi(n)?{}:gs(El(n))}function Si(n,t,r){var e=n.constructor;switch(t){case ft:return Ru(n);\ncase Nn:case Pn:return new e(+n);case ct:return zu(n,r);case at:case lt:case st:case ht:case pt:case _t:case vt:case gt:case yt:return Wu(n,r);case Gn:return new e;case Hn:case rt:return new e(n);case nt:return Eu(n);case tt:return new e;case et:return Su(n)}}function Wi(n,t){var r=t.length;if(!r)return n;var e=r-1;return t[e]=(r>1?\"& \":\"\")+t[e],t=t.join(r>2?\", \":\" \"),n.replace(Ut,\"{\\n/* [wrapped with \"+t+\"] */\\n\")}function Li(n){return bh(n)||dh(n)||!!(Cl&&n&&n[Cl])}function Ci(n,t){var r=typeof n;\nreturn t=null==t?Wn:t,!!t&&(\"number\"==r||\"symbol\"!=r&&Vt.test(n))&&n>-1&&n%1==0&&n<t}function Ui(n,t,r){if(!fc(r))return!1;var e=typeof t;return!!(\"number\"==e?Hf(r)&&Ci(t,r.length):\"string\"==e&&t in r)&&Gf(r[t],n)}function Bi(n,t){if(bh(n))return!1;var r=typeof n;return!(\"number\"!=r&&\"symbol\"!=r&&\"boolean\"!=r&&null!=n&&!bc(n))||(zt.test(n)||!Rt.test(n)||null!=t&&n in ll(t))}function Ti(n){var t=typeof n;return\"string\"==t||\"number\"==t||\"symbol\"==t||\"boolean\"==t?\"__proto__\"!==n:null===n}function $i(n){\nvar t=bi(n),r=Z[t];if(\"function\"!=typeof r||!(t in Ct.prototype))return!1;if(n===r)return!0;var e=Os(r);return!!e&&n===e[0]}function Di(n){return!!ml&&ml in n}function Mi(n){var t=n&&n.constructor;return n===(\"function\"==typeof t&&t.prototype||gl)}function Fi(n){return n===n&&!fc(n)}function Ni(n,t){return function(r){return null!=r&&(r[n]===t&&(t!==X||n in ll(r)))}}function Pi(n){var t=Cf(n,function(n){return r.size===fn&&r.clear(),n}),r=t.cache;return t}function qi(n,t){var r=n[1],e=t[1],u=r|e,i=u<(_n|vn|mn),o=e==mn&&r==yn||e==mn&&r==xn&&n[7].length<=t[8]||e==(mn|xn)&&t[7].length<=t[8]&&r==yn;\nif(!i&&!o)return n;e&_n&&(n[2]=t[2],u|=r&_n?0:gn);var f=t[3];if(f){var c=n[3];n[3]=c?Uu(c,f,t[4]):f,n[4]=c?N(n[3],cn):t[4]}return f=t[5],f&&(c=n[5],n[5]=c?Bu(c,f,t[6]):f,n[6]=c?N(n[5],cn):t[6]),f=t[7],f&&(n[7]=f),e&mn&&(n[8]=null==n[8]?t[8]:Hl(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function Zi(n){var t=[];if(null!=n)for(var r in ll(n))t.push(r);return t}function Ki(n){return xl.call(n)}function Vi(t,r,e){return r=Gl(r===X?t.length-1:r,0),function(){for(var u=arguments,i=-1,o=Gl(u.length-r,0),f=il(o);++i<o;)f[i]=u[r+i];\ni=-1;for(var c=il(r+1);++i<r;)c[i]=u[i];return c[r]=e(f),n(t,this,c)}}function Gi(n,t){return t.length<2?n:_e(n,au(t,0,-1))}function Hi(n,t){for(var r=n.length,e=Hl(t.length,r),u=Tu(n);e--;){var i=t[e];n[e]=Ci(i,r)?u[i]:X}return n}function Ji(n,t){if((\"constructor\"!==t||\"function\"!=typeof n[t])&&\"__proto__\"!=t)return n[t]}function Yi(n,t,r){var e=t+\"\";return Ls(n,Wi(e,ro(Ii(e),r)))}function Qi(n){var t=0,r=0;return function(){var e=Jl(),u=In-(e-r);if(r=e,u>0){if(++t>=On)return arguments[0]}else t=0;\nreturn n.apply(X,arguments)}}function Xi(n,t){var r=-1,e=n.length,u=e-1;for(t=t===X?e:t;++r<t;){var i=tu(r,u),o=n[i];n[i]=n[r],n[r]=o}return n.length=t,n}function no(n){if(\"string\"==typeof n||bc(n))return n;var t=n+\"\";return\"0\"==t&&1/n==-Sn?\"-0\":t}function to(n){if(null!=n){try{return dl.call(n)}catch(n){}try{return n+\"\"}catch(n){}}return\"\"}function ro(n,t){return r($n,function(r){var e=\"_.\"+r[0];t&r[1]&&!o(n,e)&&n.push(e)}),n.sort()}function eo(n){if(n instanceof Ct)return n.clone();var t=new Y(n.__wrapped__,n.__chain__);\nreturn t.__actions__=Tu(n.__actions__),t.__index__=n.__index__,t.__values__=n.__values__,t}function uo(n,t,r){t=(r?Ui(n,t,r):t===X)?1:Gl(kc(t),0);var e=null==n?0:n.length;if(!e||t<1)return[];for(var u=0,i=0,o=il(Fl(e/t));u<e;)o[i++]=au(n,u,u+=t);return o}function io(n){for(var t=-1,r=null==n?0:n.length,e=0,u=[];++t<r;){var i=n[t];i&&(u[e++]=i)}return u}function oo(){var n=arguments.length;if(!n)return[];for(var t=il(n-1),r=arguments[0],e=n;e--;)t[e-1]=arguments[e];return a(bh(r)?Tu(r):[r],ee(t,1));\n}function fo(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),au(n,t<0?0:t,e)):[]}function co(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,0,t<0?0:t)):[]}function ao(n,t){return n&&n.length?bu(n,mi(t,3),!0,!0):[]}function lo(n,t){return n&&n.length?bu(n,mi(t,3),!0):[]}function so(n,t,r,e){var u=null==n?0:n.length;return u?(r&&\"number\"!=typeof r&&Ui(n,t,r)&&(r=0,e=u),ne(n,t,r,e)):[]}function ho(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);\nreturn u<0&&(u=Gl(e+u,0)),g(n,mi(t,3),u)}function po(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e-1;return r!==X&&(u=kc(r),u=r<0?Gl(e+u,0):Hl(u,e-1)),g(n,mi(t,3),u,!0)}function _o(n){return(null==n?0:n.length)?ee(n,1):[]}function vo(n){return(null==n?0:n.length)?ee(n,Sn):[]}function go(n,t){return(null==n?0:n.length)?(t=t===X?1:kc(t),ee(n,t)):[]}function yo(n){for(var t=-1,r=null==n?0:n.length,e={};++t<r;){var u=n[t];e[u[0]]=u[1]}return e}function bo(n){return n&&n.length?n[0]:X}function wo(n,t,r){\nvar e=null==n?0:n.length;if(!e)return-1;var u=null==r?0:kc(r);return u<0&&(u=Gl(e+u,0)),y(n,t,u)}function mo(n){return(null==n?0:n.length)?au(n,0,-1):[]}function xo(n,t){return null==n?\"\":Kl.call(n,t)}function jo(n){var t=null==n?0:n.length;return t?n[t-1]:X}function Ao(n,t,r){var e=null==n?0:n.length;if(!e)return-1;var u=e;return r!==X&&(u=kc(r),u=u<0?Gl(e+u,0):Hl(u,e-1)),t===t?K(n,t,u):g(n,b,u,!0)}function ko(n,t){return n&&n.length?Ge(n,kc(t)):X}function Oo(n,t){return n&&n.length&&t&&t.length?Xe(n,t):n;\n}function Io(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,mi(r,2)):n}function Ro(n,t,r){return n&&n.length&&t&&t.length?Xe(n,t,X,r):n}function zo(n,t){var r=[];if(!n||!n.length)return r;var e=-1,u=[],i=n.length;for(t=mi(t,3);++e<i;){var o=n[e];t(o,e,n)&&(r.push(o),u.push(e))}return nu(n,u),r}function Eo(n){return null==n?n:Xl.call(n)}function So(n,t,r){var e=null==n?0:n.length;return e?(r&&\"number\"!=typeof r&&Ui(n,t,r)?(t=0,r=e):(t=null==t?0:kc(t),r=r===X?e:kc(r)),au(n,t,r)):[]}function Wo(n,t){\nreturn su(n,t)}function Lo(n,t,r){return hu(n,t,mi(r,2))}function Co(n,t){var r=null==n?0:n.length;if(r){var e=su(n,t);if(e<r&&Gf(n[e],t))return e}return-1}function Uo(n,t){return su(n,t,!0)}function Bo(n,t,r){return hu(n,t,mi(r,2),!0)}function To(n,t){if(null==n?0:n.length){var r=su(n,t,!0)-1;if(Gf(n[r],t))return r}return-1}function $o(n){return n&&n.length?pu(n):[]}function Do(n,t){return n&&n.length?pu(n,mi(t,2)):[]}function Mo(n){var t=null==n?0:n.length;return t?au(n,1,t):[]}function Fo(n,t,r){\nreturn n&&n.length?(t=r||t===X?1:kc(t),au(n,0,t<0?0:t)):[]}function No(n,t,r){var e=null==n?0:n.length;return e?(t=r||t===X?1:kc(t),t=e-t,au(n,t<0?0:t,e)):[]}function Po(n,t){return n&&n.length?bu(n,mi(t,3),!1,!0):[]}function qo(n,t){return n&&n.length?bu(n,mi(t,3)):[]}function Zo(n){return n&&n.length?gu(n):[]}function Ko(n,t){return n&&n.length?gu(n,mi(t,2)):[]}function Vo(n,t){return t=\"function\"==typeof t?t:X,n&&n.length?gu(n,X,t):[]}function Go(n){if(!n||!n.length)return[];var t=0;return n=i(n,function(n){\nif(Jf(n))return t=Gl(n.length,t),!0}),O(t,function(t){return c(n,m(t))})}function Ho(t,r){if(!t||!t.length)return[];var e=Go(t);return null==r?e:c(e,function(t){return n(r,X,t)})}function Jo(n,t){return xu(n||[],t||[],Sr)}function Yo(n,t){return xu(n||[],t||[],fu)}function Qo(n){var t=Z(n);return t.__chain__=!0,t}function Xo(n,t){return t(n),n}function nf(n,t){return t(n)}function tf(){return Qo(this)}function rf(){return new Y(this.value(),this.__chain__)}function ef(){this.__values__===X&&(this.__values__=jc(this.value()));\nvar n=this.__index__>=this.__values__.length;return{done:n,value:n?X:this.__values__[this.__index__++]}}function uf(){return this}function of(n){for(var t,r=this;r instanceof J;){var e=eo(r);e.__index__=0,e.__values__=X,t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function ff(){var n=this.__wrapped__;if(n instanceof Ct){var t=n;return this.__actions__.length&&(t=new Ct(this)),t=t.reverse(),t.__actions__.push({func:nf,args:[Eo],thisArg:X}),new Y(t,this.__chain__)}return this.thru(Eo);\n}function cf(){return wu(this.__wrapped__,this.__actions__)}function af(n,t,r){var e=bh(n)?u:Jr;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function lf(n,t){return(bh(n)?i:te)(n,mi(t,3))}function sf(n,t){return ee(yf(n,t),1)}function hf(n,t){return ee(yf(n,t),Sn)}function pf(n,t,r){return r=r===X?1:kc(r),ee(yf(n,t),r)}function _f(n,t){return(bh(n)?r:ys)(n,mi(t,3))}function vf(n,t){return(bh(n)?e:ds)(n,mi(t,3))}function gf(n,t,r,e){n=Hf(n)?n:ra(n),r=r&&!e?kc(r):0;var u=n.length;return r<0&&(r=Gl(u+r,0)),\ndc(n)?r<=u&&n.indexOf(t,r)>-1:!!u&&y(n,t,r)>-1}function yf(n,t){return(bh(n)?c:Pe)(n,mi(t,3))}function df(n,t,r,e){return null==n?[]:(bh(t)||(t=null==t?[]:[t]),r=e?X:r,bh(r)||(r=null==r?[]:[r]),He(n,t,r))}function bf(n,t,r){var e=bh(n)?l:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ys)}function wf(n,t,r){var e=bh(n)?s:j,u=arguments.length<3;return e(n,mi(t,4),r,u,ds)}function mf(n,t){return(bh(n)?i:te)(n,Uf(mi(t,3)))}function xf(n){return(bh(n)?Ir:iu)(n)}function jf(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),\n(bh(n)?Rr:ou)(n,t)}function Af(n){return(bh(n)?zr:cu)(n)}function kf(n){if(null==n)return 0;if(Hf(n))return dc(n)?V(n):n.length;var t=zs(n);return t==Gn||t==tt?n.size:Me(n).length}function Of(n,t,r){var e=bh(n)?h:lu;return r&&Ui(n,t,r)&&(t=X),e(n,mi(t,3))}function If(n,t){if(\"function\"!=typeof t)throw new pl(en);return n=kc(n),function(){if(--n<1)return t.apply(this,arguments)}}function Rf(n,t,r){return t=r?X:t,t=n&&null==t?n.length:t,ai(n,mn,X,X,X,X,t)}function zf(n,t){var r;if(\"function\"!=typeof t)throw new pl(en);\nreturn n=kc(n),function(){return--n>0&&(r=t.apply(this,arguments)),n<=1&&(t=X),r}}function Ef(n,t,r){t=r?X:t;var e=ai(n,yn,X,X,X,X,X,t);return e.placeholder=Ef.placeholder,e}function Sf(n,t,r){t=r?X:t;var e=ai(n,dn,X,X,X,X,X,t);return e.placeholder=Sf.placeholder,e}function Wf(n,t,r){function e(t){var r=h,e=p;return h=p=X,d=t,v=n.apply(e,r)}function u(n){return d=n,g=Ws(f,t),b?e(n):v}function i(n){var r=n-y,e=n-d,u=t-r;return w?Hl(u,_-e):u}function o(n){var r=n-y,e=n-d;return y===X||r>=t||r<0||w&&e>=_;\n}function f(){var n=fh();return o(n)?c(n):(g=Ws(f,i(n)),X)}function c(n){return g=X,m&&h?e(n):(h=p=X,v)}function a(){g!==X&&As(g),d=0,h=y=p=g=X}function l(){return g===X?v:c(fh())}function s(){var n=fh(),r=o(n);if(h=arguments,p=this,y=n,r){if(g===X)return u(y);if(w)return As(g),g=Ws(f,t),e(y)}return g===X&&(g=Ws(f,t)),v}var h,p,_,v,g,y,d=0,b=!1,w=!1,m=!0;if(\"function\"!=typeof n)throw new pl(en);return t=Ic(t)||0,fc(r)&&(b=!!r.leading,w=\"maxWait\"in r,_=w?Gl(Ic(r.maxWait)||0,t):_,m=\"trailing\"in r?!!r.trailing:m),\ns.cancel=a,s.flush=l,s}function Lf(n){return ai(n,jn)}function Cf(n,t){if(\"function\"!=typeof n||null!=t&&\"function\"!=typeof t)throw new pl(en);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o)||i,o};return r.cache=new(Cf.Cache||sr),r}function Uf(n){if(\"function\"!=typeof n)throw new pl(en);return function(){var t=arguments;switch(t.length){case 0:return!n.call(this);case 1:return!n.call(this,t[0]);case 2:\nreturn!n.call(this,t[0],t[1]);case 3:return!n.call(this,t[0],t[1],t[2])}return!n.apply(this,t)}}function Bf(n){return zf(2,n)}function Tf(n,t){if(\"function\"!=typeof n)throw new pl(en);return t=t===X?t:kc(t),uu(n,t)}function $f(t,r){if(\"function\"!=typeof t)throw new pl(en);return r=null==r?0:Gl(kc(r),0),uu(function(e){var u=e[r],i=Ou(e,0,r);return u&&a(i,u),n(t,this,i)})}function Df(n,t,r){var e=!0,u=!0;if(\"function\"!=typeof n)throw new pl(en);return fc(r)&&(e=\"leading\"in r?!!r.leading:e,u=\"trailing\"in r?!!r.trailing:u),\nWf(n,t,{leading:e,maxWait:t,trailing:u})}function Mf(n){return Rf(n,1)}function Ff(n,t){return ph(Au(t),n)}function Nf(){if(!arguments.length)return[];var n=arguments[0];return bh(n)?n:[n]}function Pf(n){return Fr(n,sn)}function qf(n,t){return t=\"function\"==typeof t?t:X,Fr(n,sn,t)}function Zf(n){return Fr(n,an|sn)}function Kf(n,t){return t=\"function\"==typeof t?t:X,Fr(n,an|sn,t)}function Vf(n,t){return null==t||Pr(n,t,Pc(t))}function Gf(n,t){return n===t||n!==n&&t!==t}function Hf(n){return null!=n&&oc(n.length)&&!uc(n);\n}function Jf(n){return cc(n)&&Hf(n)}function Yf(n){return n===!0||n===!1||cc(n)&&we(n)==Nn}function Qf(n){return cc(n)&&1===n.nodeType&&!gc(n)}function Xf(n){if(null==n)return!0;if(Hf(n)&&(bh(n)||\"string\"==typeof n||\"function\"==typeof n.splice||mh(n)||Oh(n)||dh(n)))return!n.length;var t=zs(n);if(t==Gn||t==tt)return!n.size;if(Mi(n))return!Me(n).length;for(var r in n)if(bl.call(n,r))return!1;return!0}function nc(n,t){return Se(n,t)}function tc(n,t,r){r=\"function\"==typeof r?r:X;var e=r?r(n,t):X;return e===X?Se(n,t,X,r):!!e;\n}function rc(n){if(!cc(n))return!1;var t=we(n);return t==Zn||t==qn||\"string\"==typeof n.message&&\"string\"==typeof n.name&&!gc(n)}function ec(n){return\"number\"==typeof n&&Zl(n)}function uc(n){if(!fc(n))return!1;var t=we(n);return t==Kn||t==Vn||t==Fn||t==Xn}function ic(n){return\"number\"==typeof n&&n==kc(n)}function oc(n){return\"number\"==typeof n&&n>-1&&n%1==0&&n<=Wn}function fc(n){var t=typeof n;return null!=n&&(\"object\"==t||\"function\"==t)}function cc(n){return null!=n&&\"object\"==typeof n}function ac(n,t){\nreturn n===t||Ce(n,t,ji(t))}function lc(n,t,r){return r=\"function\"==typeof r?r:X,Ce(n,t,ji(t),r)}function sc(n){return vc(n)&&n!=+n}function hc(n){if(Es(n))throw new fl(rn);return Ue(n)}function pc(n){return null===n}function _c(n){return null==n}function vc(n){return\"number\"==typeof n||cc(n)&&we(n)==Hn}function gc(n){if(!cc(n)||we(n)!=Yn)return!1;var t=El(n);if(null===t)return!0;var r=bl.call(t,\"constructor\")&&t.constructor;return\"function\"==typeof r&&r instanceof r&&dl.call(r)==jl}function yc(n){\nreturn ic(n)&&n>=-Wn&&n<=Wn}function dc(n){return\"string\"==typeof n||!bh(n)&&cc(n)&&we(n)==rt}function bc(n){return\"symbol\"==typeof n||cc(n)&&we(n)==et}function wc(n){return n===X}function mc(n){return cc(n)&&zs(n)==it}function xc(n){return cc(n)&&we(n)==ot}function jc(n){if(!n)return[];if(Hf(n))return dc(n)?G(n):Tu(n);if(Ul&&n[Ul])return D(n[Ul]());var t=zs(n);return(t==Gn?M:t==tt?P:ra)(n)}function Ac(n){if(!n)return 0===n?n:0;if(n=Ic(n),n===Sn||n===-Sn){return(n<0?-1:1)*Ln}return n===n?n:0}function kc(n){\nvar t=Ac(n),r=t%1;return t===t?r?t-r:t:0}function Oc(n){return n?Mr(kc(n),0,Un):0}function Ic(n){if(\"number\"==typeof n)return n;if(bc(n))return Cn;if(fc(n)){var t=\"function\"==typeof n.valueOf?n.valueOf():n;n=fc(t)?t+\"\":t}if(\"string\"!=typeof n)return 0===n?n:+n;n=R(n);var r=qt.test(n);return r||Kt.test(n)?Xr(n.slice(2),r?2:8):Pt.test(n)?Cn:+n}function Rc(n){return $u(n,qc(n))}function zc(n){return n?Mr(kc(n),-Wn,Wn):0===n?n:0}function Ec(n){return null==n?\"\":vu(n)}function Sc(n,t){var r=gs(n);return null==t?r:Cr(r,t);\n}function Wc(n,t){return v(n,mi(t,3),ue)}function Lc(n,t){return v(n,mi(t,3),oe)}function Cc(n,t){return null==n?n:bs(n,mi(t,3),qc)}function Uc(n,t){return null==n?n:ws(n,mi(t,3),qc)}function Bc(n,t){return n&&ue(n,mi(t,3))}function Tc(n,t){return n&&oe(n,mi(t,3))}function $c(n){return null==n?[]:fe(n,Pc(n))}function Dc(n){return null==n?[]:fe(n,qc(n))}function Mc(n,t,r){var e=null==n?X:_e(n,t);return e===X?r:e}function Fc(n,t){return null!=n&&Ri(n,t,xe)}function Nc(n,t){return null!=n&&Ri(n,t,je);\n}function Pc(n){return Hf(n)?Or(n):Me(n)}function qc(n){return Hf(n)?Or(n,!0):Fe(n)}function Zc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,t(n,e,u),n)}),r}function Kc(n,t){var r={};return t=mi(t,3),ue(n,function(n,e,u){Br(r,e,t(n,e,u))}),r}function Vc(n,t){return Gc(n,Uf(mi(t)))}function Gc(n,t){if(null==n)return{};var r=c(di(n),function(n){return[n]});return t=mi(t),Ye(n,r,function(n,r){return t(n,r[0])})}function Hc(n,t,r){t=ku(t,n);var e=-1,u=t.length;for(u||(u=1,n=X);++e<u;){var i=null==n?X:n[no(t[e])];\ni===X&&(e=u,i=r),n=uc(i)?i.call(n):i}return n}function Jc(n,t,r){return null==n?n:fu(n,t,r)}function Yc(n,t,r,e){return e=\"function\"==typeof e?e:X,null==n?n:fu(n,t,r,e)}function Qc(n,t,e){var u=bh(n),i=u||mh(n)||Oh(n);if(t=mi(t,4),null==e){var o=n&&n.constructor;e=i?u?new o:[]:fc(n)&&uc(o)?gs(El(n)):{}}return(i?r:ue)(n,function(n,r,u){return t(e,n,r,u)}),e}function Xc(n,t){return null==n||yu(n,t)}function na(n,t,r){return null==n?n:du(n,t,Au(r))}function ta(n,t,r,e){return e=\"function\"==typeof e?e:X,\nnull==n?n:du(n,t,Au(r),e)}function ra(n){return null==n?[]:E(n,Pc(n))}function ea(n){return null==n?[]:E(n,qc(n))}function ua(n,t,r){return r===X&&(r=t,t=X),r!==X&&(r=Ic(r),r=r===r?r:0),t!==X&&(t=Ic(t),t=t===t?t:0),Mr(Ic(n),t,r)}function ia(n,t,r){return t=Ac(t),r===X?(r=t,t=0):r=Ac(r),n=Ic(n),Ae(n,t,r)}function oa(n,t,r){if(r&&\"boolean\"!=typeof r&&Ui(n,t,r)&&(t=r=X),r===X&&(\"boolean\"==typeof t?(r=t,t=X):\"boolean\"==typeof n&&(r=n,n=X)),n===X&&t===X?(n=0,t=1):(n=Ac(n),t===X?(t=n,n=0):t=Ac(t)),n>t){\nvar e=n;n=t,t=e}if(r||n%1||t%1){var u=Ql();return Hl(n+u*(t-n+Qr(\"1e-\"+((u+\"\").length-1))),t)}return tu(n,t)}function fa(n){return Qh(Ec(n).toLowerCase())}function ca(n){return n=Ec(n),n&&n.replace(Gt,ve).replace(Dr,\"\")}function aa(n,t,r){n=Ec(n),t=vu(t);var e=n.length;r=r===X?e:Mr(kc(r),0,e);var u=r;return r-=t.length,r>=0&&n.slice(r,u)==t}function la(n){return n=Ec(n),n&&At.test(n)?n.replace(xt,ge):n}function sa(n){return n=Ec(n),n&&Wt.test(n)?n.replace(St,\"\\\\$&\"):n}function ha(n,t,r){n=Ec(n),t=kc(t);\nvar e=t?V(n):0;if(!t||e>=t)return n;var u=(t-e)/2;return ri(Nl(u),r)+n+ri(Fl(u),r)}function pa(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?n+ri(t-e,r):n}function _a(n,t,r){n=Ec(n),t=kc(t);var e=t?V(n):0;return t&&e<t?ri(t-e,r)+n:n}function va(n,t,r){return r||null==t?t=0:t&&(t=+t),Yl(Ec(n).replace(Lt,\"\"),t||0)}function ga(n,t,r){return t=(r?Ui(n,t,r):t===X)?1:kc(t),eu(Ec(n),t)}function ya(){var n=arguments,t=Ec(n[0]);return n.length<3?t:t.replace(n[1],n[2])}function da(n,t,r){return r&&\"number\"!=typeof r&&Ui(n,t,r)&&(t=r=X),\n(r=r===X?Un:r>>>0)?(n=Ec(n),n&&(\"string\"==typeof t||null!=t&&!Ah(t))&&(t=vu(t),!t&&T(n))?Ou(G(n),0,r):n.split(t,r)):[]}function ba(n,t,r){return n=Ec(n),r=null==r?0:Mr(kc(r),0,n.length),t=vu(t),n.slice(r,r+t.length)==t}function wa(n,t,r){var e=Z.templateSettings;r&&Ui(n,t,r)&&(t=X),n=Ec(n),t=Sh({},t,e,li);var u,i,o=Sh({},t.imports,e.imports,li),f=Pc(o),c=E(o,f),a=0,l=t.interpolate||Ht,s=\"__p += '\",h=sl((t.escape||Ht).source+\"|\"+l.source+\"|\"+(l===It?Ft:Ht).source+\"|\"+(t.evaluate||Ht).source+\"|$\",\"g\"),p=\"//# sourceURL=\"+(bl.call(t,\"sourceURL\")?(t.sourceURL+\"\").replace(/\\s/g,\" \"):\"lodash.templateSources[\"+ ++Zr+\"]\")+\"\\n\";\nn.replace(h,function(t,r,e,o,f,c){return e||(e=o),s+=n.slice(a,c).replace(Jt,U),r&&(u=!0,s+=\"' +\\n__e(\"+r+\") +\\n'\"),f&&(i=!0,s+=\"';\\n\"+f+\";\\n__p += '\"),e&&(s+=\"' +\\n((__t = (\"+e+\")) == null ? '' : __t) +\\n'\"),a=c+t.length,t}),s+=\"';\\n\";var _=bl.call(t,\"variable\")&&t.variable;if(_){if(Dt.test(_))throw new fl(un)}else s=\"with (obj) {\\n\"+s+\"\\n}\\n\";s=(i?s.replace(dt,\"\"):s).replace(bt,\"$1\").replace(wt,\"$1;\"),s=\"function(\"+(_||\"obj\")+\") {\\n\"+(_?\"\":\"obj || (obj = {});\\n\")+\"var __t, __p = ''\"+(u?\", __e = _.escape\":\"\")+(i?\", __j = Array.prototype.join;\\nfunction print() { __p += __j.call(arguments, '') }\\n\":\";\\n\")+s+\"return __p\\n}\";\nvar v=Xh(function(){return cl(f,p+\"return \"+s).apply(X,c)});if(v.source=s,rc(v))throw v;return v}function ma(n){return Ec(n).toLowerCase()}function xa(n){return Ec(n).toUpperCase()}function ja(n,t,r){if(n=Ec(n),n&&(r||t===X))return R(n);if(!n||!(t=vu(t)))return n;var e=G(n),u=G(t);return Ou(e,W(e,u),L(e,u)+1).join(\"\")}function Aa(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.slice(0,H(n)+1);if(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,0,L(e,G(t))+1).join(\"\")}function ka(n,t,r){if(n=Ec(n),n&&(r||t===X))return n.replace(Lt,\"\");\nif(!n||!(t=vu(t)))return n;var e=G(n);return Ou(e,W(e,G(t))).join(\"\")}function Oa(n,t){var r=An,e=kn;if(fc(t)){var u=\"separator\"in t?t.separator:u;r=\"length\"in t?kc(t.length):r,e=\"omission\"in t?vu(t.omission):e}n=Ec(n);var i=n.length;if(T(n)){var o=G(n);i=o.length}if(r>=i)return n;var f=r-V(e);if(f<1)return e;var c=o?Ou(o,0,f).join(\"\"):n.slice(0,f);if(u===X)return c+e;if(o&&(f+=c.length-f),Ah(u)){if(n.slice(f).search(u)){var a,l=c;for(u.global||(u=sl(u.source,Ec(Nt.exec(u))+\"g\")),u.lastIndex=0;a=u.exec(l);)var s=a.index;\nc=c.slice(0,s===X?f:s)}}else if(n.indexOf(vu(u),f)!=f){var h=c.lastIndexOf(u);h>-1&&(c=c.slice(0,h))}return c+e}function Ia(n){return n=Ec(n),n&&jt.test(n)?n.replace(mt,ye):n}function Ra(n,t,r){return n=Ec(n),t=r?X:t,t===X?$(n)?Q(n):_(n):n.match(t)||[]}function za(t){var r=null==t?0:t.length,e=mi();return t=r?c(t,function(n){if(\"function\"!=typeof n[1])throw new pl(en);return[e(n[0]),n[1]]}):[],uu(function(e){for(var u=-1;++u<r;){var i=t[u];if(n(i[0],this,e))return n(i[1],this,e)}})}function Ea(n){\nreturn Nr(Fr(n,an))}function Sa(n){return function(){return n}}function Wa(n,t){return null==n||n!==n?t:n}function La(n){return n}function Ca(n){return De(\"function\"==typeof n?n:Fr(n,an))}function Ua(n){return qe(Fr(n,an))}function Ba(n,t){return Ze(n,Fr(t,an))}function Ta(n,t,e){var u=Pc(t),i=fe(t,u);null!=e||fc(t)&&(i.length||!u.length)||(e=t,t=n,n=this,i=fe(t,Pc(t)));var o=!(fc(e)&&\"chain\"in e&&!e.chain),f=uc(n);return r(i,function(r){var e=t[r];n[r]=e,f&&(n.prototype[r]=function(){var t=this.__chain__;\nif(o||t){var r=n(this.__wrapped__);return(r.__actions__=Tu(this.__actions__)).push({func:e,args:arguments,thisArg:n}),r.__chain__=t,r}return e.apply(n,a([this.value()],arguments))})}),n}function $a(){return re._===this&&(re._=Al),this}function Da(){}function Ma(n){return n=kc(n),uu(function(t){return Ge(t,n)})}function Fa(n){return Bi(n)?m(no(n)):Qe(n)}function Na(n){return function(t){return null==n?X:_e(n,t)}}function Pa(){return[]}function qa(){return!1}function Za(){return{}}function Ka(){return\"\";\n}function Va(){return!0}function Ga(n,t){if(n=kc(n),n<1||n>Wn)return[];var r=Un,e=Hl(n,Un);t=mi(t),n-=Un;for(var u=O(e,t);++r<n;)t(r);return u}function Ha(n){return bh(n)?c(n,no):bc(n)?[n]:Tu(Cs(Ec(n)))}function Ja(n){var t=++wl;return Ec(n)+t}function Ya(n){return n&&n.length?Yr(n,La,me):X}function Qa(n,t){return n&&n.length?Yr(n,mi(t,2),me):X}function Xa(n){return w(n,La)}function nl(n,t){return w(n,mi(t,2))}function tl(n){return n&&n.length?Yr(n,La,Ne):X}function rl(n,t){return n&&n.length?Yr(n,mi(t,2),Ne):X;\n}function el(n){return n&&n.length?k(n,La):0}function ul(n,t){return n&&n.length?k(n,mi(t,2)):0}x=null==x?re:be.defaults(re.Object(),x,be.pick(re,qr));var il=x.Array,ol=x.Date,fl=x.Error,cl=x.Function,al=x.Math,ll=x.Object,sl=x.RegExp,hl=x.String,pl=x.TypeError,_l=il.prototype,vl=cl.prototype,gl=ll.prototype,yl=x[\"__core-js_shared__\"],dl=vl.toString,bl=gl.hasOwnProperty,wl=0,ml=function(){var n=/[^.]+$/.exec(yl&&yl.keys&&yl.keys.IE_PROTO||\"\");return n?\"Symbol(src)_1.\"+n:\"\"}(),xl=gl.toString,jl=dl.call(ll),Al=re._,kl=sl(\"^\"+dl.call(bl).replace(St,\"\\\\$&\").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,\"$1.*?\")+\"$\"),Ol=ie?x.Buffer:X,Il=x.Symbol,Rl=x.Uint8Array,zl=Ol?Ol.allocUnsafe:X,El=F(ll.getPrototypeOf,ll),Sl=ll.create,Wl=gl.propertyIsEnumerable,Ll=_l.splice,Cl=Il?Il.isConcatSpreadable:X,Ul=Il?Il.iterator:X,Bl=Il?Il.toStringTag:X,Tl=function(){\ntry{var n=Ai(ll,\"defineProperty\");return n({},\"\",{}),n}catch(n){}}(),$l=x.clearTimeout!==re.clearTimeout&&x.clearTimeout,Dl=ol&&ol.now!==re.Date.now&&ol.now,Ml=x.setTimeout!==re.setTimeout&&x.setTimeout,Fl=al.ceil,Nl=al.floor,Pl=ll.getOwnPropertySymbols,ql=Ol?Ol.isBuffer:X,Zl=x.isFinite,Kl=_l.join,Vl=F(ll.keys,ll),Gl=al.max,Hl=al.min,Jl=ol.now,Yl=x.parseInt,Ql=al.random,Xl=_l.reverse,ns=Ai(x,\"DataView\"),ts=Ai(x,\"Map\"),rs=Ai(x,\"Promise\"),es=Ai(x,\"Set\"),us=Ai(x,\"WeakMap\"),is=Ai(ll,\"create\"),os=us&&new us,fs={},cs=to(ns),as=to(ts),ls=to(rs),ss=to(es),hs=to(us),ps=Il?Il.prototype:X,_s=ps?ps.valueOf:X,vs=ps?ps.toString:X,gs=function(){\nfunction n(){}return function(t){if(!fc(t))return{};if(Sl)return Sl(t);n.prototype=t;var r=new n;return n.prototype=X,r}}();Z.templateSettings={escape:kt,evaluate:Ot,interpolate:It,variable:\"\",imports:{_:Z}},Z.prototype=J.prototype,Z.prototype.constructor=Z,Y.prototype=gs(J.prototype),Y.prototype.constructor=Y,Ct.prototype=gs(J.prototype),Ct.prototype.constructor=Ct,Xt.prototype.clear=nr,Xt.prototype.delete=tr,Xt.prototype.get=rr,Xt.prototype.has=er,Xt.prototype.set=ur,ir.prototype.clear=or,ir.prototype.delete=fr,\nir.prototype.get=cr,ir.prototype.has=ar,ir.prototype.set=lr,sr.prototype.clear=hr,sr.prototype.delete=pr,sr.prototype.get=_r,sr.prototype.has=vr,sr.prototype.set=gr,yr.prototype.add=yr.prototype.push=dr,yr.prototype.has=br,wr.prototype.clear=mr,wr.prototype.delete=xr,wr.prototype.get=jr,wr.prototype.has=Ar,wr.prototype.set=kr;var ys=Pu(ue),ds=Pu(oe,!0),bs=qu(),ws=qu(!0),ms=os?function(n,t){return os.set(n,t),n}:La,xs=Tl?function(n,t){return Tl(n,\"toString\",{configurable:!0,enumerable:!1,value:Sa(t),\nwritable:!0})}:La,js=uu,As=$l||function(n){return re.clearTimeout(n)},ks=es&&1/P(new es([,-0]))[1]==Sn?function(n){return new es(n)}:Da,Os=os?function(n){return os.get(n)}:Da,Is=Pl?function(n){return null==n?[]:(n=ll(n),i(Pl(n),function(t){return Wl.call(n,t)}))}:Pa,Rs=Pl?function(n){for(var t=[];n;)a(t,Is(n)),n=El(n);return t}:Pa,zs=we;(ns&&zs(new ns(new ArrayBuffer(1)))!=ct||ts&&zs(new ts)!=Gn||rs&&zs(rs.resolve())!=Qn||es&&zs(new es)!=tt||us&&zs(new us)!=it)&&(zs=function(n){var t=we(n),r=t==Yn?n.constructor:X,e=r?to(r):\"\";\nif(e)switch(e){case cs:return ct;case as:return Gn;case ls:return Qn;case ss:return tt;case hs:return it}return t});var Es=yl?uc:qa,Ss=Qi(ms),Ws=Ml||function(n,t){return re.setTimeout(n,t)},Ls=Qi(xs),Cs=Pi(function(n){var t=[];return 46===n.charCodeAt(0)&&t.push(\"\"),n.replace(Et,function(n,r,e,u){t.push(e?u.replace(Mt,\"$1\"):r||n)}),t}),Us=uu(function(n,t){return Jf(n)?Hr(n,ee(t,1,Jf,!0)):[]}),Bs=uu(function(n,t){var r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),mi(r,2)):[]}),Ts=uu(function(n,t){\nvar r=jo(t);return Jf(r)&&(r=X),Jf(n)?Hr(n,ee(t,1,Jf,!0),X,r):[]}),$s=uu(function(n){var t=c(n,ju);return t.length&&t[0]===n[0]?ke(t):[]}),Ds=uu(function(n){var t=jo(n),r=c(n,ju);return t===jo(r)?t=X:r.pop(),r.length&&r[0]===n[0]?ke(r,mi(t,2)):[]}),Ms=uu(function(n){var t=jo(n),r=c(n,ju);return t=\"function\"==typeof t?t:X,t&&r.pop(),r.length&&r[0]===n[0]?ke(r,X,t):[]}),Fs=uu(Oo),Ns=gi(function(n,t){var r=null==n?0:n.length,e=Tr(n,t);return nu(n,c(t,function(n){return Ci(n,r)?+n:n}).sort(Lu)),e}),Ps=uu(function(n){\nreturn gu(ee(n,1,Jf,!0))}),qs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),gu(ee(n,1,Jf,!0),mi(t,2))}),Zs=uu(function(n){var t=jo(n);return t=\"function\"==typeof t?t:X,gu(ee(n,1,Jf,!0),X,t)}),Ks=uu(function(n,t){return Jf(n)?Hr(n,t):[]}),Vs=uu(function(n){return mu(i(n,Jf))}),Gs=uu(function(n){var t=jo(n);return Jf(t)&&(t=X),mu(i(n,Jf),mi(t,2))}),Hs=uu(function(n){var t=jo(n);return t=\"function\"==typeof t?t:X,mu(i(n,Jf),X,t)}),Js=uu(Go),Ys=uu(function(n){var t=n.length,r=t>1?n[t-1]:X;return r=\"function\"==typeof r?(n.pop(),\nr):X,Ho(n,r)}),Qs=gi(function(n){var t=n.length,r=t?n[0]:0,e=this.__wrapped__,u=function(t){return Tr(t,n)};return!(t>1||this.__actions__.length)&&e instanceof Ct&&Ci(r)?(e=e.slice(r,+r+(t?1:0)),e.__actions__.push({func:nf,args:[u],thisArg:X}),new Y(e,this.__chain__).thru(function(n){return t&&!n.length&&n.push(X),n})):this.thru(u)}),Xs=Fu(function(n,t,r){bl.call(n,r)?++n[r]:Br(n,r,1)}),nh=Ju(ho),th=Ju(po),rh=Fu(function(n,t,r){bl.call(n,r)?n[r].push(t):Br(n,r,[t])}),eh=uu(function(t,r,e){var u=-1,i=\"function\"==typeof r,o=Hf(t)?il(t.length):[];\nreturn ys(t,function(t){o[++u]=i?n(r,t,e):Ie(t,r,e)}),o}),uh=Fu(function(n,t,r){Br(n,r,t)}),ih=Fu(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),oh=uu(function(n,t){if(null==n)return[];var r=t.length;return r>1&&Ui(n,t[0],t[1])?t=[]:r>2&&Ui(t[0],t[1],t[2])&&(t=[t[0]]),He(n,ee(t,1),[])}),fh=Dl||function(){return re.Date.now()},ch=uu(function(n,t,r){var e=_n;if(r.length){var u=N(r,wi(ch));e|=bn}return ai(n,e,t,r,u)}),ah=uu(function(n,t,r){var e=_n|vn;if(r.length){var u=N(r,wi(ah));e|=bn;\n}return ai(t,e,n,r,u)}),lh=uu(function(n,t){return Gr(n,1,t)}),sh=uu(function(n,t,r){return Gr(n,Ic(t)||0,r)});Cf.Cache=sr;var hh=js(function(t,r){r=1==r.length&&bh(r[0])?c(r[0],z(mi())):c(ee(r,1),z(mi()));var e=r.length;return uu(function(u){for(var i=-1,o=Hl(u.length,e);++i<o;)u[i]=r[i].call(this,u[i]);return n(t,this,u)})}),ph=uu(function(n,t){return ai(n,bn,X,t,N(t,wi(ph)))}),_h=uu(function(n,t){return ai(n,wn,X,t,N(t,wi(_h)))}),vh=gi(function(n,t){return ai(n,xn,X,X,X,t)}),gh=ii(me),yh=ii(function(n,t){\nreturn n>=t}),dh=Re(function(){return arguments}())?Re:function(n){return cc(n)&&bl.call(n,\"callee\")&&!Wl.call(n,\"callee\")},bh=il.isArray,wh=ce?z(ce):ze,mh=ql||qa,xh=ae?z(ae):Ee,jh=le?z(le):Le,Ah=se?z(se):Be,kh=he?z(he):Te,Oh=pe?z(pe):$e,Ih=ii(Ne),Rh=ii(function(n,t){return n<=t}),zh=Nu(function(n,t){if(Mi(t)||Hf(t))return $u(t,Pc(t),n),X;for(var r in t)bl.call(t,r)&&Sr(n,r,t[r])}),Eh=Nu(function(n,t){$u(t,qc(t),n)}),Sh=Nu(function(n,t,r,e){$u(t,qc(t),n,e)}),Wh=Nu(function(n,t,r,e){$u(t,Pc(t),n,e);\n}),Lh=gi(Tr),Ch=uu(function(n,t){n=ll(n);var r=-1,e=t.length,u=e>2?t[2]:X;for(u&&Ui(t[0],t[1],u)&&(e=1);++r<e;)for(var i=t[r],o=qc(i),f=-1,c=o.length;++f<c;){var a=o[f],l=n[a];(l===X||Gf(l,gl[a])&&!bl.call(n,a))&&(n[a]=i[a])}return n}),Uh=uu(function(t){return t.push(X,si),n(Mh,X,t)}),Bh=Xu(function(n,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=xl.call(t)),n[t]=r},Sa(La)),Th=Xu(function(n,t,r){null!=t&&\"function\"!=typeof t.toString&&(t=xl.call(t)),bl.call(n,t)?n[t].push(r):n[t]=[r]},mi),$h=uu(Ie),Dh=Nu(function(n,t,r){\nKe(n,t,r)}),Mh=Nu(function(n,t,r,e){Ke(n,t,r,e)}),Fh=gi(function(n,t){var r={};if(null==n)return r;var e=!1;t=c(t,function(t){return t=ku(t,n),e||(e=t.length>1),t}),$u(n,di(n),r),e&&(r=Fr(r,an|ln|sn,hi));for(var u=t.length;u--;)yu(r,t[u]);return r}),Nh=gi(function(n,t){return null==n?{}:Je(n,t)}),Ph=ci(Pc),qh=ci(qc),Zh=Vu(function(n,t,r){return t=t.toLowerCase(),n+(r?fa(t):t)}),Kh=Vu(function(n,t,r){return n+(r?\"-\":\"\")+t.toLowerCase()}),Vh=Vu(function(n,t,r){return n+(r?\" \":\"\")+t.toLowerCase()}),Gh=Ku(\"toLowerCase\"),Hh=Vu(function(n,t,r){\nreturn n+(r?\"_\":\"\")+t.toLowerCase()}),Jh=Vu(function(n,t,r){return n+(r?\" \":\"\")+Qh(t)}),Yh=Vu(function(n,t,r){return n+(r?\" \":\"\")+t.toUpperCase()}),Qh=Ku(\"toUpperCase\"),Xh=uu(function(t,r){try{return n(t,X,r)}catch(n){return rc(n)?n:new fl(n)}}),np=gi(function(n,t){return r(t,function(t){t=no(t),Br(n,t,ch(n[t],n))}),n}),tp=Yu(),rp=Yu(!0),ep=uu(function(n,t){return function(r){return Ie(r,n,t)}}),up=uu(function(n,t){return function(r){return Ie(n,r,t)}}),ip=ti(c),op=ti(u),fp=ti(h),cp=ui(),ap=ui(!0),lp=ni(function(n,t){\nreturn n+t},0),sp=fi(\"ceil\"),hp=ni(function(n,t){return n/t},1),pp=fi(\"floor\"),_p=ni(function(n,t){return n*t},1),vp=fi(\"round\"),gp=ni(function(n,t){return n-t},0);return Z.after=If,Z.ary=Rf,Z.assign=zh,Z.assignIn=Eh,Z.assignInWith=Sh,Z.assignWith=Wh,Z.at=Lh,Z.before=zf,Z.bind=ch,Z.bindAll=np,Z.bindKey=ah,Z.castArray=Nf,Z.chain=Qo,Z.chunk=uo,Z.compact=io,Z.concat=oo,Z.cond=za,Z.conforms=Ea,Z.constant=Sa,Z.countBy=Xs,Z.create=Sc,Z.curry=Ef,Z.curryRight=Sf,Z.debounce=Wf,Z.defaults=Ch,Z.defaultsDeep=Uh,\nZ.defer=lh,Z.delay=sh,Z.difference=Us,Z.differenceBy=Bs,Z.differenceWith=Ts,Z.drop=fo,Z.dropRight=co,Z.dropRightWhile=ao,Z.dropWhile=lo,Z.fill=so,Z.filter=lf,Z.flatMap=sf,Z.flatMapDeep=hf,Z.flatMapDepth=pf,Z.flatten=_o,Z.flattenDeep=vo,Z.flattenDepth=go,Z.flip=Lf,Z.flow=tp,Z.flowRight=rp,Z.fromPairs=yo,Z.functions=$c,Z.functionsIn=Dc,Z.groupBy=rh,Z.initial=mo,Z.intersection=$s,Z.intersectionBy=Ds,Z.intersectionWith=Ms,Z.invert=Bh,Z.invertBy=Th,Z.invokeMap=eh,Z.iteratee=Ca,Z.keyBy=uh,Z.keys=Pc,Z.keysIn=qc,\nZ.map=yf,Z.mapKeys=Zc,Z.mapValues=Kc,Z.matches=Ua,Z.matchesProperty=Ba,Z.memoize=Cf,Z.merge=Dh,Z.mergeWith=Mh,Z.method=ep,Z.methodOf=up,Z.mixin=Ta,Z.negate=Uf,Z.nthArg=Ma,Z.omit=Fh,Z.omitBy=Vc,Z.once=Bf,Z.orderBy=df,Z.over=ip,Z.overArgs=hh,Z.overEvery=op,Z.overSome=fp,Z.partial=ph,Z.partialRight=_h,Z.partition=ih,Z.pick=Nh,Z.pickBy=Gc,Z.property=Fa,Z.propertyOf=Na,Z.pull=Fs,Z.pullAll=Oo,Z.pullAllBy=Io,Z.pullAllWith=Ro,Z.pullAt=Ns,Z.range=cp,Z.rangeRight=ap,Z.rearg=vh,Z.reject=mf,Z.remove=zo,Z.rest=Tf,\nZ.reverse=Eo,Z.sampleSize=jf,Z.set=Jc,Z.setWith=Yc,Z.shuffle=Af,Z.slice=So,Z.sortBy=oh,Z.sortedUniq=$o,Z.sortedUniqBy=Do,Z.split=da,Z.spread=$f,Z.tail=Mo,Z.take=Fo,Z.takeRight=No,Z.takeRightWhile=Po,Z.takeWhile=qo,Z.tap=Xo,Z.throttle=Df,Z.thru=nf,Z.toArray=jc,Z.toPairs=Ph,Z.toPairsIn=qh,Z.toPath=Ha,Z.toPlainObject=Rc,Z.transform=Qc,Z.unary=Mf,Z.union=Ps,Z.unionBy=qs,Z.unionWith=Zs,Z.uniq=Zo,Z.uniqBy=Ko,Z.uniqWith=Vo,Z.unset=Xc,Z.unzip=Go,Z.unzipWith=Ho,Z.update=na,Z.updateWith=ta,Z.values=ra,Z.valuesIn=ea,\nZ.without=Ks,Z.words=Ra,Z.wrap=Ff,Z.xor=Vs,Z.xorBy=Gs,Z.xorWith=Hs,Z.zip=Js,Z.zipObject=Jo,Z.zipObjectDeep=Yo,Z.zipWith=Ys,Z.entries=Ph,Z.entriesIn=qh,Z.extend=Eh,Z.extendWith=Sh,Ta(Z,Z),Z.add=lp,Z.attempt=Xh,Z.camelCase=Zh,Z.capitalize=fa,Z.ceil=sp,Z.clamp=ua,Z.clone=Pf,Z.cloneDeep=Zf,Z.cloneDeepWith=Kf,Z.cloneWith=qf,Z.conformsTo=Vf,Z.deburr=ca,Z.defaultTo=Wa,Z.divide=hp,Z.endsWith=aa,Z.eq=Gf,Z.escape=la,Z.escapeRegExp=sa,Z.every=af,Z.find=nh,Z.findIndex=ho,Z.findKey=Wc,Z.findLast=th,Z.findLastIndex=po,\nZ.findLastKey=Lc,Z.floor=pp,Z.forEach=_f,Z.forEachRight=vf,Z.forIn=Cc,Z.forInRight=Uc,Z.forOwn=Bc,Z.forOwnRight=Tc,Z.get=Mc,Z.gt=gh,Z.gte=yh,Z.has=Fc,Z.hasIn=Nc,Z.head=bo,Z.identity=La,Z.includes=gf,Z.indexOf=wo,Z.inRange=ia,Z.invoke=$h,Z.isArguments=dh,Z.isArray=bh,Z.isArrayBuffer=wh,Z.isArrayLike=Hf,Z.isArrayLikeObject=Jf,Z.isBoolean=Yf,Z.isBuffer=mh,Z.isDate=xh,Z.isElement=Qf,Z.isEmpty=Xf,Z.isEqual=nc,Z.isEqualWith=tc,Z.isError=rc,Z.isFinite=ec,Z.isFunction=uc,Z.isInteger=ic,Z.isLength=oc,Z.isMap=jh,\nZ.isMatch=ac,Z.isMatchWith=lc,Z.isNaN=sc,Z.isNative=hc,Z.isNil=_c,Z.isNull=pc,Z.isNumber=vc,Z.isObject=fc,Z.isObjectLike=cc,Z.isPlainObject=gc,Z.isRegExp=Ah,Z.isSafeInteger=yc,Z.isSet=kh,Z.isString=dc,Z.isSymbol=bc,Z.isTypedArray=Oh,Z.isUndefined=wc,Z.isWeakMap=mc,Z.isWeakSet=xc,Z.join=xo,Z.kebabCase=Kh,Z.last=jo,Z.lastIndexOf=Ao,Z.lowerCase=Vh,Z.lowerFirst=Gh,Z.lt=Ih,Z.lte=Rh,Z.max=Ya,Z.maxBy=Qa,Z.mean=Xa,Z.meanBy=nl,Z.min=tl,Z.minBy=rl,Z.stubArray=Pa,Z.stubFalse=qa,Z.stubObject=Za,Z.stubString=Ka,\nZ.stubTrue=Va,Z.multiply=_p,Z.nth=ko,Z.noConflict=$a,Z.noop=Da,Z.now=fh,Z.pad=ha,Z.padEnd=pa,Z.padStart=_a,Z.parseInt=va,Z.random=oa,Z.reduce=bf,Z.reduceRight=wf,Z.repeat=ga,Z.replace=ya,Z.result=Hc,Z.round=vp,Z.runInContext=p,Z.sample=xf,Z.size=kf,Z.snakeCase=Hh,Z.some=Of,Z.sortedIndex=Wo,Z.sortedIndexBy=Lo,Z.sortedIndexOf=Co,Z.sortedLastIndex=Uo,Z.sortedLastIndexBy=Bo,Z.sortedLastIndexOf=To,Z.startCase=Jh,Z.startsWith=ba,Z.subtract=gp,Z.sum=el,Z.sumBy=ul,Z.template=wa,Z.times=Ga,Z.toFinite=Ac,Z.toInteger=kc,\nZ.toLength=Oc,Z.toLower=ma,Z.toNumber=Ic,Z.toSafeInteger=zc,Z.toString=Ec,Z.toUpper=xa,Z.trim=ja,Z.trimEnd=Aa,Z.trimStart=ka,Z.truncate=Oa,Z.unescape=Ia,Z.uniqueId=Ja,Z.upperCase=Yh,Z.upperFirst=Qh,Z.each=_f,Z.eachRight=vf,Z.first=bo,Ta(Z,function(){var n={};return ue(Z,function(t,r){bl.call(Z.prototype,r)||(n[r]=t)}),n}(),{chain:!1}),Z.VERSION=nn,r([\"bind\",\"bindKey\",\"curry\",\"curryRight\",\"partial\",\"partialRight\"],function(n){Z[n].placeholder=Z}),r([\"drop\",\"take\"],function(n,t){Ct.prototype[n]=function(r){\nr=r===X?1:Gl(kc(r),0);var e=this.__filtered__&&!t?new Ct(this):this.clone();return e.__filtered__?e.__takeCount__=Hl(r,e.__takeCount__):e.__views__.push({size:Hl(r,Un),type:n+(e.__dir__<0?\"Right\":\"\")}),e},Ct.prototype[n+\"Right\"]=function(t){return this.reverse()[n](t).reverse()}}),r([\"filter\",\"map\",\"takeWhile\"],function(n,t){var r=t+1,e=r==Rn||r==En;Ct.prototype[n]=function(n){var t=this.clone();return t.__iteratees__.push({iteratee:mi(n,3),type:r}),t.__filtered__=t.__filtered__||e,t}}),r([\"head\",\"last\"],function(n,t){\nvar r=\"take\"+(t?\"Right\":\"\");Ct.prototype[n]=function(){return this[r](1).value()[0]}}),r([\"initial\",\"tail\"],function(n,t){var r=\"drop\"+(t?\"\":\"Right\");Ct.prototype[n]=function(){return this.__filtered__?new Ct(this):this[r](1)}}),Ct.prototype.compact=function(){return this.filter(La)},Ct.prototype.find=function(n){return this.filter(n).head()},Ct.prototype.findLast=function(n){return this.reverse().find(n)},Ct.prototype.invokeMap=uu(function(n,t){return\"function\"==typeof n?new Ct(this):this.map(function(r){\nreturn Ie(r,n,t)})}),Ct.prototype.reject=function(n){return this.filter(Uf(mi(n)))},Ct.prototype.slice=function(n,t){n=kc(n);var r=this;return r.__filtered__&&(n>0||t<0)?new Ct(r):(n<0?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==X&&(t=kc(t),r=t<0?r.dropRight(-t):r.take(t-n)),r)},Ct.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},Ct.prototype.toArray=function(){return this.take(Un)},ue(Ct.prototype,function(n,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),e=/^(?:head|last)$/.test(t),u=Z[e?\"take\"+(\"last\"==t?\"Right\":\"\"):t],i=e||/^find/.test(t);\nu&&(Z.prototype[t]=function(){var t=this.__wrapped__,o=e?[1]:arguments,f=t instanceof Ct,c=o[0],l=f||bh(t),s=function(n){var t=u.apply(Z,a([n],o));return e&&h?t[0]:t};l&&r&&\"function\"==typeof c&&1!=c.length&&(f=l=!1);var h=this.__chain__,p=!!this.__actions__.length,_=i&&!h,v=f&&!p;if(!i&&l){t=v?t:new Ct(this);var g=n.apply(t,o);return g.__actions__.push({func:nf,args:[s],thisArg:X}),new Y(g,h)}return _&&v?n.apply(this,o):(g=this.thru(s),_?e?g.value()[0]:g.value():g)})}),r([\"pop\",\"push\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(n){\nvar t=_l[n],r=/^(?:push|sort|unshift)$/.test(n)?\"tap\":\"thru\",e=/^(?:pop|shift)$/.test(n);Z.prototype[n]=function(){var n=arguments;if(e&&!this.__chain__){var u=this.value();return t.apply(bh(u)?u:[],n)}return this[r](function(r){return t.apply(bh(r)?r:[],n)})}}),ue(Ct.prototype,function(n,t){var r=Z[t];if(r){var e=r.name+\"\";bl.call(fs,e)||(fs[e]=[]),fs[e].push({name:t,func:r})}}),fs[Qu(X,vn).name]=[{name:\"wrapper\",func:X}],Ct.prototype.clone=$t,Ct.prototype.reverse=Yt,Ct.prototype.value=Qt,Z.prototype.at=Qs,\nZ.prototype.chain=tf,Z.prototype.commit=rf,Z.prototype.next=ef,Z.prototype.plant=of,Z.prototype.reverse=ff,Z.prototype.toJSON=Z.prototype.valueOf=Z.prototype.value=cf,Z.prototype.first=Z.prototype.head,Ul&&(Z.prototype[Ul]=uf),Z},be=de();\"function\"==typeof define&&\"object\"==typeof define.amd&&define.amd?(re._=be,define(function(){return be})):ue?((ue.exports=be)._=be,ee._=be):re._=be}).call(this);","var grammar = module.exports = {\n  v: [{\n    name: 'version',\n    reg: /^(\\d*)$/\n  }],\n  o: [{\n    // o=- 20518 0 IN IP4 203.0.113.1\n    // NB: sessionId will be a String in most cases because it is huge\n    name: 'origin',\n    reg: /^(\\S*) (\\d*) (\\d*) (\\S*) IP(\\d) (\\S*)/,\n    names: ['username', 'sessionId', 'sessionVersion', 'netType', 'ipVer', 'address'],\n    format: '%s %s %d %s IP%d %s'\n  }],\n  // default parsing of these only (though some of these feel outdated)\n  s: [{ name: 'name' }],\n  i: [{ name: 'description' }],\n  u: [{ name: 'uri' }],\n  e: [{ name: 'email' }],\n  p: [{ name: 'phone' }],\n  z: [{ name: 'timezones' }], // TODO: this one can actually be parsed properly...\n  r: [{ name: 'repeats' }],   // TODO: this one can also be parsed properly\n  // k: [{}], // outdated thing ignored\n  t: [{\n    // t=0 0\n    name: 'timing',\n    reg: /^(\\d*) (\\d*)/,\n    names: ['start', 'stop'],\n    format: '%d %d'\n  }],\n  c: [{\n    // c=IN IP4 10.47.197.26\n    name: 'connection',\n    reg: /^IN IP(\\d) (\\S*)/,\n    names: ['version', 'ip'],\n    format: 'IN IP%d %s'\n  }],\n  b: [{\n    // b=AS:4000\n    push: 'bandwidth',\n    reg: /^(TIAS|AS|CT|RR|RS):(\\d*)/,\n    names: ['type', 'limit'],\n    format: '%s:%s'\n  }],\n  m: [{\n    // m=video 51744 RTP/AVP 126 97 98 34 31\n    // NB: special - pushes to session\n    // TODO: rtp/fmtp should be filtered by the payloads found here?\n    reg: /^(\\w*) (\\d*) ([\\w/]*)(?: (.*))?/,\n    names: ['type', 'port', 'protocol', 'payloads'],\n    format: '%s %d %s %s'\n  }],\n  a: [\n    {\n      // a=rtpmap:110 opus/48000/2\n      push: 'rtp',\n      reg: /^rtpmap:(\\d*) ([\\w\\-.]*)(?:\\s*\\/(\\d*)(?:\\s*\\/(\\S*))?)?/,\n      names: ['payload', 'codec', 'rate', 'encoding'],\n      format: function (o) {\n        return (o.encoding)\n          ? 'rtpmap:%d %s/%s/%s'\n          : o.rate\n            ? 'rtpmap:%d %s/%s'\n            : 'rtpmap:%d %s';\n      }\n    },\n    {\n      // a=fmtp:108 profile-level-id=24;object=23;bitrate=64000\n      // a=fmtp:111 minptime=10; useinbandfec=1\n      push: 'fmtp',\n      reg: /^fmtp:(\\d*) ([\\S| ]*)/,\n      names: ['payload', 'config'],\n      format: 'fmtp:%d %s'\n    },\n    {\n      // a=control:streamid=0\n      name: 'control',\n      reg: /^control:(.*)/,\n      format: 'control:%s'\n    },\n    {\n      // a=rtcp:65179 IN IP4 193.84.77.194\n      name: 'rtcp',\n      reg: /^rtcp:(\\d*)(?: (\\S*) IP(\\d) (\\S*))?/,\n      names: ['port', 'netType', 'ipVer', 'address'],\n      format: function (o) {\n        return (o.address != null)\n          ? 'rtcp:%d %s IP%d %s'\n          : 'rtcp:%d';\n      }\n    },\n    {\n      // a=rtcp-fb:98 trr-int 100\n      push: 'rtcpFbTrrInt',\n      reg: /^rtcp-fb:(\\*|\\d*) trr-int (\\d*)/,\n      names: ['payload', 'value'],\n      format: 'rtcp-fb:%s trr-int %d'\n    },\n    {\n      // a=rtcp-fb:98 nack rpsi\n      push: 'rtcpFb',\n      reg: /^rtcp-fb:(\\*|\\d*) ([\\w-_]*)(?: ([\\w-_]*))?/,\n      names: ['payload', 'type', 'subtype'],\n      format: function (o) {\n        return (o.subtype != null)\n          ? 'rtcp-fb:%s %s %s'\n          : 'rtcp-fb:%s %s';\n      }\n    },\n    {\n      // a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n      // a=extmap:1/recvonly URI-gps-string\n      // a=extmap:3 urn:ietf:params:rtp-hdrext:encrypt urn:ietf:params:rtp-hdrext:smpte-tc 25@600/24\n      push: 'ext',\n      reg: /^extmap:(\\d+)(?:\\/(\\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\\S*)(?: (\\S*))?/,\n      names: ['value', 'direction', 'encrypt-uri', 'uri', 'config'],\n      format: function (o) {\n        return (\n          'extmap:%d' +\n          (o.direction ? '/%s' : '%v') +\n          (o['encrypt-uri'] ? ' %s' : '%v') +\n          ' %s' +\n          (o.config ? ' %s' : '')\n        );\n      }\n    },\n    {\n      // a=extmap-allow-mixed\n      name: 'extmapAllowMixed',\n      reg: /^(extmap-allow-mixed)/\n    },\n    {\n      // a=crypto:1 AES_CM_128_HMAC_SHA1_80 inline:PS1uQCVeeCFCanVmcjkpPywjNWhcYD0mXXtxaVBR|2^20|1:32\n      push: 'crypto',\n      reg: /^crypto:(\\d*) ([\\w_]*) (\\S*)(?: (\\S*))?/,\n      names: ['id', 'suite', 'config', 'sessionConfig'],\n      format: function (o) {\n        return (o.sessionConfig != null)\n          ? 'crypto:%d %s %s %s'\n          : 'crypto:%d %s %s';\n      }\n    },\n    {\n      // a=setup:actpass\n      name: 'setup',\n      reg: /^setup:(\\w*)/,\n      format: 'setup:%s'\n    },\n    {\n      // a=connection:new\n      name: 'connectionType',\n      reg: /^connection:(new|existing)/,\n      format: 'connection:%s'\n    },\n    {\n      // a=mid:1\n      name: 'mid',\n      reg: /^mid:([^\\s]*)/,\n      format: 'mid:%s'\n    },\n    {\n      // a=msid:0c8b064d-d807-43b4-b434-f92a889d8587 98178685-d409-46e0-8e16-7ef0db0db64a\n      name: 'msid',\n      reg: /^msid:(.*)/,\n      format: 'msid:%s'\n    },\n    {\n      // a=ptime:20\n      name: 'ptime',\n      reg: /^ptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'ptime:%d'\n    },\n    {\n      // a=maxptime:60\n      name: 'maxptime',\n      reg: /^maxptime:(\\d*(?:\\.\\d*)*)/,\n      format: 'maxptime:%d'\n    },\n    {\n      // a=sendrecv\n      name: 'direction',\n      reg: /^(sendrecv|recvonly|sendonly|inactive)/\n    },\n    {\n      // a=ice-lite\n      name: 'icelite',\n      reg: /^(ice-lite)/\n    },\n    {\n      // a=ice-ufrag:F7gI\n      name: 'iceUfrag',\n      reg: /^ice-ufrag:(\\S*)/,\n      format: 'ice-ufrag:%s'\n    },\n    {\n      // a=ice-pwd:x9cml/YzichV2+XlhiMu8g\n      name: 'icePwd',\n      reg: /^ice-pwd:(\\S*)/,\n      format: 'ice-pwd:%s'\n    },\n    {\n      // a=fingerprint:SHA-1 00:11:22:33:44:55:66:77:88:99:AA:BB:CC:DD:EE:FF:00:11:22:33\n      name: 'fingerprint',\n      reg: /^fingerprint:(\\S*) (\\S*)/,\n      names: ['type', 'hash'],\n      format: 'fingerprint:%s %s'\n    },\n    {\n      // a=candidate:0 1 UDP 2113667327 203.0.113.1 54400 typ host\n      // a=candidate:1162875081 1 udp 2113937151 192.168.34.75 60017 typ host generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 udp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 generation 0 network-id 3 network-cost 10\n      // a=candidate:229815620 1 tcp 1518280447 192.168.150.19 60017 typ host tcptype active generation 0 network-id 3 network-cost 10\n      // a=candidate:3289912957 2 tcp 1845501695 193.84.77.194 60017 typ srflx raddr 192.168.34.75 rport 60017 tcptype passive generation 0 network-id 3 network-cost 10\n      push:'candidates',\n      reg: /^candidate:(\\S*) (\\d*) (\\S*) (\\d*) (\\S*) (\\d*) typ (\\S*)(?: raddr (\\S*) rport (\\d*))?(?: tcptype (\\S*))?(?: generation (\\d*))?(?: network-id (\\d*))?(?: network-cost (\\d*))?/,\n      names: ['foundation', 'component', 'transport', 'priority', 'ip', 'port', 'type', 'raddr', 'rport', 'tcptype', 'generation', 'network-id', 'network-cost'],\n      format: function (o) {\n        var str = 'candidate:%s %d %s %d %s %d typ %s';\n\n        str += (o.raddr != null) ? ' raddr %s rport %d' : '%v%v';\n\n        // NB: candidate has three optional chunks, so %void middles one if it's missing\n        str += (o.tcptype != null) ? ' tcptype %s' : '%v';\n\n        if (o.generation != null) {\n          str += ' generation %d';\n        }\n\n        str += (o['network-id'] != null) ? ' network-id %d' : '%v';\n        str += (o['network-cost'] != null) ? ' network-cost %d' : '%v';\n        return str;\n      }\n    },\n    {\n      // a=end-of-candidates (keep after the candidates line for readability)\n      name: 'endOfCandidates',\n      reg: /^(end-of-candidates)/\n    },\n    {\n      // a=remote-candidates:1 203.0.113.1 54400 2 203.0.113.1 54401 ...\n      name: 'remoteCandidates',\n      reg: /^remote-candidates:(.*)/,\n      format: 'remote-candidates:%s'\n    },\n    {\n      // a=ice-options:google-ice\n      name: 'iceOptions',\n      reg: /^ice-options:(\\S*)/,\n      format: 'ice-options:%s'\n    },\n    {\n      // a=ssrc:2566107569 cname:t9YU8M1UxTF8Y1A1\n      push: 'ssrcs',\n      reg: /^ssrc:(\\d*) ([\\w_-]*)(?::(.*))?/,\n      names: ['id', 'attribute', 'value'],\n      format: function (o) {\n        var str = 'ssrc:%d';\n        if (o.attribute != null) {\n          str += ' %s';\n          if (o.value != null) {\n            str += ':%s';\n          }\n        }\n        return str;\n      }\n    },\n    {\n      // a=ssrc-group:FEC 1 2\n      // a=ssrc-group:FEC-FR 3004364195 1080772241\n      push: 'ssrcGroups',\n      // token-char = %x21 / %x23-27 / %x2A-2B / %x2D-2E / %x30-39 / %x41-5A / %x5E-7E\n      reg: /^ssrc-group:([\\x21\\x23\\x24\\x25\\x26\\x27\\x2A\\x2B\\x2D\\x2E\\w]*) (.*)/,\n      names: ['semantics', 'ssrcs'],\n      format: 'ssrc-group:%s %s'\n    },\n    {\n      // a=msid-semantic: WMS Jvlam5X3SX1OP6pn20zWogvaKJz5Hjf9OnlV\n      name: 'msidSemantic',\n      reg: /^msid-semantic:\\s?(\\w*) (\\S*)/,\n      names: ['semantic', 'token'],\n      format: 'msid-semantic: %s %s' // space after ':' is not accidental\n    },\n    {\n      // a=group:BUNDLE audio video\n      push: 'groups',\n      reg: /^group:(\\w*) (.*)/,\n      names: ['type', 'mids'],\n      format: 'group:%s %s'\n    },\n    {\n      // a=rtcp-mux\n      name: 'rtcpMux',\n      reg: /^(rtcp-mux)/\n    },\n    {\n      // a=rtcp-rsize\n      name: 'rtcpRsize',\n      reg: /^(rtcp-rsize)/\n    },\n    {\n      // a=sctpmap:5000 webrtc-datachannel 1024\n      name: 'sctpmap',\n      reg: /^sctpmap:([\\w_/]*) (\\S*)(?: (\\S*))?/,\n      names: ['sctpmapNumber', 'app', 'maxMessageSize'],\n      format: function (o) {\n        return (o.maxMessageSize != null)\n          ? 'sctpmap:%s %s %s'\n          : 'sctpmap:%s %s';\n      }\n    },\n    {\n      // a=x-google-flag:conference\n      name: 'xGoogleFlag',\n      reg: /^x-google-flag:([^\\s]*)/,\n      format: 'x-google-flag:%s'\n    },\n    {\n      // a=rid:1 send max-width=1280;max-height=720;max-fps=30;depend=0\n      push: 'rids',\n      reg: /^rid:([\\d\\w]+) (\\w+)(?: ([\\S| ]*))?/,\n      names: ['id', 'direction', 'params'],\n      format: function (o) {\n        return (o.params) ? 'rid:%s %s %s' : 'rid:%s %s';\n      }\n    },\n    {\n      // a=imageattr:97 send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320] recv [x=330,y=250]\n      // a=imageattr:* send [x=800,y=640] recv *\n      // a=imageattr:100 recv [x=320,y=240]\n      push: 'imageattrs',\n      reg: new RegExp(\n        // a=imageattr:97\n        '^imageattr:(\\\\d+|\\\\*)' +\n        // send [x=800,y=640,sar=1.1,q=0.6] [x=480,y=320]\n        '[\\\\s\\\\t]+(send|recv)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*)' +\n        // recv [x=330,y=250]\n        '(?:[\\\\s\\\\t]+(recv|send)[\\\\s\\\\t]+(\\\\*|\\\\[\\\\S+\\\\](?:[\\\\s\\\\t]+\\\\[\\\\S+\\\\])*))?'\n      ),\n      names: ['pt', 'dir1', 'attrs1', 'dir2', 'attrs2'],\n      format: function (o) {\n        return 'imageattr:%s %s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // a=simulcast:send 1,2,3;~4,~5 recv 6;~7,~8\n      // a=simulcast:recv 1;4,5 send 6;7\n      name: 'simulcast',\n      reg: new RegExp(\n        // a=simulcast:\n        '^simulcast:' +\n        // send 1,2,3;~4,~5\n        '(send|recv) ([a-zA-Z0-9\\\\-_~;,]+)' +\n        // space + recv 6;~7,~8\n        '(?:\\\\s?(send|recv) ([a-zA-Z0-9\\\\-_~;,]+))?' +\n        // end\n        '$'\n      ),\n      names: ['dir1', 'list1', 'dir2', 'list2'],\n      format: function (o) {\n        return 'simulcast:%s %s' + (o.dir2 ? ' %s %s' : '');\n      }\n    },\n    {\n      // old simulcast draft 03 (implemented by Firefox)\n      //   https://tools.ietf.org/html/draft-ietf-mmusic-sdp-simulcast-03\n      // a=simulcast: recv pt=97;98 send pt=97\n      // a=simulcast: send rid=5;6;7 paused=6,7\n      name: 'simulcast_03',\n      reg: /^simulcast:[\\s\\t]+([\\S+\\s\\t]+)$/,\n      names: ['value'],\n      format: 'simulcast: %s'\n    },\n    {\n      // a=framerate:25\n      // a=framerate:29.97\n      name: 'framerate',\n      reg: /^framerate:(\\d+(?:$|\\.\\d+))/,\n      format: 'framerate:%s'\n    },\n    {\n      // RFC4570\n      // a=source-filter: incl IN IP4 239.5.2.31 10.1.15.5\n      name: 'sourceFilter',\n      reg: /^source-filter: *(excl|incl) (\\S*) (IP4|IP6|\\*) (\\S*) (.*)/,\n      names: ['filterMode', 'netType', 'addressTypes', 'destAddress', 'srcList'],\n      format: 'source-filter: %s %s %s %s %s'\n    },\n    {\n      // a=bundle-only\n      name: 'bundleOnly',\n      reg: /^(bundle-only)/\n    },\n    {\n      // a=label:1\n      name: 'label',\n      reg: /^label:(.+)/,\n      format: 'label:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-5\n      name: 'sctpPort',\n      reg: /^sctp-port:(\\d+)$/,\n      format: 'sctp-port:%s'\n    },\n    {\n      // RFC version 26 for SCTP over DTLS\n      // https://tools.ietf.org/html/draft-ietf-mmusic-sctp-sdp-26#section-6\n      name: 'maxMessageSize',\n      reg: /^max-message-size:(\\d+)$/,\n      format: 'max-message-size:%s'\n    },\n    {\n      // RFC7273\n      // a=ts-refclk:ptp=IEEE1588-2008:39-A7-94-FF-FE-07-CB-D0:37\n      push:'tsRefClocks',\n      reg: /^ts-refclk:([^\\s=]*)(?:=(\\S*))?/,\n      names: ['clksrc', 'clksrcExt'],\n      format: function (o) {\n        return 'ts-refclk:%s' + (o.clksrcExt != null ? '=%s' : '');\n      }\n    },\n    {\n      // RFC7273\n      // a=mediaclk:direct=963214424\n      name:'mediaClk',\n      reg: /^mediaclk:(?:id=(\\S*))? *([^\\s=]*)(?:=(\\S*))?(?: *rate=(\\d+)\\/(\\d+))?/,\n      names: ['id', 'mediaClockName', 'mediaClockValue', 'rateNumerator', 'rateDenominator'],\n      format: function (o) {\n        var str = 'mediaclk:';\n        str += (o.id != null ? 'id=%s %s' : '%v%s');\n        str += (o.mediaClockValue != null ? '=%s' : '');\n        str += (o.rateNumerator != null ? ' rate=%s' : '');\n        str += (o.rateDenominator != null ? '/%s' : '');\n        return str;\n      }\n    },\n    {\n      // a=keywds:keywords\n      name: 'keywords',\n      reg: /^keywds:(.+)$/,\n      format: 'keywds:%s'\n    },\n    {\n      // a=content:main\n      name: 'content',\n      reg: /^content:(.+)/,\n      format: 'content:%s'\n    },\n    // BFCP https://tools.ietf.org/html/rfc4583\n    {\n      // a=floorctrl:c-s\n      name: 'bfcpFloorCtrl',\n      reg: /^floorctrl:(c-only|s-only|c-s)/,\n      format: 'floorctrl:%s'\n    },\n    {\n      // a=confid:1\n      name: 'bfcpConfId',\n      reg: /^confid:(\\d+)/,\n      format: 'confid:%s'\n    },\n    {\n      // a=userid:1\n      name: 'bfcpUserId',\n      reg: /^userid:(\\d+)/,\n      format: 'userid:%s'\n    },\n    {\n      // a=floorid:1\n      name: 'bfcpFloorId',\n      reg: /^floorid:(.+) (?:m-stream|mstrm):(.+)/,\n      names: ['id', 'mStream'],\n      format: 'floorid:%s mstrm:%s'\n    },\n    {\n      // any a= that we don't understand is kept verbatim on media.invalid\n      push: 'invalid',\n      names: ['value']\n    }\n  ]\n};\n\n// set sensible defaults to avoid polluting the grammar with boring details\nObject.keys(grammar).forEach(function (key) {\n  var objs = grammar[key];\n  objs.forEach(function (obj) {\n    if (!obj.reg) {\n      obj.reg = /(.*)/;\n    }\n    if (!obj.format) {\n      obj.format = '%s';\n    }\n  });\n});\n","var parser = require('./parser');\nvar writer = require('./writer');\n\nexports.write = writer;\nexports.parse = parser.parse;\nexports.parseParams = parser.parseParams;\nexports.parseFmtpConfig = parser.parseFmtpConfig; // Alias of parseParams().\nexports.parsePayloads = parser.parsePayloads;\nexports.parseRemoteCandidates = parser.parseRemoteCandidates;\nexports.parseImageAttributes = parser.parseImageAttributes;\nexports.parseSimulcastStreamList = parser.parseSimulcastStreamList;\n","var toIntIfInt = function (v) {\n  return String(Number(v)) === v ? Number(v) : v;\n};\n\nvar attachProperties = function (match, location, names, rawName) {\n  if (rawName && !names) {\n    location[rawName] = toIntIfInt(match[1]);\n  }\n  else {\n    for (var i = 0; i < names.length; i += 1) {\n      if (match[i+1] != null) {\n        location[names[i]] = toIntIfInt(match[i+1]);\n      }\n    }\n  }\n};\n\nvar parseReg = function (obj, location, content) {\n  var needsBlank = obj.name && obj.names;\n  if (obj.push && !location[obj.push]) {\n    location[obj.push] = [];\n  }\n  else if (needsBlank && !location[obj.name]) {\n    location[obj.name] = {};\n  }\n  var keyLocation = obj.push ?\n    {} :  // blank object that will be pushed\n    needsBlank ? location[obj.name] : location; // otherwise, named location or root\n\n  attachProperties(content.match(obj.reg), keyLocation, obj.names, obj.name);\n\n  if (obj.push) {\n    location[obj.push].push(keyLocation);\n  }\n};\n\nvar grammar = require('./grammar');\nvar validLine = RegExp.prototype.test.bind(/^([a-z])=(.*)/);\n\nexports.parse = function (sdp) {\n  var session = {}\n    , media = []\n    , location = session; // points at where properties go under (one of the above)\n\n  // parse lines we understand\n  sdp.split(/(\\r\\n|\\r|\\n)/).filter(validLine).forEach(function (l) {\n    var type = l[0];\n    var content = l.slice(2);\n    if (type === 'm') {\n      media.push({rtp: [], fmtp: []});\n      location = media[media.length-1]; // point at latest media line\n    }\n\n    for (var j = 0; j < (grammar[type] || []).length; j += 1) {\n      var obj = grammar[type][j];\n      if (obj.reg.test(content)) {\n        return parseReg(obj, location, content);\n      }\n    }\n  });\n\n  session.media = media; // link it up\n  return session;\n};\n\nvar paramReducer = function (acc, expr) {\n  var s = expr.split(/=(.+)/, 2);\n  if (s.length === 2) {\n    acc[s[0]] = toIntIfInt(s[1]);\n  } else if (s.length === 1 && expr.length > 1) {\n    acc[s[0]] = undefined;\n  }\n  return acc;\n};\n\nexports.parseParams = function (str) {\n  return str.split(/;\\s?/).reduce(paramReducer, {});\n};\n\n// For backward compatibility - alias will be removed in 3.0.0\nexports.parseFmtpConfig = exports.parseParams;\n\nexports.parsePayloads = function (str) {\n  return str.toString().split(' ').map(Number);\n};\n\nexports.parseRemoteCandidates = function (str) {\n  var candidates = [];\n  var parts = str.split(' ').map(toIntIfInt);\n  for (var i = 0; i < parts.length; i += 3) {\n    candidates.push({\n      component: parts[i],\n      ip: parts[i + 1],\n      port: parts[i + 2]\n    });\n  }\n  return candidates;\n};\n\nexports.parseImageAttributes = function (str) {\n  return str.split(' ').map(function (item) {\n    return item.substring(1, item.length-1).split(',').reduce(paramReducer, {});\n  });\n};\n\nexports.parseSimulcastStreamList = function (str) {\n  return str.split(';').map(function (stream) {\n    return stream.split(',').map(function (format) {\n      var scid, paused = false;\n\n      if (format[0] !== '~') {\n        scid = toIntIfInt(format);\n      } else {\n        scid = toIntIfInt(format.substring(1, format.length));\n        paused = true;\n      }\n\n      return {\n        scid: scid,\n        paused: paused\n      };\n    });\n  });\n};\n","var grammar = require('./grammar');\n\n// customized util.format - discards excess arguments and can void middle ones\nvar formatRegExp = /%[sdv%]/g;\nvar format = function (formatStr) {\n  var i = 1;\n  var args = arguments;\n  var len = args.length;\n  return formatStr.replace(formatRegExp, function (x) {\n    if (i >= len) {\n      return x; // missing argument\n    }\n    var arg = args[i];\n    i += 1;\n    switch (x) {\n    case '%%':\n      return '%';\n    case '%s':\n      return String(arg);\n    case '%d':\n      return Number(arg);\n    case '%v':\n      return '';\n    }\n  });\n  // NB: we discard excess arguments - they are typically undefined from makeLine\n};\n\nvar makeLine = function (type, obj, location) {\n  var str = obj.format instanceof Function ?\n    (obj.format(obj.push ? location : location[obj.name])) :\n    obj.format;\n\n  var args = [type + '=' + str];\n  if (obj.names) {\n    for (var i = 0; i < obj.names.length; i += 1) {\n      var n = obj.names[i];\n      if (obj.name) {\n        args.push(location[obj.name][n]);\n      }\n      else { // for mLine and push attributes\n        args.push(location[obj.names[i]]);\n      }\n    }\n  }\n  else {\n    args.push(location[obj.name]);\n  }\n  return format.apply(null, args);\n};\n\n// RFC specified order\n// TODO: extend this with all the rest\nvar defaultOuterOrder = [\n  'v', 'o', 's', 'i',\n  'u', 'e', 'p', 'c',\n  'b', 't', 'r', 'z', 'a'\n];\nvar defaultInnerOrder = ['i', 'c', 'b', 'a'];\n\n\nmodule.exports = function (session, opts) {\n  opts = opts || {};\n  // ensure certain properties exist\n  if (session.version == null) {\n    session.version = 0; // 'v=0' must be there (only defined version atm)\n  }\n  if (session.name == null) {\n    session.name = ' '; // 's= ' must be there if no meaningful name set\n  }\n  session.media.forEach(function (mLine) {\n    if (mLine.payloads == null) {\n      mLine.payloads = '';\n    }\n  });\n\n  var outerOrder = opts.outerOrder || defaultOuterOrder;\n  var innerOrder = opts.innerOrder || defaultInnerOrder;\n  var sdp = [];\n\n  // loop through outerOrder for matching properties on session\n  outerOrder.forEach(function (type) {\n    grammar[type].forEach(function (obj) {\n      if (obj.name in session && session[obj.name] != null) {\n        sdp.push(makeLine(type, obj, session));\n      }\n      else if (obj.push in session && session[obj.push] != null) {\n        session[obj.push].forEach(function (el) {\n          sdp.push(makeLine(type, obj, el));\n        });\n      }\n    });\n  });\n\n  // then for each media line, follow the innerOrder\n  session.media.forEach(function (mLine) {\n    sdp.push(makeLine('m', grammar.m[0], mLine));\n\n    innerOrder.forEach(function (type) {\n      grammar[type].forEach(function (obj) {\n        if (obj.name in mLine && mLine[obj.name] != null) {\n          sdp.push(makeLine(type, obj, mLine));\n        }\n        else if (obj.push in mLine && mLine[obj.push] != null) {\n          mLine[obj.push].forEach(function (el) {\n            sdp.push(makeLine(type, obj, el));\n          });\n        }\n      });\n    });\n  });\n\n  return sdp.join('\\r\\n') + '\\r\\n';\n};\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction version(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  return parseInt(uuid.slice(14, 15), 16);\n}\n\nvar _default = version;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"NIL\", {\n  enumerable: true,\n  get: function get() {\n    return _nil.default;\n  }\n});\nObject.defineProperty(exports, \"parse\", {\n  enumerable: true,\n  get: function get() {\n    return _parse.default;\n  }\n});\nObject.defineProperty(exports, \"stringify\", {\n  enumerable: true,\n  get: function get() {\n    return _stringify.default;\n  }\n});\nObject.defineProperty(exports, \"v1\", {\n  enumerable: true,\n  get: function get() {\n    return _v.default;\n  }\n});\nObject.defineProperty(exports, \"v3\", {\n  enumerable: true,\n  get: function get() {\n    return _v2.default;\n  }\n});\nObject.defineProperty(exports, \"v4\", {\n  enumerable: true,\n  get: function get() {\n    return _v3.default;\n  }\n});\nObject.defineProperty(exports, \"v5\", {\n  enumerable: true,\n  get: function get() {\n    return _v4.default;\n  }\n});\nObject.defineProperty(exports, \"validate\", {\n  enumerable: true,\n  get: function get() {\n    return _validate.default;\n  }\n});\nObject.defineProperty(exports, \"version\", {\n  enumerable: true,\n  get: function get() {\n    return _version.default;\n  }\n});\n\nvar _v = _interopRequireDefault(require(\"./v1.js\"));\n\nvar _v2 = _interopRequireDefault(require(\"./v3.js\"));\n\nvar _v3 = _interopRequireDefault(require(\"./v4.js\"));\n\nvar _v4 = _interopRequireDefault(require(\"./v5.js\"));\n\nvar _nil = _interopRequireDefault(require(\"./nil.js\"));\n\nvar _version = _interopRequireDefault(require(\"./version.js\"));\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nvar _stringify = _interopRequireDefault(require(\"./stringify.js\"));\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/*\n * Browser-compatible JavaScript MD5\n *\n * Modification of JavaScript MD5\n * https://github.com/blueimp/JavaScript-MD5\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n *\n * Based on\n * A JavaScript implementation of the RSA Data Security, Inc. MD5 Message\n * Digest Algorithm, as defined in RFC 1321.\n * Version 2.2 Copyright (C) Paul Johnston 1999 - 2009\n * Other contributors: Greg Holt, Andrew Kepert, Ydnar, Lostinet\n * Distributed under the BSD License\n * See http://pajhome.org.uk/crypt/md5 for more info.\n */\nfunction md5(bytes) {\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = new Uint8Array(msg.length);\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes[i] = msg.charCodeAt(i);\n    }\n  }\n\n  return md5ToHexEncodedArray(wordsToMd5(bytesToWords(bytes), bytes.length * 8));\n}\n/*\n * Convert an array of little-endian words to an array of bytes\n */\n\n\nfunction md5ToHexEncodedArray(input) {\n  const output = [];\n  const length32 = input.length * 32;\n  const hexTab = '0123456789abcdef';\n\n  for (let i = 0; i < length32; i += 8) {\n    const x = input[i >> 5] >>> i % 32 & 0xff;\n    const hex = parseInt(hexTab.charAt(x >>> 4 & 0x0f) + hexTab.charAt(x & 0x0f), 16);\n    output.push(hex);\n  }\n\n  return output;\n}\n/**\n * Calculate output length with padding and bit length\n */\n\n\nfunction getOutputLength(inputLength8) {\n  return (inputLength8 + 64 >>> 9 << 4) + 14 + 1;\n}\n/*\n * Calculate the MD5 of an array of little-endian words, and a bit length.\n */\n\n\nfunction wordsToMd5(x, len) {\n  /* append padding */\n  x[len >> 5] |= 0x80 << len % 32;\n  x[getOutputLength(len) - 1] = len;\n  let a = 1732584193;\n  let b = -271733879;\n  let c = -1732584194;\n  let d = 271733878;\n\n  for (let i = 0; i < x.length; i += 16) {\n    const olda = a;\n    const oldb = b;\n    const oldc = c;\n    const oldd = d;\n    a = md5ff(a, b, c, d, x[i], 7, -680876936);\n    d = md5ff(d, a, b, c, x[i + 1], 12, -389564586);\n    c = md5ff(c, d, a, b, x[i + 2], 17, 606105819);\n    b = md5ff(b, c, d, a, x[i + 3], 22, -1044525330);\n    a = md5ff(a, b, c, d, x[i + 4], 7, -176418897);\n    d = md5ff(d, a, b, c, x[i + 5], 12, 1200080426);\n    c = md5ff(c, d, a, b, x[i + 6], 17, -1473231341);\n    b = md5ff(b, c, d, a, x[i + 7], 22, -45705983);\n    a = md5ff(a, b, c, d, x[i + 8], 7, 1770035416);\n    d = md5ff(d, a, b, c, x[i + 9], 12, -1958414417);\n    c = md5ff(c, d, a, b, x[i + 10], 17, -42063);\n    b = md5ff(b, c, d, a, x[i + 11], 22, -1990404162);\n    a = md5ff(a, b, c, d, x[i + 12], 7, 1804603682);\n    d = md5ff(d, a, b, c, x[i + 13], 12, -40341101);\n    c = md5ff(c, d, a, b, x[i + 14], 17, -1502002290);\n    b = md5ff(b, c, d, a, x[i + 15], 22, 1236535329);\n    a = md5gg(a, b, c, d, x[i + 1], 5, -165796510);\n    d = md5gg(d, a, b, c, x[i + 6], 9, -1069501632);\n    c = md5gg(c, d, a, b, x[i + 11], 14, 643717713);\n    b = md5gg(b, c, d, a, x[i], 20, -373897302);\n    a = md5gg(a, b, c, d, x[i + 5], 5, -701558691);\n    d = md5gg(d, a, b, c, x[i + 10], 9, 38016083);\n    c = md5gg(c, d, a, b, x[i + 15], 14, -660478335);\n    b = md5gg(b, c, d, a, x[i + 4], 20, -405537848);\n    a = md5gg(a, b, c, d, x[i + 9], 5, 568446438);\n    d = md5gg(d, a, b, c, x[i + 14], 9, -1019803690);\n    c = md5gg(c, d, a, b, x[i + 3], 14, -187363961);\n    b = md5gg(b, c, d, a, x[i + 8], 20, 1163531501);\n    a = md5gg(a, b, c, d, x[i + 13], 5, -1444681467);\n    d = md5gg(d, a, b, c, x[i + 2], 9, -51403784);\n    c = md5gg(c, d, a, b, x[i + 7], 14, 1735328473);\n    b = md5gg(b, c, d, a, x[i + 12], 20, -1926607734);\n    a = md5hh(a, b, c, d, x[i + 5], 4, -378558);\n    d = md5hh(d, a, b, c, x[i + 8], 11, -2022574463);\n    c = md5hh(c, d, a, b, x[i + 11], 16, 1839030562);\n    b = md5hh(b, c, d, a, x[i + 14], 23, -35309556);\n    a = md5hh(a, b, c, d, x[i + 1], 4, -1530992060);\n    d = md5hh(d, a, b, c, x[i + 4], 11, 1272893353);\n    c = md5hh(c, d, a, b, x[i + 7], 16, -155497632);\n    b = md5hh(b, c, d, a, x[i + 10], 23, -1094730640);\n    a = md5hh(a, b, c, d, x[i + 13], 4, 681279174);\n    d = md5hh(d, a, b, c, x[i], 11, -358537222);\n    c = md5hh(c, d, a, b, x[i + 3], 16, -722521979);\n    b = md5hh(b, c, d, a, x[i + 6], 23, 76029189);\n    a = md5hh(a, b, c, d, x[i + 9], 4, -640364487);\n    d = md5hh(d, a, b, c, x[i + 12], 11, -421815835);\n    c = md5hh(c, d, a, b, x[i + 15], 16, 530742520);\n    b = md5hh(b, c, d, a, x[i + 2], 23, -995338651);\n    a = md5ii(a, b, c, d, x[i], 6, -198630844);\n    d = md5ii(d, a, b, c, x[i + 7], 10, 1126891415);\n    c = md5ii(c, d, a, b, x[i + 14], 15, -1416354905);\n    b = md5ii(b, c, d, a, x[i + 5], 21, -57434055);\n    a = md5ii(a, b, c, d, x[i + 12], 6, 1700485571);\n    d = md5ii(d, a, b, c, x[i + 3], 10, -1894986606);\n    c = md5ii(c, d, a, b, x[i + 10], 15, -1051523);\n    b = md5ii(b, c, d, a, x[i + 1], 21, -2054922799);\n    a = md5ii(a, b, c, d, x[i + 8], 6, 1873313359);\n    d = md5ii(d, a, b, c, x[i + 15], 10, -30611744);\n    c = md5ii(c, d, a, b, x[i + 6], 15, -1560198380);\n    b = md5ii(b, c, d, a, x[i + 13], 21, 1309151649);\n    a = md5ii(a, b, c, d, x[i + 4], 6, -145523070);\n    d = md5ii(d, a, b, c, x[i + 11], 10, -1120210379);\n    c = md5ii(c, d, a, b, x[i + 2], 15, 718787259);\n    b = md5ii(b, c, d, a, x[i + 9], 21, -343485551);\n    a = safeAdd(a, olda);\n    b = safeAdd(b, oldb);\n    c = safeAdd(c, oldc);\n    d = safeAdd(d, oldd);\n  }\n\n  return [a, b, c, d];\n}\n/*\n * Convert an array bytes to an array of little-endian words\n * Characters >255 have their high-byte silently ignored.\n */\n\n\nfunction bytesToWords(input) {\n  if (input.length === 0) {\n    return [];\n  }\n\n  const length8 = input.length * 8;\n  const output = new Uint32Array(getOutputLength(length8));\n\n  for (let i = 0; i < length8; i += 8) {\n    output[i >> 5] |= (input[i / 8] & 0xff) << i % 32;\n  }\n\n  return output;\n}\n/*\n * Add integers, wrapping at 2^32. This uses 16-bit operations internally\n * to work around bugs in some JS interpreters.\n */\n\n\nfunction safeAdd(x, y) {\n  const lsw = (x & 0xffff) + (y & 0xffff);\n  const msw = (x >> 16) + (y >> 16) + (lsw >> 16);\n  return msw << 16 | lsw & 0xffff;\n}\n/*\n * Bitwise rotate a 32-bit number to the left.\n */\n\n\nfunction bitRotateLeft(num, cnt) {\n  return num << cnt | num >>> 32 - cnt;\n}\n/*\n * These functions implement the four basic operations the algorithm uses.\n */\n\n\nfunction md5cmn(q, a, b, x, s, t) {\n  return safeAdd(bitRotateLeft(safeAdd(safeAdd(a, q), safeAdd(x, t)), s), b);\n}\n\nfunction md5ff(a, b, c, d, x, s, t) {\n  return md5cmn(b & c | ~b & d, a, b, x, s, t);\n}\n\nfunction md5gg(a, b, c, d, x, s, t) {\n  return md5cmn(b & d | c & ~d, a, b, x, s, t);\n}\n\nfunction md5hh(a, b, c, d, x, s, t) {\n  return md5cmn(b ^ c ^ d, a, b, x, s, t);\n}\n\nfunction md5ii(a, b, c, d, x, s, t) {\n  return md5cmn(c ^ (b | ~d), a, b, x, s, t);\n}\n\nvar _default = md5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nvar _default = {\n  randomUUID\n};\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = '00000000-0000-0000-0000-000000000000';\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction parse(uuid) {\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Invalid UUID');\n  }\n\n  let v;\n  const arr = new Uint8Array(16); // Parse ########-....-....-....-............\n\n  arr[0] = (v = parseInt(uuid.slice(0, 8), 16)) >>> 24;\n  arr[1] = v >>> 16 & 0xff;\n  arr[2] = v >>> 8 & 0xff;\n  arr[3] = v & 0xff; // Parse ........-####-....-....-............\n\n  arr[4] = (v = parseInt(uuid.slice(9, 13), 16)) >>> 8;\n  arr[5] = v & 0xff; // Parse ........-....-####-....-............\n\n  arr[6] = (v = parseInt(uuid.slice(14, 18), 16)) >>> 8;\n  arr[7] = v & 0xff; // Parse ........-....-....-####-............\n\n  arr[8] = (v = parseInt(uuid.slice(19, 23), 16)) >>> 8;\n  arr[9] = v & 0xff; // Parse ........-....-....-....-############\n  // (Use \"/\" to avoid 32-bit truncation when bit-shifting high-order bytes)\n\n  arr[10] = (v = parseInt(uuid.slice(24, 36), 16)) / 0x10000000000 & 0xff;\n  arr[11] = v / 0x100000000 & 0xff;\n  arr[12] = v >>> 24 & 0xff;\n  arr[13] = v >>> 16 & 0xff;\n  arr[14] = v >>> 8 & 0xff;\n  arr[15] = v & 0xff;\n  return arr;\n}\n\nvar _default = parse;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _default = /^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = rng;\n// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\n\nfunction rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// Adapted from Chris Veness' SHA1 code at\n// http://www.movable-type.co.uk/scripts/sha1.html\nfunction f(s, x, y, z) {\n  switch (s) {\n    case 0:\n      return x & y ^ ~x & z;\n\n    case 1:\n      return x ^ y ^ z;\n\n    case 2:\n      return x & y ^ x & z ^ y & z;\n\n    case 3:\n      return x ^ y ^ z;\n  }\n}\n\nfunction ROTL(x, n) {\n  return x << n | x >>> 32 - n;\n}\n\nfunction sha1(bytes) {\n  const K = [0x5a827999, 0x6ed9eba1, 0x8f1bbcdc, 0xca62c1d6];\n  const H = [0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0];\n\n  if (typeof bytes === 'string') {\n    const msg = unescape(encodeURIComponent(bytes)); // UTF8 escape\n\n    bytes = [];\n\n    for (let i = 0; i < msg.length; ++i) {\n      bytes.push(msg.charCodeAt(i));\n    }\n  } else if (!Array.isArray(bytes)) {\n    // Convert Array-like to Array\n    bytes = Array.prototype.slice.call(bytes);\n  }\n\n  bytes.push(0x80);\n  const l = bytes.length / 4 + 2;\n  const N = Math.ceil(l / 16);\n  const M = new Array(N);\n\n  for (let i = 0; i < N; ++i) {\n    const arr = new Uint32Array(16);\n\n    for (let j = 0; j < 16; ++j) {\n      arr[j] = bytes[i * 64 + j * 4] << 24 | bytes[i * 64 + j * 4 + 1] << 16 | bytes[i * 64 + j * 4 + 2] << 8 | bytes[i * 64 + j * 4 + 3];\n    }\n\n    M[i] = arr;\n  }\n\n  M[N - 1][14] = (bytes.length - 1) * 8 / Math.pow(2, 32);\n  M[N - 1][14] = Math.floor(M[N - 1][14]);\n  M[N - 1][15] = (bytes.length - 1) * 8 & 0xffffffff;\n\n  for (let i = 0; i < N; ++i) {\n    const W = new Uint32Array(80);\n\n    for (let t = 0; t < 16; ++t) {\n      W[t] = M[i][t];\n    }\n\n    for (let t = 16; t < 80; ++t) {\n      W[t] = ROTL(W[t - 3] ^ W[t - 8] ^ W[t - 14] ^ W[t - 16], 1);\n    }\n\n    let a = H[0];\n    let b = H[1];\n    let c = H[2];\n    let d = H[3];\n    let e = H[4];\n\n    for (let t = 0; t < 80; ++t) {\n      const s = Math.floor(t / 20);\n      const T = ROTL(a, 5) + f(s, b, c, d) + e + K[s] + W[t] >>> 0;\n      e = d;\n      d = c;\n      c = ROTL(b, 30) >>> 0;\n      b = a;\n      a = T;\n    }\n\n    H[0] = H[0] + a >>> 0;\n    H[1] = H[1] + b >>> 0;\n    H[2] = H[2] + c >>> 0;\n    H[3] = H[3] + d >>> 0;\n    H[4] = H[4] + e >>> 0;\n  }\n\n  return [H[0] >> 24 & 0xff, H[0] >> 16 & 0xff, H[0] >> 8 & 0xff, H[0] & 0xff, H[1] >> 24 & 0xff, H[1] >> 16 & 0xff, H[1] >> 8 & 0xff, H[1] & 0xff, H[2] >> 24 & 0xff, H[2] >> 16 & 0xff, H[2] >> 8 & 0xff, H[2] & 0xff, H[3] >> 24 & 0xff, H[3] >> 16 & 0xff, H[3] >> 8 & 0xff, H[3] & 0xff, H[4] >> 24 & 0xff, H[4] >> 16 & 0xff, H[4] >> 8 & 0xff, H[4] & 0xff];\n}\n\nvar _default = sha1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nexports.unsafeStringify = unsafeStringify;\n\nvar _validate = _interopRequireDefault(require(\"./validate.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nfunction unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!(0, _validate.default)(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nvar _default = stringify;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n// **`v1()` - Generate time-based UUID**\n//\n// Inspired by https://github.com/LiosK/UUID.js\n// and http://docs.python.org/library/uuid.html\nlet _nodeId;\n\nlet _clockseq; // Previous uuid creation time\n\n\nlet _lastMSecs = 0;\nlet _lastNSecs = 0; // See https://github.com/uuidjs/uuid for API details\n\nfunction v1(options, buf, offset) {\n  let i = buf && offset || 0;\n  const b = buf || new Array(16);\n  options = options || {};\n  let node = options.node || _nodeId;\n  let clockseq = options.clockseq !== undefined ? options.clockseq : _clockseq; // node and clockseq need to be initialized to random values if they're not\n  // specified.  We do this lazily to minimize issues related to insufficient\n  // system entropy.  See #189\n\n  if (node == null || clockseq == null) {\n    const seedBytes = options.random || (options.rng || _rng.default)();\n\n    if (node == null) {\n      // Per 4.5, create and 48-bit node id, (47 random bits + multicast bit = 1)\n      node = _nodeId = [seedBytes[0] | 0x01, seedBytes[1], seedBytes[2], seedBytes[3], seedBytes[4], seedBytes[5]];\n    }\n\n    if (clockseq == null) {\n      // Per 4.2.2, randomize (14 bit) clockseq\n      clockseq = _clockseq = (seedBytes[6] << 8 | seedBytes[7]) & 0x3fff;\n    }\n  } // UUID timestamps are 100 nano-second units since the Gregorian epoch,\n  // (1582-10-15 00:00).  JSNumbers aren't precise enough for this, so\n  // time is handled internally as 'msecs' (integer milliseconds) and 'nsecs'\n  // (100-nanoseconds offset from msecs) since unix epoch, 1970-01-01 00:00.\n\n\n  let msecs = options.msecs !== undefined ? options.msecs : Date.now(); // Per 4.2.1.2, use count of uuid's generated during the current clock\n  // cycle to simulate higher resolution clock\n\n  let nsecs = options.nsecs !== undefined ? options.nsecs : _lastNSecs + 1; // Time since last uuid creation (in msecs)\n\n  const dt = msecs - _lastMSecs + (nsecs - _lastNSecs) / 10000; // Per 4.2.1.2, Bump clockseq on clock regression\n\n  if (dt < 0 && options.clockseq === undefined) {\n    clockseq = clockseq + 1 & 0x3fff;\n  } // Reset nsecs if clock regresses (new clockseq) or we've moved onto a new\n  // time interval\n\n\n  if ((dt < 0 || msecs > _lastMSecs) && options.nsecs === undefined) {\n    nsecs = 0;\n  } // Per 4.2.1.2 Throw error if too many uuids are requested\n\n\n  if (nsecs >= 10000) {\n    throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");\n  }\n\n  _lastMSecs = msecs;\n  _lastNSecs = nsecs;\n  _clockseq = clockseq; // Per 4.1.4 - Convert from unix epoch to Gregorian epoch\n\n  msecs += 12219292800000; // `time_low`\n\n  const tl = ((msecs & 0xfffffff) * 10000 + nsecs) % 0x100000000;\n  b[i++] = tl >>> 24 & 0xff;\n  b[i++] = tl >>> 16 & 0xff;\n  b[i++] = tl >>> 8 & 0xff;\n  b[i++] = tl & 0xff; // `time_mid`\n\n  const tmh = msecs / 0x100000000 * 10000 & 0xfffffff;\n  b[i++] = tmh >>> 8 & 0xff;\n  b[i++] = tmh & 0xff; // `time_high_and_version`\n\n  b[i++] = tmh >>> 24 & 0xf | 0x10; // include version\n\n  b[i++] = tmh >>> 16 & 0xff; // `clock_seq_hi_and_reserved` (Per 4.2.2 - include variant)\n\n  b[i++] = clockseq >>> 8 | 0x80; // `clock_seq_low`\n\n  b[i++] = clockseq & 0xff; // `node`\n\n  for (let n = 0; n < 6; ++n) {\n    b[i + n] = node[n];\n  }\n\n  return buf || (0, _stringify.unsafeStringify)(b);\n}\n\nvar _default = v1;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _md = _interopRequireDefault(require(\"./md5.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v3 = (0, _v.default)('v3', 0x30, _md.default);\nvar _default = v3;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.URL = exports.DNS = void 0;\nexports.default = v35;\n\nvar _stringify = require(\"./stringify.js\");\n\nvar _parse = _interopRequireDefault(require(\"./parse.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction stringToBytes(str) {\n  str = unescape(encodeURIComponent(str)); // UTF8 escape\n\n  const bytes = [];\n\n  for (let i = 0; i < str.length; ++i) {\n    bytes.push(str.charCodeAt(i));\n  }\n\n  return bytes;\n}\n\nconst DNS = '6ba7b810-9dad-11d1-80b4-00c04fd430c8';\nexports.DNS = DNS;\nconst URL = '6ba7b811-9dad-11d1-80b4-00c04fd430c8';\nexports.URL = URL;\n\nfunction v35(name, version, hashfunc) {\n  function generateUUID(value, namespace, buf, offset) {\n    var _namespace;\n\n    if (typeof value === 'string') {\n      value = stringToBytes(value);\n    }\n\n    if (typeof namespace === 'string') {\n      namespace = (0, _parse.default)(namespace);\n    }\n\n    if (((_namespace = namespace) === null || _namespace === void 0 ? void 0 : _namespace.length) !== 16) {\n      throw TypeError('Namespace must be array-like (16 iterable integer values, 0-255)');\n    } // Compute hash of namespace and value, Per 4.3\n    // Future: Use spread syntax when supported on all platforms, e.g. `bytes =\n    // hashfunc([...namespace, ... value])`\n\n\n    let bytes = new Uint8Array(16 + value.length);\n    bytes.set(namespace);\n    bytes.set(value, namespace.length);\n    bytes = hashfunc(bytes);\n    bytes[6] = bytes[6] & 0x0f | version;\n    bytes[8] = bytes[8] & 0x3f | 0x80;\n\n    if (buf) {\n      offset = offset || 0;\n\n      for (let i = 0; i < 16; ++i) {\n        buf[offset + i] = bytes[i];\n      }\n\n      return buf;\n    }\n\n    return (0, _stringify.unsafeStringify)(bytes);\n  } // Function#name is not settable on some platforms (#270)\n\n\n  try {\n    generateUUID.name = name; // eslint-disable-next-line no-empty\n  } catch (err) {} // For CommonJS default export support\n\n\n  generateUUID.DNS = DNS;\n  generateUUID.URL = URL;\n  return generateUUID;\n}","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _native = _interopRequireDefault(require(\"./native.js\"));\n\nvar _rng = _interopRequireDefault(require(\"./rng.js\"));\n\nvar _stringify = require(\"./stringify.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction v4(options, buf, offset) {\n  if (_native.default.randomUUID && !buf && !options) {\n    return _native.default.randomUUID();\n  }\n\n  options = options || {};\n\n  const rnds = options.random || (options.rng || _rng.default)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return (0, _stringify.unsafeStringify)(rnds);\n}\n\nvar _default = v4;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _v = _interopRequireDefault(require(\"./v35.js\"));\n\nvar _sha = _interopRequireDefault(require(\"./sha1.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nconst v5 = (0, _v.default)('v5', 0x50, _sha.default);\nvar _default = v5;\nexports.default = _default;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _regex = _interopRequireDefault(require(\"./regex.js\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction validate(uuid) {\n  return typeof uuid === 'string' && _regex.default.test(uuid);\n}\n\nvar _default = validate;\nexports.default = _default;","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.adapter = f()}})(function(){var define,module,exports;return (function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n\n'use strict';\n\nvar _adapter_factory = require(\"./adapter_factory.js\");\nvar adapter = (0, _adapter_factory.adapterFactory)({\n  window: typeof window === 'undefined' ? undefined : window\n});\nmodule.exports = adapter; // this is the difference from adapter_core.\n\n},{\"./adapter_factory.js\":2}],2:[function(require,module,exports){\n\"use strict\";\n\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.adapterFactory = adapterFactory;\nvar utils = _interopRequireWildcard(require(\"./utils\"));\nvar chromeShim = _interopRequireWildcard(require(\"./chrome/chrome_shim\"));\nvar firefoxShim = _interopRequireWildcard(require(\"./firefox/firefox_shim\"));\nvar safariShim = _interopRequireWildcard(require(\"./safari/safari_shim\"));\nvar commonShim = _interopRequireWildcard(require(\"./common_shim\"));\nvar sdp = _interopRequireWildcard(require(\"sdp\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n\n// Browser shims.\n\n// Shimming starts here.\nfunction adapterFactory() {\n  var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n    window = _ref.window;\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {\n    shimChrome: true,\n    shimFirefox: true,\n    shimSafari: true\n  };\n  // Utils.\n  var logging = utils.log;\n  var browserDetails = utils.detectBrowser(window);\n  var adapter = {\n    browserDetails: browserDetails,\n    commonShim: commonShim,\n    extractVersion: utils.extractVersion,\n    disableLog: utils.disableLog,\n    disableWarnings: utils.disableWarnings,\n    // Expose sdp as a convenience. For production apps include directly.\n    sdp: sdp\n  };\n\n  // Shim browser if found.\n  switch (browserDetails.browser) {\n    case 'chrome':\n      if (!chromeShim || !chromeShim.shimPeerConnection || !options.shimChrome) {\n        logging('Chrome shim is not included in this adapter release.');\n        return adapter;\n      }\n      if (browserDetails.version === null) {\n        logging('Chrome shim can not determine version, not shimming.');\n        return adapter;\n      }\n      logging('adapter.js shimming chrome.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = chromeShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      chromeShim.shimGetUserMedia(window, browserDetails);\n      chromeShim.shimMediaStream(window, browserDetails);\n      chromeShim.shimPeerConnection(window, browserDetails);\n      chromeShim.shimOnTrack(window, browserDetails);\n      chromeShim.shimAddTrackRemoveTrack(window, browserDetails);\n      chromeShim.shimGetSendersWithDtmf(window, browserDetails);\n      chromeShim.shimGetStats(window, browserDetails);\n      chromeShim.shimSenderReceiverGetStats(window, browserDetails);\n      chromeShim.fixNegotiationNeeded(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    case 'firefox':\n      if (!firefoxShim || !firefoxShim.shimPeerConnection || !options.shimFirefox) {\n        logging('Firefox shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming firefox.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = firefoxShim;\n\n      // Must be called before shimPeerConnection.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      firefoxShim.shimGetUserMedia(window, browserDetails);\n      firefoxShim.shimPeerConnection(window, browserDetails);\n      firefoxShim.shimOnTrack(window, browserDetails);\n      firefoxShim.shimRemoveStream(window, browserDetails);\n      firefoxShim.shimSenderGetStats(window, browserDetails);\n      firefoxShim.shimReceiverGetStats(window, browserDetails);\n      firefoxShim.shimRTCDataChannel(window, browserDetails);\n      firefoxShim.shimAddTransceiver(window, browserDetails);\n      firefoxShim.shimGetParameters(window, browserDetails);\n      firefoxShim.shimCreateOffer(window, browserDetails);\n      firefoxShim.shimCreateAnswer(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimConnectionState(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      break;\n    case 'safari':\n      if (!safariShim || !options.shimSafari) {\n        logging('Safari shim is not included in this adapter release.');\n        return adapter;\n      }\n      logging('adapter.js shimming safari.');\n      // Export to the adapter global object visible in the browser.\n      adapter.browserShim = safariShim;\n\n      // Must be called before shimCallbackAPI.\n      commonShim.shimAddIceCandidateNullOrEmpty(window, browserDetails);\n      commonShim.shimParameterlessSetLocalDescription(window, browserDetails);\n      safariShim.shimRTCIceServerUrls(window, browserDetails);\n      safariShim.shimCreateOfferLegacy(window, browserDetails);\n      safariShim.shimCallbacksAPI(window, browserDetails);\n      safariShim.shimLocalStreamsAPI(window, browserDetails);\n      safariShim.shimRemoteStreamsAPI(window, browserDetails);\n      safariShim.shimTrackEventTransceiver(window, browserDetails);\n      safariShim.shimGetUserMedia(window, browserDetails);\n      safariShim.shimAudioContext(window, browserDetails);\n      commonShim.shimRTCIceCandidate(window, browserDetails);\n      commonShim.shimRTCIceCandidateRelayProtocol(window, browserDetails);\n      commonShim.shimMaxMessageSize(window, browserDetails);\n      commonShim.shimSendThrowTypeError(window, browserDetails);\n      commonShim.removeExtmapAllowMixed(window, browserDetails);\n      break;\n    default:\n      logging('Unsupported browser!');\n      break;\n  }\n  return adapter;\n}\n\n},{\"./chrome/chrome_shim\":3,\"./common_shim\":6,\"./firefox/firefox_shim\":7,\"./safari/safari_shim\":10,\"./utils\":11,\"sdp\":12}],3:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fixNegotiationNeeded = fixNegotiationNeeded;\nexports.shimAddTrackRemoveTrack = shimAddTrackRemoveTrack;\nexports.shimAddTrackRemoveTrackWithNative = shimAddTrackRemoveTrackWithNative;\nObject.defineProperty(exports, \"shimGetDisplayMedia\", {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimGetSendersWithDtmf = shimGetSendersWithDtmf;\nexports.shimGetStats = shimGetStats;\nObject.defineProperty(exports, \"shimGetUserMedia\", {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\nexports.shimMediaStream = shimMediaStream;\nexports.shimOnTrack = shimOnTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.shimSenderReceiverGetStats = shimSenderReceiverGetStats;\nvar utils = _interopRequireWildcard(require(\"../utils.js\"));\nvar _getusermedia = require(\"./getusermedia\");\nvar _getdisplaymedia = require(\"./getdisplaymedia\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction shimMediaStream(window) {\n  window.MediaStream = window.MediaStream || window.webkitMediaStream;\n}\nfunction shimOnTrack(window) {\n  if (_typeof(window) === 'object' && window.RTCPeerConnection && !('ontrack' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'ontrack', {\n      get: function get() {\n        return this._ontrack;\n      },\n      set: function set(f) {\n        if (this._ontrack) {\n          this.removeEventListener('track', this._ontrack);\n        }\n        this.addEventListener('track', this._ontrack = f);\n      },\n      enumerable: true,\n      configurable: true\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var _this = this;\n      if (!this._ontrackpoly) {\n        this._ontrackpoly = function (e) {\n          // onaddstream does not fire when a track is added to an existing\n          // stream. But stream.onaddtrack is implemented so we use that.\n          e.stream.addEventListener('addtrack', function (te) {\n            var receiver;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === te.track.id;\n              });\n            } else {\n              receiver = {\n                track: te.track\n              };\n            }\n            var event = new Event('track');\n            event.track = te.track;\n            event.receiver = receiver;\n            event.transceiver = {\n              receiver: receiver\n            };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n          e.stream.getTracks().forEach(function (track) {\n            var receiver;\n            if (window.RTCPeerConnection.prototype.getReceivers) {\n              receiver = _this.getReceivers().find(function (r) {\n                return r.track && r.track.id === track.id;\n              });\n            } else {\n              receiver = {\n                track: track\n              };\n            }\n            var event = new Event('track');\n            event.track = track;\n            event.receiver = receiver;\n            event.transceiver = {\n              receiver: receiver\n            };\n            event.streams = [e.stream];\n            _this.dispatchEvent(event);\n          });\n        };\n        this.addEventListener('addstream', this._ontrackpoly);\n      }\n      return origSetRemoteDescription.apply(this, arguments);\n    };\n  } else {\n    // even if RTCRtpTransceiver is in window, it is only used and\n    // emitted in unified-plan. Unfortunately this means we need\n    // to unconditionally wrap the event.\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      if (!e.transceiver) {\n        Object.defineProperty(e, 'transceiver', {\n          value: {\n            receiver: e.receiver\n          }\n        });\n      }\n      return e;\n    });\n  }\n}\nfunction shimGetSendersWithDtmf(window) {\n  // Overrides addTrack/removeTrack, depends on shimAddTrackRemoveTrack.\n  if (_typeof(window) === 'object' && window.RTCPeerConnection && !('getSenders' in window.RTCPeerConnection.prototype) && 'createDTMFSender' in window.RTCPeerConnection.prototype) {\n    var shimSenderWithDtmf = function shimSenderWithDtmf(pc, track) {\n      return {\n        track: track,\n        get dtmf() {\n          if (this._dtmf === undefined) {\n            if (track.kind === 'audio') {\n              this._dtmf = pc.createDTMFSender(track);\n            } else {\n              this._dtmf = null;\n            }\n          }\n          return this._dtmf;\n        },\n        _pc: pc\n      };\n    };\n\n    // augment addTrack when getSenders is not available.\n    if (!window.RTCPeerConnection.prototype.getSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        this._senders = this._senders || [];\n        return this._senders.slice(); // return a copy of the internal state.\n      };\n\n      var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n      window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n        var sender = origAddTrack.apply(this, arguments);\n        if (!sender) {\n          sender = shimSenderWithDtmf(this, track);\n          this._senders.push(sender);\n        }\n        return sender;\n      };\n      var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n      window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n        origRemoveTrack.apply(this, arguments);\n        var idx = this._senders.indexOf(sender);\n        if (idx !== -1) {\n          this._senders.splice(idx, 1);\n        }\n      };\n    }\n    var origAddStream = window.RTCPeerConnection.prototype.addStream;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this2 = this;\n      this._senders = this._senders || [];\n      origAddStream.apply(this, [stream]);\n      stream.getTracks().forEach(function (track) {\n        _this2._senders.push(shimSenderWithDtmf(_this2, track));\n      });\n    };\n    var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n      this._senders = this._senders || [];\n      origRemoveStream.apply(this, [stream]);\n      stream.getTracks().forEach(function (track) {\n        var sender = _this3._senders.find(function (s) {\n          return s.track === track;\n        });\n        if (sender) {\n          // remove sender\n          _this3._senders.splice(_this3._senders.indexOf(sender), 1);\n        }\n      });\n    };\n  } else if (_typeof(window) === 'object' && window.RTCPeerConnection && 'getSenders' in window.RTCPeerConnection.prototype && 'createDTMFSender' in window.RTCPeerConnection.prototype && window.RTCRtpSender && !('dtmf' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this4 = this;\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this4;\n      });\n      return senders;\n    };\n    Object.defineProperty(window.RTCRtpSender.prototype, 'dtmf', {\n      get: function get() {\n        if (this._dtmf === undefined) {\n          if (this.track.kind === 'audio') {\n            this._dtmf = this._pc.createDTMFSender(this.track);\n          } else {\n            this._dtmf = null;\n          }\n        }\n        return this._dtmf;\n      }\n    });\n  }\n}\nfunction shimGetStats(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _this5 = this;\n    var _arguments = Array.prototype.slice.call(arguments),\n      selector = _arguments[0],\n      onSucc = _arguments[1],\n      onErr = _arguments[2];\n\n    // If selector is a function then we are in the old style stats so just\n    // pass back the original getStats format to avoid breaking old users.\n    if (arguments.length > 0 && typeof selector === 'function') {\n      return origGetStats.apply(this, arguments);\n    }\n\n    // When spec-style getStats is supported, return those when called with\n    // either no arguments or the selector argument is null.\n    if (origGetStats.length === 0 && (arguments.length === 0 || typeof selector !== 'function')) {\n      return origGetStats.apply(this, []);\n    }\n    var fixChromeStats_ = function fixChromeStats_(response) {\n      var standardReport = {};\n      var reports = response.result();\n      reports.forEach(function (report) {\n        var standardStats = {\n          id: report.id,\n          timestamp: report.timestamp,\n          type: {\n            localcandidate: 'local-candidate',\n            remotecandidate: 'remote-candidate'\n          }[report.type] || report.type\n        };\n        report.names().forEach(function (name) {\n          standardStats[name] = report.stat(name);\n        });\n        standardReport[standardStats.id] = standardStats;\n      });\n      return standardReport;\n    };\n\n    // shim getStats with maplike support\n    var makeMapStats = function makeMapStats(stats) {\n      return new Map(Object.keys(stats).map(function (key) {\n        return [key, stats[key]];\n      }));\n    };\n    if (arguments.length >= 2) {\n      var successCallbackWrapper_ = function successCallbackWrapper_(response) {\n        onSucc(makeMapStats(fixChromeStats_(response)));\n      };\n      return origGetStats.apply(this, [successCallbackWrapper_, selector]);\n    }\n\n    // promise-support\n    return new Promise(function (resolve, reject) {\n      origGetStats.apply(_this5, [function (response) {\n        resolve(makeMapStats(fixChromeStats_(response)));\n      }, reject]);\n    }).then(onSucc, onErr);\n  };\n}\nfunction shimSenderReceiverGetStats(window) {\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection && window.RTCRtpSender && window.RTCRtpReceiver)) {\n    return;\n  }\n\n  // shim sender stats.\n  if (!('getStats' in window.RTCRtpSender.prototype)) {\n    var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n    if (origGetSenders) {\n      window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n        var _this6 = this;\n        var senders = origGetSenders.apply(this, []);\n        senders.forEach(function (sender) {\n          return sender._pc = _this6;\n        });\n        return senders;\n      };\n    }\n    var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n    if (origAddTrack) {\n      window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n        var sender = origAddTrack.apply(this, arguments);\n        sender._pc = this;\n        return sender;\n      };\n    }\n    window.RTCRtpSender.prototype.getStats = function getStats() {\n      var sender = this;\n      return this._pc.getStats().then(function (result) {\n        return (\n          /* Note: this will include stats of all senders that\n           *   send a track with the same id as sender.track as\n           *   it is not possible to identify the RTCRtpSender.\n           */\n          utils.filterStats(result, sender.track, true)\n        );\n      });\n    };\n  }\n\n  // shim receiver stats.\n  if (!('getStats' in window.RTCRtpReceiver.prototype)) {\n    var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n    if (origGetReceivers) {\n      window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n        var _this7 = this;\n        var receivers = origGetReceivers.apply(this, []);\n        receivers.forEach(function (receiver) {\n          return receiver._pc = _this7;\n        });\n        return receivers;\n      };\n    }\n    utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n      e.receiver._pc = e.srcElement;\n      return e;\n    });\n    window.RTCRtpReceiver.prototype.getStats = function getStats() {\n      var receiver = this;\n      return this._pc.getStats().then(function (result) {\n        return utils.filterStats(result, receiver.track, false);\n      });\n    };\n  }\n  if (!('getStats' in window.RTCRtpSender.prototype && 'getStats' in window.RTCRtpReceiver.prototype)) {\n    return;\n  }\n\n  // shim RTCPeerConnection.getStats(track).\n  var origGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    if (arguments.length > 0 && arguments[0] instanceof window.MediaStreamTrack) {\n      var track = arguments[0];\n      var sender;\n      var receiver;\n      var err;\n      this.getSenders().forEach(function (s) {\n        if (s.track === track) {\n          if (sender) {\n            err = true;\n          } else {\n            sender = s;\n          }\n        }\n      });\n      this.getReceivers().forEach(function (r) {\n        if (r.track === track) {\n          if (receiver) {\n            err = true;\n          } else {\n            receiver = r;\n          }\n        }\n        return r.track === track;\n      });\n      if (err || sender && receiver) {\n        return Promise.reject(new DOMException('There are more than one sender or receiver for the track.', 'InvalidAccessError'));\n      } else if (sender) {\n        return sender.getStats();\n      } else if (receiver) {\n        return receiver.getStats();\n      }\n      return Promise.reject(new DOMException('There is no sender or receiver for the track.', 'InvalidAccessError'));\n    }\n    return origGetStats.apply(this, arguments);\n  };\n}\nfunction shimAddTrackRemoveTrackWithNative(window) {\n  // shim addTrack/removeTrack with native variants in order to make\n  // the interactions with legacy getLocalStreams behave as in other browsers.\n  // Keeps a mapping stream.id => [stream, rtpsenders...]\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this8 = this;\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    return Object.keys(this._shimmedLocalStreams).map(function (streamId) {\n      return _this8._shimmedLocalStreams[streamId][0];\n    });\n  };\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    if (!stream) {\n      return origAddTrack.apply(this, arguments);\n    }\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    var sender = origAddTrack.apply(this, arguments);\n    if (!this._shimmedLocalStreams[stream.id]) {\n      this._shimmedLocalStreams[stream.id] = [stream, sender];\n    } else if (this._shimmedLocalStreams[stream.id].indexOf(sender) === -1) {\n      this._shimmedLocalStreams[stream.id].push(sender);\n    }\n    return sender;\n  };\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this9 = this;\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this9.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    var existingSenders = this.getSenders();\n    origAddStream.apply(this, arguments);\n    var newSenders = this.getSenders().filter(function (newSender) {\n      return existingSenders.indexOf(newSender) === -1;\n    });\n    this._shimmedLocalStreams[stream.id] = [stream].concat(newSenders);\n  };\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    delete this._shimmedLocalStreams[stream.id];\n    return origRemoveStream.apply(this, arguments);\n  };\n  var origRemoveTrack = window.RTCPeerConnection.prototype.removeTrack;\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this10 = this;\n    this._shimmedLocalStreams = this._shimmedLocalStreams || {};\n    if (sender) {\n      Object.keys(this._shimmedLocalStreams).forEach(function (streamId) {\n        var idx = _this10._shimmedLocalStreams[streamId].indexOf(sender);\n        if (idx !== -1) {\n          _this10._shimmedLocalStreams[streamId].splice(idx, 1);\n        }\n        if (_this10._shimmedLocalStreams[streamId].length === 1) {\n          delete _this10._shimmedLocalStreams[streamId];\n        }\n      });\n    }\n    return origRemoveTrack.apply(this, arguments);\n  };\n}\nfunction shimAddTrackRemoveTrack(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // shim addTrack and removeTrack.\n  if (window.RTCPeerConnection.prototype.addTrack && browserDetails.version >= 65) {\n    return shimAddTrackRemoveTrackWithNative(window);\n  }\n\n  // also shim pc.getLocalStreams when addTrack is shimmed\n  // to return the original streams.\n  var origGetLocalStreams = window.RTCPeerConnection.prototype.getLocalStreams;\n  window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n    var _this11 = this;\n    var nativeStreams = origGetLocalStreams.apply(this);\n    this._reverseStreams = this._reverseStreams || {};\n    return nativeStreams.map(function (stream) {\n      return _this11._reverseStreams[stream.id];\n    });\n  };\n  var origAddStream = window.RTCPeerConnection.prototype.addStream;\n  window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n    var _this12 = this;\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n    stream.getTracks().forEach(function (track) {\n      var alreadyExists = _this12.getSenders().find(function (s) {\n        return s.track === track;\n      });\n      if (alreadyExists) {\n        throw new DOMException('Track already exists.', 'InvalidAccessError');\n      }\n    });\n    // Add identity mapping for consistency with addTrack.\n    // Unless this is being used with a stream from addTrack.\n    if (!this._reverseStreams[stream.id]) {\n      var newStream = new window.MediaStream(stream.getTracks());\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      stream = newStream;\n    }\n    origAddStream.apply(this, [stream]);\n  };\n  var origRemoveStream = window.RTCPeerConnection.prototype.removeStream;\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n    origRemoveStream.apply(this, [this._streams[stream.id] || stream]);\n    delete this._reverseStreams[this._streams[stream.id] ? this._streams[stream.id].id : stream.id];\n    delete this._streams[stream.id];\n  };\n  window.RTCPeerConnection.prototype.addTrack = function addTrack(track, stream) {\n    var _this13 = this;\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    var streams = [].slice.call(arguments, 1);\n    if (streams.length !== 1 || !streams[0].getTracks().find(function (t) {\n      return t === track;\n    })) {\n      // this is not fully correct but all we can manage without\n      // [[associated MediaStreams]] internal slot.\n      throw new DOMException('The adapter.js addTrack polyfill only supports a single ' + ' stream which is associated with the specified track.', 'NotSupportedError');\n    }\n    var alreadyExists = this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n    if (alreadyExists) {\n      throw new DOMException('Track already exists.', 'InvalidAccessError');\n    }\n    this._streams = this._streams || {};\n    this._reverseStreams = this._reverseStreams || {};\n    var oldStream = this._streams[stream.id];\n    if (oldStream) {\n      // this is using odd Chrome behaviour, use with caution:\n      // https://bugs.chromium.org/p/webrtc/issues/detail?id=7815\n      // Note: we rely on the high-level addTrack/dtmf shim to\n      // create the sender with a dtmf sender.\n      oldStream.addTrack(track);\n\n      // Trigger ONN async.\n      Promise.resolve().then(function () {\n        _this13.dispatchEvent(new Event('negotiationneeded'));\n      });\n    } else {\n      var newStream = new window.MediaStream([track]);\n      this._streams[stream.id] = newStream;\n      this._reverseStreams[newStream.id] = stream;\n      this.addStream(newStream);\n    }\n    return this.getSenders().find(function (s) {\n      return s.track === track;\n    });\n  };\n\n  // replace the internal stream id with the external one and\n  // vice versa.\n  function replaceInternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(internalStream.id, 'g'), externalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  function replaceExternalStreamId(pc, description) {\n    var sdp = description.sdp;\n    Object.keys(pc._reverseStreams || []).forEach(function (internalId) {\n      var externalStream = pc._reverseStreams[internalId];\n      var internalStream = pc._streams[externalStream.id];\n      sdp = sdp.replace(new RegExp(externalStream.id, 'g'), internalStream.id);\n    });\n    return new RTCSessionDescription({\n      type: description.type,\n      sdp: sdp\n    });\n  }\n  ['createOffer', 'createAnswer'].forEach(function (method) {\n    var nativeMethod = window.RTCPeerConnection.prototype[method];\n    var methodObj = _defineProperty({}, method, function () {\n      var _this14 = this;\n      var args = arguments;\n      var isLegacyCall = arguments.length && typeof arguments[0] === 'function';\n      if (isLegacyCall) {\n        return nativeMethod.apply(this, [function (description) {\n          var desc = replaceInternalStreamId(_this14, description);\n          args[0].apply(null, [desc]);\n        }, function (err) {\n          if (args[1]) {\n            args[1].apply(null, err);\n          }\n        }, arguments[2]]);\n      }\n      return nativeMethod.apply(this, arguments).then(function (description) {\n        return replaceInternalStreamId(_this14, description);\n      });\n    });\n    window.RTCPeerConnection.prototype[method] = methodObj[method];\n  });\n  var origSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n  window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n    if (!arguments.length || !arguments[0].type) {\n      return origSetLocalDescription.apply(this, arguments);\n    }\n    arguments[0] = replaceExternalStreamId(this, arguments[0]);\n    return origSetLocalDescription.apply(this, arguments);\n  };\n\n  // TODO: mangle getStats: https://w3c.github.io/webrtc-stats/#dom-rtcmediastreamstats-streamidentifier\n\n  var origLocalDescription = Object.getOwnPropertyDescriptor(window.RTCPeerConnection.prototype, 'localDescription');\n  Object.defineProperty(window.RTCPeerConnection.prototype, 'localDescription', {\n    get: function get() {\n      var description = origLocalDescription.get.apply(this);\n      if (description.type === '') {\n        return description;\n      }\n      return replaceInternalStreamId(this, description);\n    }\n  });\n  window.RTCPeerConnection.prototype.removeTrack = function removeTrack(sender) {\n    var _this15 = this;\n    if (this.signalingState === 'closed') {\n      throw new DOMException('The RTCPeerConnection\\'s signalingState is \\'closed\\'.', 'InvalidStateError');\n    }\n    // We can not yet check for sender instanceof RTCRtpSender\n    // since we shim RTPSender. So we check if sender._pc is set.\n    if (!sender._pc) {\n      throw new DOMException('Argument 1 of RTCPeerConnection.removeTrack ' + 'does not implement interface RTCRtpSender.', 'TypeError');\n    }\n    var isLocal = sender._pc === this;\n    if (!isLocal) {\n      throw new DOMException('Sender was not created by this connection.', 'InvalidAccessError');\n    }\n\n    // Search for the native stream the senders track belongs to.\n    this._streams = this._streams || {};\n    var stream;\n    Object.keys(this._streams).forEach(function (streamid) {\n      var hasTrack = _this15._streams[streamid].getTracks().find(function (track) {\n        return sender.track === track;\n      });\n      if (hasTrack) {\n        stream = _this15._streams[streamid];\n      }\n    });\n    if (stream) {\n      if (stream.getTracks().length === 1) {\n        // if this is the last track of the stream, remove the stream. This\n        // takes care of any shimmed _senders.\n        this.removeStream(this._reverseStreams[stream.id]);\n      } else {\n        // relying on the same odd chrome behaviour as above.\n        stream.removeTrack(sender.track);\n      }\n      this.dispatchEvent(new Event('negotiationneeded'));\n    }\n  };\n}\nfunction shimPeerConnection(window, browserDetails) {\n  if (!window.RTCPeerConnection && window.webkitRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.webkitRTCPeerConnection;\n  }\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n\n  // shim implicit creation of RTCSessionDescription/RTCIceCandidate\n  if (browserDetails.version < 53) {\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n}\n\n// Attempt to fix ONN in plan-b mode.\nfunction fixNegotiationNeeded(window, browserDetails) {\n  utils.wrapPeerConnectionEvent(window, 'negotiationneeded', function (e) {\n    var pc = e.target;\n    if (browserDetails.version < 72 || pc.getConfiguration && pc.getConfiguration().sdpSemantics === 'plan-b') {\n      if (pc.signalingState !== 'stable') {\n        return;\n      }\n    }\n    return e;\n  });\n}\n\n},{\"../utils.js\":11,\"./getdisplaymedia\":4,\"./getusermedia\":5}],4:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, getSourceId) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  // getSourceId is a function that returns a promise resolving with\n  // the sourceId of the screen/window/tab to be shared.\n  if (typeof getSourceId !== 'function') {\n    console.error('shimGetDisplayMedia: getSourceId argument is not ' + 'a function');\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    return getSourceId(constraints).then(function (sourceId) {\n      var widthSpecified = constraints.video && constraints.video.width;\n      var heightSpecified = constraints.video && constraints.video.height;\n      var frameRateSpecified = constraints.video && constraints.video.frameRate;\n      constraints.video = {\n        mandatory: {\n          chromeMediaSource: 'desktop',\n          chromeMediaSourceId: sourceId,\n          maxFrameRate: frameRateSpecified || 3\n        }\n      };\n      if (widthSpecified) {\n        constraints.video.mandatory.maxWidth = widthSpecified;\n      }\n      if (heightSpecified) {\n        constraints.video.mandatory.maxHeight = heightSpecified;\n      }\n      return window.navigator.mediaDevices.getUserMedia(constraints);\n    });\n  };\n}\n\n},{}],5:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetUserMedia = shimGetUserMedia;\nvar utils = _interopRequireWildcard(require(\"../utils.js\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar logging = utils.log;\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  if (!navigator.mediaDevices) {\n    return;\n  }\n  var constraintsToChrome_ = function constraintsToChrome_(c) {\n    if (_typeof(c) !== 'object' || c.mandatory || c.optional) {\n      return c;\n    }\n    var cc = {};\n    Object.keys(c).forEach(function (key) {\n      if (key === 'require' || key === 'advanced' || key === 'mediaSource') {\n        return;\n      }\n      var r = _typeof(c[key]) === 'object' ? c[key] : {\n        ideal: c[key]\n      };\n      if (r.exact !== undefined && typeof r.exact === 'number') {\n        r.min = r.max = r.exact;\n      }\n      var oldname_ = function oldname_(prefix, name) {\n        if (prefix) {\n          return prefix + name.charAt(0).toUpperCase() + name.slice(1);\n        }\n        return name === 'deviceId' ? 'sourceId' : name;\n      };\n      if (r.ideal !== undefined) {\n        cc.optional = cc.optional || [];\n        var oc = {};\n        if (typeof r.ideal === 'number') {\n          oc[oldname_('min', key)] = r.ideal;\n          cc.optional.push(oc);\n          oc = {};\n          oc[oldname_('max', key)] = r.ideal;\n          cc.optional.push(oc);\n        } else {\n          oc[oldname_('', key)] = r.ideal;\n          cc.optional.push(oc);\n        }\n      }\n      if (r.exact !== undefined && typeof r.exact !== 'number') {\n        cc.mandatory = cc.mandatory || {};\n        cc.mandatory[oldname_('', key)] = r.exact;\n      } else {\n        ['min', 'max'].forEach(function (mix) {\n          if (r[mix] !== undefined) {\n            cc.mandatory = cc.mandatory || {};\n            cc.mandatory[oldname_(mix, key)] = r[mix];\n          }\n        });\n      }\n    });\n    if (c.advanced) {\n      cc.optional = (cc.optional || []).concat(c.advanced);\n    }\n    return cc;\n  };\n  var shimConstraints_ = function shimConstraints_(constraints, func) {\n    if (browserDetails.version >= 61) {\n      return func(constraints);\n    }\n    constraints = JSON.parse(JSON.stringify(constraints));\n    if (constraints && _typeof(constraints.audio) === 'object') {\n      var remap = function remap(obj, a, b) {\n        if (a in obj && !(b in obj)) {\n          obj[b] = obj[a];\n          delete obj[a];\n        }\n      };\n      constraints = JSON.parse(JSON.stringify(constraints));\n      remap(constraints.audio, 'autoGainControl', 'googAutoGainControl');\n      remap(constraints.audio, 'noiseSuppression', 'googNoiseSuppression');\n      constraints.audio = constraintsToChrome_(constraints.audio);\n    }\n    if (constraints && _typeof(constraints.video) === 'object') {\n      // Shim facingMode for mobile & surface pro.\n      var face = constraints.video.facingMode;\n      face = face && (_typeof(face) === 'object' ? face : {\n        ideal: face\n      });\n      var getSupportedFacingModeLies = browserDetails.version < 66;\n      if (face && (face.exact === 'user' || face.exact === 'environment' || face.ideal === 'user' || face.ideal === 'environment') && !(navigator.mediaDevices.getSupportedConstraints && navigator.mediaDevices.getSupportedConstraints().facingMode && !getSupportedFacingModeLies)) {\n        delete constraints.video.facingMode;\n        var matches;\n        if (face.exact === 'environment' || face.ideal === 'environment') {\n          matches = ['back', 'rear'];\n        } else if (face.exact === 'user' || face.ideal === 'user') {\n          matches = ['front'];\n        }\n        if (matches) {\n          // Look for matches in label, or use last cam for back (typical).\n          return navigator.mediaDevices.enumerateDevices().then(function (devices) {\n            devices = devices.filter(function (d) {\n              return d.kind === 'videoinput';\n            });\n            var dev = devices.find(function (d) {\n              return matches.some(function (match) {\n                return d.label.toLowerCase().includes(match);\n              });\n            });\n            if (!dev && devices.length && matches.includes('back')) {\n              dev = devices[devices.length - 1]; // more likely the back cam\n            }\n\n            if (dev) {\n              constraints.video.deviceId = face.exact ? {\n                exact: dev.deviceId\n              } : {\n                ideal: dev.deviceId\n              };\n            }\n            constraints.video = constraintsToChrome_(constraints.video);\n            logging('chrome: ' + JSON.stringify(constraints));\n            return func(constraints);\n          });\n        }\n      }\n      constraints.video = constraintsToChrome_(constraints.video);\n    }\n    logging('chrome: ' + JSON.stringify(constraints));\n    return func(constraints);\n  };\n  var shimError_ = function shimError_(e) {\n    if (browserDetails.version >= 64) {\n      return e;\n    }\n    return {\n      name: {\n        PermissionDeniedError: 'NotAllowedError',\n        PermissionDismissedError: 'NotAllowedError',\n        InvalidStateError: 'NotAllowedError',\n        DevicesNotFoundError: 'NotFoundError',\n        ConstraintNotSatisfiedError: 'OverconstrainedError',\n        TrackStartError: 'NotReadableError',\n        MediaDeviceFailedDueToShutdown: 'NotAllowedError',\n        MediaDeviceKillSwitchOn: 'NotAllowedError',\n        TabCaptureError: 'AbortError',\n        ScreenCaptureError: 'AbortError',\n        DeviceCaptureError: 'AbortError'\n      }[e.name] || e.name,\n      message: e.message,\n      constraint: e.constraint || e.constraintName,\n      toString: function toString() {\n        return this.name + (this.message && ': ') + this.message;\n      }\n    };\n  };\n  var getUserMedia_ = function getUserMedia_(constraints, onSuccess, onError) {\n    shimConstraints_(constraints, function (c) {\n      navigator.webkitGetUserMedia(c, onSuccess, function (e) {\n        if (onError) {\n          onError(shimError_(e));\n        }\n      });\n    });\n  };\n  navigator.getUserMedia = getUserMedia_.bind(navigator);\n\n  // Even though Chrome 45 has navigator.mediaDevices and a getUserMedia\n  // function which returns a Promise, it does not accept spec-style\n  // constraints.\n  if (navigator.mediaDevices.getUserMedia) {\n    var origGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (cs) {\n      return shimConstraints_(cs, function (c) {\n        return origGetUserMedia(c).then(function (stream) {\n          if (c.audio && !stream.getAudioTracks().length || c.video && !stream.getVideoTracks().length) {\n            stream.getTracks().forEach(function (track) {\n              track.stop();\n            });\n            throw new DOMException('', 'NotFoundError');\n          }\n          return stream;\n        }, function (e) {\n          return Promise.reject(shimError_(e));\n        });\n      });\n    };\n  }\n}\n\n},{\"../utils.js\":11}],6:[function(require,module,exports){\n/*\n *  Copyright (c) 2017 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.removeExtmapAllowMixed = removeExtmapAllowMixed;\nexports.shimAddIceCandidateNullOrEmpty = shimAddIceCandidateNullOrEmpty;\nexports.shimConnectionState = shimConnectionState;\nexports.shimMaxMessageSize = shimMaxMessageSize;\nexports.shimParameterlessSetLocalDescription = shimParameterlessSetLocalDescription;\nexports.shimRTCIceCandidate = shimRTCIceCandidate;\nexports.shimRTCIceCandidateRelayProtocol = shimRTCIceCandidateRelayProtocol;\nexports.shimSendThrowTypeError = shimSendThrowTypeError;\nvar _sdp = _interopRequireDefault(require(\"sdp\"));\nvar utils = _interopRequireWildcard(require(\"./utils\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction shimRTCIceCandidate(window) {\n  // foundation is arbitrarily chosen as an indicator for full support for\n  // https://w3c.github.io/webrtc-pc/#rtcicecandidate-interface\n  if (!window.RTCIceCandidate || window.RTCIceCandidate && 'foundation' in window.RTCIceCandidate.prototype) {\n    return;\n  }\n  var NativeRTCIceCandidate = window.RTCIceCandidate;\n  window.RTCIceCandidate = function RTCIceCandidate(args) {\n    // Remove the a= which shouldn't be part of the candidate string.\n    if (_typeof(args) === 'object' && args.candidate && args.candidate.indexOf('a=') === 0) {\n      args = JSON.parse(JSON.stringify(args));\n      args.candidate = args.candidate.substring(2);\n    }\n    if (args.candidate && args.candidate.length) {\n      // Augment the native candidate with the parsed fields.\n      var nativeCandidate = new NativeRTCIceCandidate(args);\n      var parsedCandidate = _sdp[\"default\"].parseCandidate(args.candidate);\n      for (var key in parsedCandidate) {\n        if (!(key in nativeCandidate)) {\n          Object.defineProperty(nativeCandidate, key, {\n            value: parsedCandidate[key]\n          });\n        }\n      }\n\n      // Override serializer to not serialize the extra attributes.\n      nativeCandidate.toJSON = function toJSON() {\n        return {\n          candidate: nativeCandidate.candidate,\n          sdpMid: nativeCandidate.sdpMid,\n          sdpMLineIndex: nativeCandidate.sdpMLineIndex,\n          usernameFragment: nativeCandidate.usernameFragment\n        };\n      };\n      return nativeCandidate;\n    }\n    return new NativeRTCIceCandidate(args);\n  };\n  window.RTCIceCandidate.prototype = NativeRTCIceCandidate.prototype;\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n    if (e.candidate) {\n      Object.defineProperty(e, 'candidate', {\n        value: new window.RTCIceCandidate(e.candidate),\n        writable: 'false'\n      });\n    }\n    return e;\n  });\n}\nfunction shimRTCIceCandidateRelayProtocol(window) {\n  if (!window.RTCIceCandidate || window.RTCIceCandidate && 'relayProtocol' in window.RTCIceCandidate.prototype) {\n    return;\n  }\n\n  // Hook up the augmented candidate in onicecandidate and\n  // addEventListener('icecandidate', ...)\n  utils.wrapPeerConnectionEvent(window, 'icecandidate', function (e) {\n    if (e.candidate) {\n      var parsedCandidate = _sdp[\"default\"].parseCandidate(e.candidate.candidate);\n      if (parsedCandidate.type === 'relay') {\n        // This is a libwebrtc-specific mapping of local type preference\n        // to relayProtocol.\n        e.candidate.relayProtocol = {\n          0: 'tls',\n          1: 'tcp',\n          2: 'udp'\n        }[parsedCandidate.priority >> 24];\n      }\n    }\n    return e;\n  });\n}\nfunction shimMaxMessageSize(window, browserDetails) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (!('sctp' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'sctp', {\n      get: function get() {\n        return typeof this._sctp === 'undefined' ? null : this._sctp;\n      }\n    });\n  }\n  var sctpInDescription = function sctpInDescription(description) {\n    if (!description || !description.sdp) {\n      return false;\n    }\n    var sections = _sdp[\"default\"].splitSections(description.sdp);\n    sections.shift();\n    return sections.some(function (mediaSection) {\n      var mLine = _sdp[\"default\"].parseMLine(mediaSection);\n      return mLine && mLine.kind === 'application' && mLine.protocol.indexOf('SCTP') !== -1;\n    });\n  };\n  var getRemoteFirefoxVersion = function getRemoteFirefoxVersion(description) {\n    // TODO: Is there a better solution for detecting Firefox?\n    var match = description.sdp.match(/mozilla...THIS_IS_SDPARTA-(\\d+)/);\n    if (match === null || match.length < 2) {\n      return -1;\n    }\n    var version = parseInt(match[1], 10);\n    // Test for NaN (yes, this is ugly)\n    return version !== version ? -1 : version;\n  };\n  var getCanSendMaxMessageSize = function getCanSendMaxMessageSize(remoteIsFirefox) {\n    // Every implementation we know can send at least 64 KiB.\n    // Note: Although Chrome is technically able to send up to 256 KiB, the\n    //       data does not reach the other peer reliably.\n    //       See: https://bugs.chromium.org/p/webrtc/issues/detail?id=8419\n    var canSendMaxMessageSize = 65536;\n    if (browserDetails.browser === 'firefox') {\n      if (browserDetails.version < 57) {\n        if (remoteIsFirefox === -1) {\n          // FF < 57 will send in 16 KiB chunks using the deprecated PPID\n          // fragmentation.\n          canSendMaxMessageSize = 16384;\n        } else {\n          // However, other FF (and RAWRTC) can reassemble PPID-fragmented\n          // messages. Thus, supporting ~2 GiB when sending.\n          canSendMaxMessageSize = 2147483637;\n        }\n      } else if (browserDetails.version < 60) {\n        // Currently, all FF >= 57 will reset the remote maximum message size\n        // to the default value when a data channel is created at a later\n        // stage. :(\n        // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n        canSendMaxMessageSize = browserDetails.version === 57 ? 65535 : 65536;\n      } else {\n        // FF >= 60 supports sending ~2 GiB\n        canSendMaxMessageSize = 2147483637;\n      }\n    }\n    return canSendMaxMessageSize;\n  };\n  var getMaxMessageSize = function getMaxMessageSize(description, remoteIsFirefox) {\n    // Note: 65536 bytes is the default value from the SDP spec. Also,\n    //       every implementation we know supports receiving 65536 bytes.\n    var maxMessageSize = 65536;\n\n    // FF 57 has a slightly incorrect default remote max message size, so\n    // we need to adjust it here to avoid a failure when sending.\n    // See: https://bugzilla.mozilla.org/show_bug.cgi?id=1425697\n    if (browserDetails.browser === 'firefox' && browserDetails.version === 57) {\n      maxMessageSize = 65535;\n    }\n    var match = _sdp[\"default\"].matchPrefix(description.sdp, 'a=max-message-size:');\n    if (match.length > 0) {\n      maxMessageSize = parseInt(match[0].substring(19), 10);\n    } else if (browserDetails.browser === 'firefox' && remoteIsFirefox !== -1) {\n      // If the maximum message size is not present in the remote SDP and\n      // both local and remote are Firefox, the remote peer can receive\n      // ~2 GiB.\n      maxMessageSize = 2147483637;\n    }\n    return maxMessageSize;\n  };\n  var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n    this._sctp = null;\n    // Chrome decided to not expose .sctp in plan-b mode.\n    // As usual, adapter.js has to do an 'ugly worakaround'\n    // to cover up the mess.\n    if (browserDetails.browser === 'chrome' && browserDetails.version >= 76) {\n      var _this$getConfiguratio = this.getConfiguration(),\n        sdpSemantics = _this$getConfiguratio.sdpSemantics;\n      if (sdpSemantics === 'plan-b') {\n        Object.defineProperty(this, 'sctp', {\n          get: function get() {\n            return typeof this._sctp === 'undefined' ? null : this._sctp;\n          },\n          enumerable: true,\n          configurable: true\n        });\n      }\n    }\n    if (sctpInDescription(arguments[0])) {\n      // Check if the remote is FF.\n      var isFirefox = getRemoteFirefoxVersion(arguments[0]);\n\n      // Get the maximum message size the local peer is capable of sending\n      var canSendMMS = getCanSendMaxMessageSize(isFirefox);\n\n      // Get the maximum message size of the remote peer.\n      var remoteMMS = getMaxMessageSize(arguments[0], isFirefox);\n\n      // Determine final maximum message size\n      var maxMessageSize;\n      if (canSendMMS === 0 && remoteMMS === 0) {\n        maxMessageSize = Number.POSITIVE_INFINITY;\n      } else if (canSendMMS === 0 || remoteMMS === 0) {\n        maxMessageSize = Math.max(canSendMMS, remoteMMS);\n      } else {\n        maxMessageSize = Math.min(canSendMMS, remoteMMS);\n      }\n\n      // Create a dummy RTCSctpTransport object and the 'maxMessageSize'\n      // attribute.\n      var sctp = {};\n      Object.defineProperty(sctp, 'maxMessageSize', {\n        get: function get() {\n          return maxMessageSize;\n        }\n      });\n      this._sctp = sctp;\n    }\n    return origSetRemoteDescription.apply(this, arguments);\n  };\n}\nfunction shimSendThrowTypeError(window) {\n  if (!(window.RTCPeerConnection && 'createDataChannel' in window.RTCPeerConnection.prototype)) {\n    return;\n  }\n\n  // Note: Although Firefox >= 57 has a native implementation, the maximum\n  //       message size can be reset for all data channels at a later stage.\n  //       See: https://bugzilla.mozilla.org/show_bug.cgi?id=1426831\n\n  function wrapDcSend(dc, pc) {\n    var origDataChannelSend = dc.send;\n    dc.send = function send() {\n      var data = arguments[0];\n      var length = data.length || data.size || data.byteLength;\n      if (dc.readyState === 'open' && pc.sctp && length > pc.sctp.maxMessageSize) {\n        throw new TypeError('Message too large (can send a maximum of ' + pc.sctp.maxMessageSize + ' bytes)');\n      }\n      return origDataChannelSend.apply(dc, arguments);\n    };\n  }\n  var origCreateDataChannel = window.RTCPeerConnection.prototype.createDataChannel;\n  window.RTCPeerConnection.prototype.createDataChannel = function createDataChannel() {\n    var dataChannel = origCreateDataChannel.apply(this, arguments);\n    wrapDcSend(dataChannel, this);\n    return dataChannel;\n  };\n  utils.wrapPeerConnectionEvent(window, 'datachannel', function (e) {\n    wrapDcSend(e.channel, e.target);\n    return e;\n  });\n}\n\n/* shims RTCConnectionState by pretending it is the same as iceConnectionState.\n * See https://bugs.chromium.org/p/webrtc/issues/detail?id=6145#c12\n * for why this is a valid hack in Chrome. In Firefox it is slightly incorrect\n * since DTLS failures would be hidden. See\n * https://bugzilla.mozilla.org/show_bug.cgi?id=1265827\n * for the Firefox tracking bug.\n */\nfunction shimConnectionState(window) {\n  if (!window.RTCPeerConnection || 'connectionState' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  Object.defineProperty(proto, 'connectionState', {\n    get: function get() {\n      return {\n        completed: 'connected',\n        checking: 'connecting'\n      }[this.iceConnectionState] || this.iceConnectionState;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(proto, 'onconnectionstatechange', {\n    get: function get() {\n      return this._onconnectionstatechange || null;\n    },\n    set: function set(cb) {\n      if (this._onconnectionstatechange) {\n        this.removeEventListener('connectionstatechange', this._onconnectionstatechange);\n        delete this._onconnectionstatechange;\n      }\n      if (cb) {\n        this.addEventListener('connectionstatechange', this._onconnectionstatechange = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n  ['setLocalDescription', 'setRemoteDescription'].forEach(function (method) {\n    var origMethod = proto[method];\n    proto[method] = function () {\n      if (!this._connectionstatechangepoly) {\n        this._connectionstatechangepoly = function (e) {\n          var pc = e.target;\n          if (pc._lastConnectionState !== pc.connectionState) {\n            pc._lastConnectionState = pc.connectionState;\n            var newEvent = new Event('connectionstatechange', e);\n            pc.dispatchEvent(newEvent);\n          }\n          return e;\n        };\n        this.addEventListener('iceconnectionstatechange', this._connectionstatechangepoly);\n      }\n      return origMethod.apply(this, arguments);\n    };\n  });\n}\nfunction removeExtmapAllowMixed(window, browserDetails) {\n  /* remove a=extmap-allow-mixed for webrtc.org < M71 */\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  if (browserDetails.browser === 'chrome' && browserDetails.version >= 71) {\n    return;\n  }\n  if (browserDetails.browser === 'safari' && browserDetails.version >= 605) {\n    return;\n  }\n  var nativeSRD = window.RTCPeerConnection.prototype.setRemoteDescription;\n  window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription(desc) {\n    if (desc && desc.sdp && desc.sdp.indexOf('\\na=extmap-allow-mixed') !== -1) {\n      var sdp = desc.sdp.split('\\n').filter(function (line) {\n        return line.trim() !== 'a=extmap-allow-mixed';\n      }).join('\\n');\n      // Safari enforces read-only-ness of RTCSessionDescription fields.\n      if (window.RTCSessionDescription && desc instanceof window.RTCSessionDescription) {\n        arguments[0] = new window.RTCSessionDescription({\n          type: desc.type,\n          sdp: sdp\n        });\n      } else {\n        desc.sdp = sdp;\n      }\n    }\n    return nativeSRD.apply(this, arguments);\n  };\n}\nfunction shimAddIceCandidateNullOrEmpty(window, browserDetails) {\n  // Support for addIceCandidate(null or undefined)\n  // as well as addIceCandidate({candidate: \"\", ...})\n  // https://bugs.chromium.org/p/chromium/issues/detail?id=978582\n  // Note: must be called before other polyfills which change the signature.\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  var nativeAddIceCandidate = window.RTCPeerConnection.prototype.addIceCandidate;\n  if (!nativeAddIceCandidate || nativeAddIceCandidate.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.addIceCandidate = function addIceCandidate() {\n    if (!arguments[0]) {\n      if (arguments[1]) {\n        arguments[1].apply(null);\n      }\n      return Promise.resolve();\n    }\n    // Firefox 68+ emits and processes {candidate: \"\", ...}, ignore\n    // in older versions.\n    // Native support for ignoring exists for Chrome M77+.\n    // Safari ignores as well, exact version unknown but works in the same\n    // version that also ignores addIceCandidate(null).\n    if ((browserDetails.browser === 'chrome' && browserDetails.version < 78 || browserDetails.browser === 'firefox' && browserDetails.version < 68 || browserDetails.browser === 'safari') && arguments[0] && arguments[0].candidate === '') {\n      return Promise.resolve();\n    }\n    return nativeAddIceCandidate.apply(this, arguments);\n  };\n}\n\n// Note: Make sure to call this ahead of APIs that modify\n// setLocalDescription.length\nfunction shimParameterlessSetLocalDescription(window, browserDetails) {\n  if (!(window.RTCPeerConnection && window.RTCPeerConnection.prototype)) {\n    return;\n  }\n  var nativeSetLocalDescription = window.RTCPeerConnection.prototype.setLocalDescription;\n  if (!nativeSetLocalDescription || nativeSetLocalDescription.length === 0) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.setLocalDescription = function setLocalDescription() {\n    var _this = this;\n    var desc = arguments[0] || {};\n    if (_typeof(desc) !== 'object' || desc.type && desc.sdp) {\n      return nativeSetLocalDescription.apply(this, arguments);\n    }\n    // The remaining steps should technically happen when SLD comes off the\n    // RTCPeerConnection's operations chain (not ahead of going on it), but\n    // this is too difficult to shim. Instead, this shim only covers the\n    // common case where the operations chain is empty. This is imperfect, but\n    // should cover many cases. Rationale: Even if we can't reduce the glare\n    // window to zero on imperfect implementations, there's value in tapping\n    // into the perfect negotiation pattern that several browsers support.\n    desc = {\n      type: desc.type,\n      sdp: desc.sdp\n    };\n    if (!desc.type) {\n      switch (this.signalingState) {\n        case 'stable':\n        case 'have-local-offer':\n        case 'have-remote-pranswer':\n          desc.type = 'offer';\n          break;\n        default:\n          desc.type = 'answer';\n          break;\n      }\n    }\n    if (desc.sdp || desc.type !== 'offer' && desc.type !== 'answer') {\n      return nativeSetLocalDescription.apply(this, [desc]);\n    }\n    var func = desc.type === 'offer' ? this.createOffer : this.createAnswer;\n    return func.apply(this).then(function (d) {\n      return nativeSetLocalDescription.apply(_this, [d]);\n    });\n  };\n}\n\n},{\"./utils\":11,\"sdp\":12}],7:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimAddTransceiver = shimAddTransceiver;\nexports.shimCreateAnswer = shimCreateAnswer;\nexports.shimCreateOffer = shimCreateOffer;\nObject.defineProperty(exports, \"shimGetDisplayMedia\", {\n  enumerable: true,\n  get: function get() {\n    return _getdisplaymedia.shimGetDisplayMedia;\n  }\n});\nexports.shimGetParameters = shimGetParameters;\nObject.defineProperty(exports, \"shimGetUserMedia\", {\n  enumerable: true,\n  get: function get() {\n    return _getusermedia.shimGetUserMedia;\n  }\n});\nexports.shimOnTrack = shimOnTrack;\nexports.shimPeerConnection = shimPeerConnection;\nexports.shimRTCDataChannel = shimRTCDataChannel;\nexports.shimReceiverGetStats = shimReceiverGetStats;\nexports.shimRemoveStream = shimRemoveStream;\nexports.shimSenderGetStats = shimSenderGetStats;\nvar utils = _interopRequireWildcard(require(\"../utils\"));\nvar _getusermedia = require(\"./getusermedia\");\nvar _getdisplaymedia = require(\"./getdisplaymedia\");\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i]; return arr2; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction shimOnTrack(window) {\n  if (_typeof(window) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n}\nfunction shimPeerConnection(window, browserDetails) {\n  if (_typeof(window) !== 'object' || !(window.RTCPeerConnection || window.mozRTCPeerConnection)) {\n    return; // probably media.peerconnection.enabled=false in about:config\n  }\n\n  if (!window.RTCPeerConnection && window.mozRTCPeerConnection) {\n    // very basic support for old versions.\n    window.RTCPeerConnection = window.mozRTCPeerConnection;\n  }\n  if (browserDetails.version < 53) {\n    // shim away need for obsolete RTCIceCandidate/RTCSessionDescription.\n    ['setLocalDescription', 'setRemoteDescription', 'addIceCandidate'].forEach(function (method) {\n      var nativeMethod = window.RTCPeerConnection.prototype[method];\n      var methodObj = _defineProperty({}, method, function () {\n        arguments[0] = new (method === 'addIceCandidate' ? window.RTCIceCandidate : window.RTCSessionDescription)(arguments[0]);\n        return nativeMethod.apply(this, arguments);\n      });\n      window.RTCPeerConnection.prototype[method] = methodObj[method];\n    });\n  }\n  var modernStatsTypes = {\n    inboundrtp: 'inbound-rtp',\n    outboundrtp: 'outbound-rtp',\n    candidatepair: 'candidate-pair',\n    localcandidate: 'local-candidate',\n    remotecandidate: 'remote-candidate'\n  };\n  var nativeGetStats = window.RTCPeerConnection.prototype.getStats;\n  window.RTCPeerConnection.prototype.getStats = function getStats() {\n    var _arguments = Array.prototype.slice.call(arguments),\n      selector = _arguments[0],\n      onSucc = _arguments[1],\n      onErr = _arguments[2];\n    return nativeGetStats.apply(this, [selector || null]).then(function (stats) {\n      if (browserDetails.version < 53 && !onSucc) {\n        // Shim only promise getStats with spec-hyphens in type names\n        // Leave callback version alone; misc old uses of forEach before Map\n        try {\n          stats.forEach(function (stat) {\n            stat.type = modernStatsTypes[stat.type] || stat.type;\n          });\n        } catch (e) {\n          if (e.name !== 'TypeError') {\n            throw e;\n          }\n          // Avoid TypeError: \"type\" is read-only, in old versions. 34-43ish\n          stats.forEach(function (stat, i) {\n            stats.set(i, Object.assign({}, stat, {\n              type: modernStatsTypes[stat.type] || stat.type\n            }));\n          });\n        }\n      }\n      return stats;\n    }).then(onSucc, onErr);\n  };\n}\nfunction shimSenderGetStats(window) {\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpSender.prototype) {\n    return;\n  }\n  var origGetSenders = window.RTCPeerConnection.prototype.getSenders;\n  if (origGetSenders) {\n    window.RTCPeerConnection.prototype.getSenders = function getSenders() {\n      var _this = this;\n      var senders = origGetSenders.apply(this, []);\n      senders.forEach(function (sender) {\n        return sender._pc = _this;\n      });\n      return senders;\n    };\n  }\n  var origAddTrack = window.RTCPeerConnection.prototype.addTrack;\n  if (origAddTrack) {\n    window.RTCPeerConnection.prototype.addTrack = function addTrack() {\n      var sender = origAddTrack.apply(this, arguments);\n      sender._pc = this;\n      return sender;\n    };\n  }\n  window.RTCRtpSender.prototype.getStats = function getStats() {\n    return this.track ? this._pc.getStats(this.track) : Promise.resolve(new Map());\n  };\n}\nfunction shimReceiverGetStats(window) {\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection && window.RTCRtpSender)) {\n    return;\n  }\n  if (window.RTCRtpSender && 'getStats' in window.RTCRtpReceiver.prototype) {\n    return;\n  }\n  var origGetReceivers = window.RTCPeerConnection.prototype.getReceivers;\n  if (origGetReceivers) {\n    window.RTCPeerConnection.prototype.getReceivers = function getReceivers() {\n      var _this2 = this;\n      var receivers = origGetReceivers.apply(this, []);\n      receivers.forEach(function (receiver) {\n        return receiver._pc = _this2;\n      });\n      return receivers;\n    };\n  }\n  utils.wrapPeerConnectionEvent(window, 'track', function (e) {\n    e.receiver._pc = e.srcElement;\n    return e;\n  });\n  window.RTCRtpReceiver.prototype.getStats = function getStats() {\n    return this._pc.getStats(this.track);\n  };\n}\nfunction shimRemoveStream(window) {\n  if (!window.RTCPeerConnection || 'removeStream' in window.RTCPeerConnection.prototype) {\n    return;\n  }\n  window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n    var _this3 = this;\n    utils.deprecated('removeStream', 'removeTrack');\n    this.getSenders().forEach(function (sender) {\n      if (sender.track && stream.getTracks().includes(sender.track)) {\n        _this3.removeTrack(sender);\n      }\n    });\n  };\n}\nfunction shimRTCDataChannel(window) {\n  // rename DataChannel to RTCDataChannel (native fix in FF60):\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1173851\n  if (window.DataChannel && !window.RTCDataChannel) {\n    window.RTCDataChannel = window.DataChannel;\n  }\n}\nfunction shimAddTransceiver(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origAddTransceiver = window.RTCPeerConnection.prototype.addTransceiver;\n  if (origAddTransceiver) {\n    window.RTCPeerConnection.prototype.addTransceiver = function addTransceiver() {\n      this.setParametersPromises = [];\n      // WebIDL input coercion and validation\n      var sendEncodings = arguments[1] && arguments[1].sendEncodings;\n      if (sendEncodings === undefined) {\n        sendEncodings = [];\n      }\n      sendEncodings = _toConsumableArray(sendEncodings);\n      var shouldPerformCheck = sendEncodings.length > 0;\n      if (shouldPerformCheck) {\n        // If sendEncodings params are provided, validate grammar\n        sendEncodings.forEach(function (encodingParam) {\n          if ('rid' in encodingParam) {\n            var ridRegex = /^[a-z0-9]{0,16}$/i;\n            if (!ridRegex.test(encodingParam.rid)) {\n              throw new TypeError('Invalid RID value provided.');\n            }\n          }\n          if ('scaleResolutionDownBy' in encodingParam) {\n            if (!(parseFloat(encodingParam.scaleResolutionDownBy) >= 1.0)) {\n              throw new RangeError('scale_resolution_down_by must be >= 1.0');\n            }\n          }\n          if ('maxFramerate' in encodingParam) {\n            if (!(parseFloat(encodingParam.maxFramerate) >= 0)) {\n              throw new RangeError('max_framerate must be >= 0.0');\n            }\n          }\n        });\n      }\n      var transceiver = origAddTransceiver.apply(this, arguments);\n      if (shouldPerformCheck) {\n        // Check if the init options were applied. If not we do this in an\n        // asynchronous way and save the promise reference in a global object.\n        // This is an ugly hack, but at the same time is way more robust than\n        // checking the sender parameters before and after the createOffer\n        // Also note that after the createoffer we are not 100% sure that\n        // the params were asynchronously applied so we might miss the\n        // opportunity to recreate offer.\n        var sender = transceiver.sender;\n        var params = sender.getParameters();\n        if (!('encodings' in params) ||\n        // Avoid being fooled by patched getParameters() below.\n        params.encodings.length === 1 && Object.keys(params.encodings[0]).length === 0) {\n          params.encodings = sendEncodings;\n          sender.sendEncodings = sendEncodings;\n          this.setParametersPromises.push(sender.setParameters(params).then(function () {\n            delete sender.sendEncodings;\n          })[\"catch\"](function () {\n            delete sender.sendEncodings;\n          }));\n        }\n      }\n      return transceiver;\n    };\n  }\n}\nfunction shimGetParameters(window) {\n  if (!(_typeof(window) === 'object' && window.RTCRtpSender)) {\n    return;\n  }\n  var origGetParameters = window.RTCRtpSender.prototype.getParameters;\n  if (origGetParameters) {\n    window.RTCRtpSender.prototype.getParameters = function getParameters() {\n      var params = origGetParameters.apply(this, arguments);\n      if (!('encodings' in params)) {\n        params.encodings = [].concat(this.sendEncodings || [{}]);\n      }\n      return params;\n    };\n  }\n}\nfunction shimCreateOffer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer() {\n    var _arguments2 = arguments,\n      _this4 = this;\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateOffer.apply(_this4, _arguments2);\n      })[\"finally\"](function () {\n        _this4.setParametersPromises = [];\n      });\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\nfunction shimCreateAnswer(window) {\n  // https://github.com/webrtcHacks/adapter/issues/998#issuecomment-516921647\n  // Firefox ignores the init sendEncodings options passed to addTransceiver\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=1396918\n  if (!(_typeof(window) === 'object' && window.RTCPeerConnection)) {\n    return;\n  }\n  var origCreateAnswer = window.RTCPeerConnection.prototype.createAnswer;\n  window.RTCPeerConnection.prototype.createAnswer = function createAnswer() {\n    var _arguments3 = arguments,\n      _this5 = this;\n    if (this.setParametersPromises && this.setParametersPromises.length) {\n      return Promise.all(this.setParametersPromises).then(function () {\n        return origCreateAnswer.apply(_this5, _arguments3);\n      })[\"finally\"](function () {\n        _this5.setParametersPromises = [];\n      });\n    }\n    return origCreateAnswer.apply(this, arguments);\n  };\n}\n\n},{\"../utils\":11,\"./getdisplaymedia\":8,\"./getusermedia\":9}],8:[function(require,module,exports){\n/*\n *  Copyright (c) 2018 The adapter.js project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetDisplayMedia = shimGetDisplayMedia;\nfunction shimGetDisplayMedia(window, preferredMediaSource) {\n  if (window.navigator.mediaDevices && 'getDisplayMedia' in window.navigator.mediaDevices) {\n    return;\n  }\n  if (!window.navigator.mediaDevices) {\n    return;\n  }\n  window.navigator.mediaDevices.getDisplayMedia = function getDisplayMedia(constraints) {\n    if (!(constraints && constraints.video)) {\n      var err = new DOMException('getDisplayMedia without video ' + 'constraints is undefined');\n      err.name = 'NotFoundError';\n      // from https://heycam.github.io/webidl/#idl-DOMException-error-names\n      err.code = 8;\n      return Promise.reject(err);\n    }\n    if (constraints.video === true) {\n      constraints.video = {\n        mediaSource: preferredMediaSource\n      };\n    } else {\n      constraints.video.mediaSource = preferredMediaSource;\n    }\n    return window.navigator.mediaDevices.getUserMedia(constraints);\n  };\n}\n\n},{}],9:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimGetUserMedia = shimGetUserMedia;\nvar utils = _interopRequireWildcard(require(\"../utils\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction shimGetUserMedia(window, browserDetails) {\n  var navigator = window && window.navigator;\n  var MediaStreamTrack = window && window.MediaStreamTrack;\n  navigator.getUserMedia = function (constraints, onSuccess, onError) {\n    // Replace Firefox 44+'s deprecation warning with unprefixed version.\n    utils.deprecated('navigator.getUserMedia', 'navigator.mediaDevices.getUserMedia');\n    navigator.mediaDevices.getUserMedia(constraints).then(onSuccess, onError);\n  };\n  if (!(browserDetails.version > 55 && 'autoGainControl' in navigator.mediaDevices.getSupportedConstraints())) {\n    var remap = function remap(obj, a, b) {\n      if (a in obj && !(b in obj)) {\n        obj[b] = obj[a];\n        delete obj[a];\n      }\n    };\n    var nativeGetUserMedia = navigator.mediaDevices.getUserMedia.bind(navigator.mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (c) {\n      if (_typeof(c) === 'object' && _typeof(c.audio) === 'object') {\n        c = JSON.parse(JSON.stringify(c));\n        remap(c.audio, 'autoGainControl', 'mozAutoGainControl');\n        remap(c.audio, 'noiseSuppression', 'mozNoiseSuppression');\n      }\n      return nativeGetUserMedia(c);\n    };\n    if (MediaStreamTrack && MediaStreamTrack.prototype.getSettings) {\n      var nativeGetSettings = MediaStreamTrack.prototype.getSettings;\n      MediaStreamTrack.prototype.getSettings = function () {\n        var obj = nativeGetSettings.apply(this, arguments);\n        remap(obj, 'mozAutoGainControl', 'autoGainControl');\n        remap(obj, 'mozNoiseSuppression', 'noiseSuppression');\n        return obj;\n      };\n    }\n    if (MediaStreamTrack && MediaStreamTrack.prototype.applyConstraints) {\n      var nativeApplyConstraints = MediaStreamTrack.prototype.applyConstraints;\n      MediaStreamTrack.prototype.applyConstraints = function (c) {\n        if (this.kind === 'audio' && _typeof(c) === 'object') {\n          c = JSON.parse(JSON.stringify(c));\n          remap(c, 'autoGainControl', 'mozAutoGainControl');\n          remap(c, 'noiseSuppression', 'mozNoiseSuppression');\n        }\n        return nativeApplyConstraints.apply(this, [c]);\n      };\n    }\n  }\n}\n\n},{\"../utils\":11}],10:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.shimAudioContext = shimAudioContext;\nexports.shimCallbacksAPI = shimCallbacksAPI;\nexports.shimConstraints = shimConstraints;\nexports.shimCreateOfferLegacy = shimCreateOfferLegacy;\nexports.shimGetUserMedia = shimGetUserMedia;\nexports.shimLocalStreamsAPI = shimLocalStreamsAPI;\nexports.shimRTCIceServerUrls = shimRTCIceServerUrls;\nexports.shimRemoteStreamsAPI = shimRemoteStreamsAPI;\nexports.shimTrackEventTransceiver = shimTrackEventTransceiver;\nvar utils = _interopRequireWildcard(require(\"../utils\"));\nfunction _getRequireWildcardCache(nodeInterop) { if (typeof WeakMap !== \"function\") return null; var cacheBabelInterop = new WeakMap(); var cacheNodeInterop = new WeakMap(); return (_getRequireWildcardCache = function _getRequireWildcardCache(nodeInterop) { return nodeInterop ? cacheNodeInterop : cacheBabelInterop; })(nodeInterop); }\nfunction _interopRequireWildcard(obj, nodeInterop) { if (!nodeInterop && obj && obj.__esModule) { return obj; } if (obj === null || _typeof(obj) !== \"object\" && typeof obj !== \"function\") { return { \"default\": obj }; } var cache = _getRequireWildcardCache(nodeInterop); if (cache && cache.has(obj)) { return cache.get(obj); } var newObj = {}; var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor; for (var key in obj) { if (key !== \"default\" && Object.prototype.hasOwnProperty.call(obj, key)) { var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null; if (desc && (desc.get || desc.set)) { Object.defineProperty(newObj, key, desc); } else { newObj[key] = obj[key]; } } } newObj[\"default\"] = obj; if (cache) { cache.set(obj, newObj); } return newObj; }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nfunction shimLocalStreamsAPI(window) {\n  if (_typeof(window) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getLocalStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getLocalStreams = function getLocalStreams() {\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      return this._localStreams;\n    };\n  }\n  if (!('addStream' in window.RTCPeerConnection.prototype)) {\n    var _addTrack = window.RTCPeerConnection.prototype.addTrack;\n    window.RTCPeerConnection.prototype.addStream = function addStream(stream) {\n      var _this = this;\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      if (!this._localStreams.includes(stream)) {\n        this._localStreams.push(stream);\n      }\n      // Try to emulate Chrome's behaviour of adding in audio-video order.\n      // Safari orders by track id.\n      stream.getAudioTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n      stream.getVideoTracks().forEach(function (track) {\n        return _addTrack.call(_this, track, stream);\n      });\n    };\n    window.RTCPeerConnection.prototype.addTrack = function addTrack(track) {\n      var _this2 = this;\n      for (var _len = arguments.length, streams = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        streams[_key - 1] = arguments[_key];\n      }\n      if (streams) {\n        streams.forEach(function (stream) {\n          if (!_this2._localStreams) {\n            _this2._localStreams = [stream];\n          } else if (!_this2._localStreams.includes(stream)) {\n            _this2._localStreams.push(stream);\n          }\n        });\n      }\n      return _addTrack.apply(this, arguments);\n    };\n  }\n  if (!('removeStream' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.removeStream = function removeStream(stream) {\n      var _this3 = this;\n      if (!this._localStreams) {\n        this._localStreams = [];\n      }\n      var index = this._localStreams.indexOf(stream);\n      if (index === -1) {\n        return;\n      }\n      this._localStreams.splice(index, 1);\n      var tracks = stream.getTracks();\n      this.getSenders().forEach(function (sender) {\n        if (tracks.includes(sender.track)) {\n          _this3.removeTrack(sender);\n        }\n      });\n    };\n  }\n}\nfunction shimRemoteStreamsAPI(window) {\n  if (_typeof(window) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  if (!('getRemoteStreams' in window.RTCPeerConnection.prototype)) {\n    window.RTCPeerConnection.prototype.getRemoteStreams = function getRemoteStreams() {\n      return this._remoteStreams ? this._remoteStreams : [];\n    };\n  }\n  if (!('onaddstream' in window.RTCPeerConnection.prototype)) {\n    Object.defineProperty(window.RTCPeerConnection.prototype, 'onaddstream', {\n      get: function get() {\n        return this._onaddstream;\n      },\n      set: function set(f) {\n        var _this4 = this;\n        if (this._onaddstream) {\n          this.removeEventListener('addstream', this._onaddstream);\n          this.removeEventListener('track', this._onaddstreampoly);\n        }\n        this.addEventListener('addstream', this._onaddstream = f);\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!_this4._remoteStreams) {\n              _this4._remoteStreams = [];\n            }\n            if (_this4._remoteStreams.includes(stream)) {\n              return;\n            }\n            _this4._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            _this4.dispatchEvent(event);\n          });\n        });\n      }\n    });\n    var origSetRemoteDescription = window.RTCPeerConnection.prototype.setRemoteDescription;\n    window.RTCPeerConnection.prototype.setRemoteDescription = function setRemoteDescription() {\n      var pc = this;\n      if (!this._onaddstreampoly) {\n        this.addEventListener('track', this._onaddstreampoly = function (e) {\n          e.streams.forEach(function (stream) {\n            if (!pc._remoteStreams) {\n              pc._remoteStreams = [];\n            }\n            if (pc._remoteStreams.indexOf(stream) >= 0) {\n              return;\n            }\n            pc._remoteStreams.push(stream);\n            var event = new Event('addstream');\n            event.stream = stream;\n            pc.dispatchEvent(event);\n          });\n        });\n      }\n      return origSetRemoteDescription.apply(pc, arguments);\n    };\n  }\n}\nfunction shimCallbacksAPI(window) {\n  if (_typeof(window) !== 'object' || !window.RTCPeerConnection) {\n    return;\n  }\n  var prototype = window.RTCPeerConnection.prototype;\n  var origCreateOffer = prototype.createOffer;\n  var origCreateAnswer = prototype.createAnswer;\n  var setLocalDescription = prototype.setLocalDescription;\n  var setRemoteDescription = prototype.setRemoteDescription;\n  var addIceCandidate = prototype.addIceCandidate;\n  prototype.createOffer = function createOffer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateOffer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.createAnswer = function createAnswer(successCallback, failureCallback) {\n    var options = arguments.length >= 2 ? arguments[2] : arguments[0];\n    var promise = origCreateAnswer.apply(this, [options]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  var withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setLocalDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setLocalDescription = withCallback;\n  withCallback = function withCallback(description, successCallback, failureCallback) {\n    var promise = setRemoteDescription.apply(this, [description]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.setRemoteDescription = withCallback;\n  withCallback = function withCallback(candidate, successCallback, failureCallback) {\n    var promise = addIceCandidate.apply(this, [candidate]);\n    if (!failureCallback) {\n      return promise;\n    }\n    promise.then(successCallback, failureCallback);\n    return Promise.resolve();\n  };\n  prototype.addIceCandidate = withCallback;\n}\nfunction shimGetUserMedia(window) {\n  var navigator = window && window.navigator;\n  if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    // shim not needed in Safari 12.1\n    var mediaDevices = navigator.mediaDevices;\n    var _getUserMedia = mediaDevices.getUserMedia.bind(mediaDevices);\n    navigator.mediaDevices.getUserMedia = function (constraints) {\n      return _getUserMedia(shimConstraints(constraints));\n    };\n  }\n  if (!navigator.getUserMedia && navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n    navigator.getUserMedia = function getUserMedia(constraints, cb, errcb) {\n      navigator.mediaDevices.getUserMedia(constraints).then(cb, errcb);\n    }.bind(navigator);\n  }\n}\nfunction shimConstraints(constraints) {\n  if (constraints && constraints.video !== undefined) {\n    return Object.assign({}, constraints, {\n      video: utils.compactObject(constraints.video)\n    });\n  }\n  return constraints;\n}\nfunction shimRTCIceServerUrls(window) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  // migrate from non-spec RTCIceServer.url to RTCIceServer.urls\n  var OrigPeerConnection = window.RTCPeerConnection;\n  window.RTCPeerConnection = function RTCPeerConnection(pcConfig, pcConstraints) {\n    if (pcConfig && pcConfig.iceServers) {\n      var newIceServers = [];\n      for (var i = 0; i < pcConfig.iceServers.length; i++) {\n        var server = pcConfig.iceServers[i];\n        if (server.urls === undefined && server.url) {\n          utils.deprecated('RTCIceServer.url', 'RTCIceServer.urls');\n          server = JSON.parse(JSON.stringify(server));\n          server.urls = server.url;\n          delete server.url;\n          newIceServers.push(server);\n        } else {\n          newIceServers.push(pcConfig.iceServers[i]);\n        }\n      }\n      pcConfig.iceServers = newIceServers;\n    }\n    return new OrigPeerConnection(pcConfig, pcConstraints);\n  };\n  window.RTCPeerConnection.prototype = OrigPeerConnection.prototype;\n  // wrap static methods. Currently just generateCertificate.\n  if ('generateCertificate' in OrigPeerConnection) {\n    Object.defineProperty(window.RTCPeerConnection, 'generateCertificate', {\n      get: function get() {\n        return OrigPeerConnection.generateCertificate;\n      }\n    });\n  }\n}\nfunction shimTrackEventTransceiver(window) {\n  // Add event.transceiver member over deprecated event.receiver\n  if (_typeof(window) === 'object' && window.RTCTrackEvent && 'receiver' in window.RTCTrackEvent.prototype && !('transceiver' in window.RTCTrackEvent.prototype)) {\n    Object.defineProperty(window.RTCTrackEvent.prototype, 'transceiver', {\n      get: function get() {\n        return {\n          receiver: this.receiver\n        };\n      }\n    });\n  }\n}\nfunction shimCreateOfferLegacy(window) {\n  var origCreateOffer = window.RTCPeerConnection.prototype.createOffer;\n  window.RTCPeerConnection.prototype.createOffer = function createOffer(offerOptions) {\n    if (offerOptions) {\n      if (typeof offerOptions.offerToReceiveAudio !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveAudio = !!offerOptions.offerToReceiveAudio;\n      }\n      var audioTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'audio';\n      });\n      if (offerOptions.offerToReceiveAudio === false && audioTransceiver) {\n        if (audioTransceiver.direction === 'sendrecv') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('sendonly');\n          } else {\n            audioTransceiver.direction = 'sendonly';\n          }\n        } else if (audioTransceiver.direction === 'recvonly') {\n          if (audioTransceiver.setDirection) {\n            audioTransceiver.setDirection('inactive');\n          } else {\n            audioTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveAudio === true && !audioTransceiver) {\n        this.addTransceiver('audio', {\n          direction: 'recvonly'\n        });\n      }\n      if (typeof offerOptions.offerToReceiveVideo !== 'undefined') {\n        // support bit values\n        offerOptions.offerToReceiveVideo = !!offerOptions.offerToReceiveVideo;\n      }\n      var videoTransceiver = this.getTransceivers().find(function (transceiver) {\n        return transceiver.receiver.track.kind === 'video';\n      });\n      if (offerOptions.offerToReceiveVideo === false && videoTransceiver) {\n        if (videoTransceiver.direction === 'sendrecv') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('sendonly');\n          } else {\n            videoTransceiver.direction = 'sendonly';\n          }\n        } else if (videoTransceiver.direction === 'recvonly') {\n          if (videoTransceiver.setDirection) {\n            videoTransceiver.setDirection('inactive');\n          } else {\n            videoTransceiver.direction = 'inactive';\n          }\n        }\n      } else if (offerOptions.offerToReceiveVideo === true && !videoTransceiver) {\n        this.addTransceiver('video', {\n          direction: 'recvonly'\n        });\n      }\n    }\n    return origCreateOffer.apply(this, arguments);\n  };\n}\nfunction shimAudioContext(window) {\n  if (_typeof(window) !== 'object' || window.AudioContext) {\n    return;\n  }\n  window.AudioContext = window.webkitAudioContext;\n}\n\n},{\"../utils\":11}],11:[function(require,module,exports){\n/*\n *  Copyright (c) 2016 The WebRTC project authors. All Rights Reserved.\n *\n *  Use of this source code is governed by a BSD-style license\n *  that can be found in the LICENSE file in the root of the source\n *  tree.\n */\n/* eslint-env node */\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.compactObject = compactObject;\nexports.deprecated = deprecated;\nexports.detectBrowser = detectBrowser;\nexports.disableLog = disableLog;\nexports.disableWarnings = disableWarnings;\nexports.extractVersion = extractVersion;\nexports.filterStats = filterStats;\nexports.log = log;\nexports.walkStats = walkStats;\nexports.wrapPeerConnectionEvent = wrapPeerConnectionEvent;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return _typeof(key) === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (_typeof(input) !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (_typeof(res) !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\nvar logDisabled_ = true;\nvar deprecationWarnings_ = true;\n\n/**\n * Extract browser version out of the provided user agent string.\n *\n * @param {!string} uastring userAgent string.\n * @param {!string} expr Regular expression used as match criteria.\n * @param {!number} pos position in the version string to be returned.\n * @return {!number} browser version.\n */\nfunction extractVersion(uastring, expr, pos) {\n  var match = uastring.match(expr);\n  return match && match.length >= pos && parseInt(match[pos], 10);\n}\n\n// Wraps the peerconnection event eventNameToWrap in a function\n// which returns the modified event object (or false to prevent\n// the event).\nfunction wrapPeerConnectionEvent(window, eventNameToWrap, wrapper) {\n  if (!window.RTCPeerConnection) {\n    return;\n  }\n  var proto = window.RTCPeerConnection.prototype;\n  var nativeAddEventListener = proto.addEventListener;\n  proto.addEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap) {\n      return nativeAddEventListener.apply(this, arguments);\n    }\n    var wrappedCallback = function wrappedCallback(e) {\n      var modifiedEvent = wrapper(e);\n      if (modifiedEvent) {\n        if (cb.handleEvent) {\n          cb.handleEvent(modifiedEvent);\n        } else {\n          cb(modifiedEvent);\n        }\n      }\n    };\n    this._eventMap = this._eventMap || {};\n    if (!this._eventMap[eventNameToWrap]) {\n      this._eventMap[eventNameToWrap] = new Map();\n    }\n    this._eventMap[eventNameToWrap].set(cb, wrappedCallback);\n    return nativeAddEventListener.apply(this, [nativeEventName, wrappedCallback]);\n  };\n  var nativeRemoveEventListener = proto.removeEventListener;\n  proto.removeEventListener = function (nativeEventName, cb) {\n    if (nativeEventName !== eventNameToWrap || !this._eventMap || !this._eventMap[eventNameToWrap]) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    if (!this._eventMap[eventNameToWrap].has(cb)) {\n      return nativeRemoveEventListener.apply(this, arguments);\n    }\n    var unwrappedCb = this._eventMap[eventNameToWrap].get(cb);\n    this._eventMap[eventNameToWrap][\"delete\"](cb);\n    if (this._eventMap[eventNameToWrap].size === 0) {\n      delete this._eventMap[eventNameToWrap];\n    }\n    if (Object.keys(this._eventMap).length === 0) {\n      delete this._eventMap;\n    }\n    return nativeRemoveEventListener.apply(this, [nativeEventName, unwrappedCb]);\n  };\n  Object.defineProperty(proto, 'on' + eventNameToWrap, {\n    get: function get() {\n      return this['_on' + eventNameToWrap];\n    },\n    set: function set(cb) {\n      if (this['_on' + eventNameToWrap]) {\n        this.removeEventListener(eventNameToWrap, this['_on' + eventNameToWrap]);\n        delete this['_on' + eventNameToWrap];\n      }\n      if (cb) {\n        this.addEventListener(eventNameToWrap, this['_on' + eventNameToWrap] = cb);\n      }\n    },\n    enumerable: true,\n    configurable: true\n  });\n}\nfunction disableLog(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + _typeof(bool) + '. Please use a boolean.');\n  }\n  logDisabled_ = bool;\n  return bool ? 'adapter.js logging disabled' : 'adapter.js logging enabled';\n}\n\n/**\n * Disable or enable deprecation warnings\n * @param {!boolean} bool set to true to disable warnings.\n */\nfunction disableWarnings(bool) {\n  if (typeof bool !== 'boolean') {\n    return new Error('Argument type: ' + _typeof(bool) + '. Please use a boolean.');\n  }\n  deprecationWarnings_ = !bool;\n  return 'adapter.js deprecation warnings ' + (bool ? 'disabled' : 'enabled');\n}\nfunction log() {\n  if ((typeof window === \"undefined\" ? \"undefined\" : _typeof(window)) === 'object') {\n    if (logDisabled_) {\n      return;\n    }\n    if (typeof console !== 'undefined' && typeof console.log === 'function') {\n      console.log.apply(console, arguments);\n    }\n  }\n}\n\n/**\n * Shows a deprecation warning suggesting the modern and spec-compatible API.\n */\nfunction deprecated(oldMethod, newMethod) {\n  if (!deprecationWarnings_) {\n    return;\n  }\n  console.warn(oldMethod + ' is deprecated, please use ' + newMethod + ' instead.');\n}\n\n/**\n * Browser detector.\n *\n * @return {object} result containing browser and version\n *     properties.\n */\nfunction detectBrowser(window) {\n  // Returned result object.\n  var result = {\n    browser: null,\n    version: null\n  };\n\n  // Fail early if it's not a browser\n  if (typeof window === 'undefined' || !window.navigator || !window.navigator.userAgent) {\n    result.browser = 'Not a browser.';\n    return result;\n  }\n  var navigator = window.navigator;\n  if (navigator.mozGetUserMedia) {\n    // Firefox.\n    result.browser = 'firefox';\n    result.version = extractVersion(navigator.userAgent, /Firefox\\/(\\d+)\\./, 1);\n  } else if (navigator.webkitGetUserMedia || window.isSecureContext === false && window.webkitRTCPeerConnection) {\n    // Chrome, Chromium, Webview, Opera.\n    // Version matches Chrome/WebRTC version.\n    // Chrome 74 removed webkitGetUserMedia on http as well so we need the\n    // more complicated fallback to webkitRTCPeerConnection.\n    result.browser = 'chrome';\n    result.version = extractVersion(navigator.userAgent, /Chrom(e|ium)\\/(\\d+)\\./, 2);\n  } else if (window.RTCPeerConnection && navigator.userAgent.match(/AppleWebKit\\/(\\d+)\\./)) {\n    // Safari.\n    result.browser = 'safari';\n    result.version = extractVersion(navigator.userAgent, /AppleWebKit\\/(\\d+)\\./, 1);\n    result.supportsUnifiedPlan = window.RTCRtpTransceiver && 'currentDirection' in window.RTCRtpTransceiver.prototype;\n  } else {\n    // Default fallthrough: not supported.\n    result.browser = 'Not a supported browser.';\n    return result;\n  }\n  return result;\n}\n\n/**\n * Checks if something is an object.\n *\n * @param {*} val The something you want to check.\n * @return true if val is an object, false otherwise.\n */\nfunction isObject(val) {\n  return Object.prototype.toString.call(val) === '[object Object]';\n}\n\n/**\n * Remove all empty objects and undefined values\n * from a nested object -- an enhanced and vanilla version\n * of Lodash's `compact`.\n */\nfunction compactObject(data) {\n  if (!isObject(data)) {\n    return data;\n  }\n  return Object.keys(data).reduce(function (accumulator, key) {\n    var isObj = isObject(data[key]);\n    var value = isObj ? compactObject(data[key]) : data[key];\n    var isEmptyObject = isObj && !Object.keys(value).length;\n    if (value === undefined || isEmptyObject) {\n      return accumulator;\n    }\n    return Object.assign(accumulator, _defineProperty({}, key, value));\n  }, {});\n}\n\n/* iterates the stats graph recursively. */\nfunction walkStats(stats, base, resultSet) {\n  if (!base || resultSet.has(base.id)) {\n    return;\n  }\n  resultSet.set(base.id, base);\n  Object.keys(base).forEach(function (name) {\n    if (name.endsWith('Id')) {\n      walkStats(stats, stats.get(base[name]), resultSet);\n    } else if (name.endsWith('Ids')) {\n      base[name].forEach(function (id) {\n        walkStats(stats, stats.get(id), resultSet);\n      });\n    }\n  });\n}\n\n/* filter getStats for a sender/receiver track. */\nfunction filterStats(result, track, outbound) {\n  var streamStatsType = outbound ? 'outbound-rtp' : 'inbound-rtp';\n  var filteredResult = new Map();\n  if (track === null) {\n    return filteredResult;\n  }\n  var trackStats = [];\n  result.forEach(function (value) {\n    if (value.type === 'track' && value.trackIdentifier === track.id) {\n      trackStats.push(value);\n    }\n  });\n  trackStats.forEach(function (trackStat) {\n    result.forEach(function (stats) {\n      if (stats.type === streamStatsType && stats.trackId === trackStat.id) {\n        walkStats(result, stats, filteredResult);\n      }\n    });\n  });\n  return filteredResult;\n}\n\n},{}],12:[function(require,module,exports){\n/* eslint-env node */\n'use strict';\n\n// SDP helpers.\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar SDPUtils = {};\n\n// Generate an alphanumeric identifier for cname or mids.\n// TODO: use UUIDs instead? https://gist.github.com/jed/982883\nSDPUtils.generateIdentifier = function () {\n  return Math.random().toString(36).substring(2, 12);\n};\n\n// The RTCP CNAME used by all peerconnections from the same JS.\nSDPUtils.localCName = SDPUtils.generateIdentifier();\n\n// Splits SDP into lines, dealing with both CRLF and LF.\nSDPUtils.splitLines = function (blob) {\n  return blob.trim().split('\\n').map(function (line) {\n    return line.trim();\n  });\n};\n// Splits SDP into sessionpart and mediasections. Ensures CRLF.\nSDPUtils.splitSections = function (blob) {\n  var parts = blob.split('\\nm=');\n  return parts.map(function (part, index) {\n    return (index > 0 ? 'm=' + part : part).trim() + '\\r\\n';\n  });\n};\n\n// Returns the session description.\nSDPUtils.getDescription = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  return sections && sections[0];\n};\n\n// Returns the individual media sections.\nSDPUtils.getMediaSections = function (blob) {\n  var sections = SDPUtils.splitSections(blob);\n  sections.shift();\n  return sections;\n};\n\n// Returns lines that start with a certain prefix.\nSDPUtils.matchPrefix = function (blob, prefix) {\n  return SDPUtils.splitLines(blob).filter(function (line) {\n    return line.indexOf(prefix) === 0;\n  });\n};\n\n// Parses an ICE candidate line. Sample input:\n// candidate:702786350 2 udp 41819902 8.8.8.8 60769 typ relay raddr 8.8.8.8\n// rport 55996\"\n// Input can be prefixed with a=.\nSDPUtils.parseCandidate = function (line) {\n  var parts = void 0;\n  // Parse both variants.\n  if (line.indexOf('a=candidate:') === 0) {\n    parts = line.substring(12).split(' ');\n  } else {\n    parts = line.substring(10).split(' ');\n  }\n\n  var candidate = {\n    foundation: parts[0],\n    component: { 1: 'rtp', 2: 'rtcp' }[parts[1]] || parts[1],\n    protocol: parts[2].toLowerCase(),\n    priority: parseInt(parts[3], 10),\n    ip: parts[4],\n    address: parts[4], // address is an alias for ip.\n    port: parseInt(parts[5], 10),\n    // skip parts[6] == 'typ'\n    type: parts[7]\n  };\n\n  for (var i = 8; i < parts.length; i += 2) {\n    switch (parts[i]) {\n      case 'raddr':\n        candidate.relatedAddress = parts[i + 1];\n        break;\n      case 'rport':\n        candidate.relatedPort = parseInt(parts[i + 1], 10);\n        break;\n      case 'tcptype':\n        candidate.tcpType = parts[i + 1];\n        break;\n      case 'ufrag':\n        candidate.ufrag = parts[i + 1]; // for backward compatibility.\n        candidate.usernameFragment = parts[i + 1];\n        break;\n      default:\n        // extension handling, in particular ufrag. Don't overwrite.\n        if (candidate[parts[i]] === undefined) {\n          candidate[parts[i]] = parts[i + 1];\n        }\n        break;\n    }\n  }\n  return candidate;\n};\n\n// Translates a candidate object into SDP candidate attribute.\n// This does not include the a= prefix!\nSDPUtils.writeCandidate = function (candidate) {\n  var sdp = [];\n  sdp.push(candidate.foundation);\n\n  var component = candidate.component;\n  if (component === 'rtp') {\n    sdp.push(1);\n  } else if (component === 'rtcp') {\n    sdp.push(2);\n  } else {\n    sdp.push(component);\n  }\n  sdp.push(candidate.protocol.toUpperCase());\n  sdp.push(candidate.priority);\n  sdp.push(candidate.address || candidate.ip);\n  sdp.push(candidate.port);\n\n  var type = candidate.type;\n  sdp.push('typ');\n  sdp.push(type);\n  if (type !== 'host' && candidate.relatedAddress && candidate.relatedPort) {\n    sdp.push('raddr');\n    sdp.push(candidate.relatedAddress);\n    sdp.push('rport');\n    sdp.push(candidate.relatedPort);\n  }\n  if (candidate.tcpType && candidate.protocol.toLowerCase() === 'tcp') {\n    sdp.push('tcptype');\n    sdp.push(candidate.tcpType);\n  }\n  if (candidate.usernameFragment || candidate.ufrag) {\n    sdp.push('ufrag');\n    sdp.push(candidate.usernameFragment || candidate.ufrag);\n  }\n  return 'candidate:' + sdp.join(' ');\n};\n\n// Parses an ice-options line, returns an array of option tags.\n// Sample input:\n// a=ice-options:foo bar\nSDPUtils.parseIceOptions = function (line) {\n  return line.substring(14).split(' ');\n};\n\n// Parses a rtpmap line, returns RTCRtpCoddecParameters. Sample input:\n// a=rtpmap:111 opus/48000/2\nSDPUtils.parseRtpMap = function (line) {\n  var parts = line.substring(9).split(' ');\n  var parsed = {\n    payloadType: parseInt(parts.shift(), 10) // was: id\n  };\n\n  parts = parts[0].split('/');\n\n  parsed.name = parts[0];\n  parsed.clockRate = parseInt(parts[1], 10); // was: clockrate\n  parsed.channels = parts.length === 3 ? parseInt(parts[2], 10) : 1;\n  // legacy alias, got renamed back to channels in ORTC.\n  parsed.numChannels = parsed.channels;\n  return parsed;\n};\n\n// Generates a rtpmap line from RTCRtpCodecCapability or\n// RTCRtpCodecParameters.\nSDPUtils.writeRtpMap = function (codec) {\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  var channels = codec.channels || codec.numChannels || 1;\n  return 'a=rtpmap:' + pt + ' ' + codec.name + '/' + codec.clockRate + (channels !== 1 ? '/' + channels : '') + '\\r\\n';\n};\n\n// Parses a extmap line (headerextension from RFC 5285). Sample input:\n// a=extmap:2 urn:ietf:params:rtp-hdrext:toffset\n// a=extmap:2/sendonly urn:ietf:params:rtp-hdrext:toffset\nSDPUtils.parseExtmap = function (line) {\n  var parts = line.substring(9).split(' ');\n  return {\n    id: parseInt(parts[0], 10),\n    direction: parts[0].indexOf('/') > 0 ? parts[0].split('/')[1] : 'sendrecv',\n    uri: parts[1],\n    attributes: parts.slice(2).join(' ')\n  };\n};\n\n// Generates an extmap line from RTCRtpHeaderExtensionParameters or\n// RTCRtpHeaderExtension.\nSDPUtils.writeExtmap = function (headerExtension) {\n  return 'a=extmap:' + (headerExtension.id || headerExtension.preferredId) + (headerExtension.direction && headerExtension.direction !== 'sendrecv' ? '/' + headerExtension.direction : '') + ' ' + headerExtension.uri + (headerExtension.attributes ? ' ' + headerExtension.attributes : '') + '\\r\\n';\n};\n\n// Parses a fmtp line, returns dictionary. Sample input:\n// a=fmtp:96 vbr=on;cng=on\n// Also deals with vbr=on; cng=on\nSDPUtils.parseFmtp = function (line) {\n  var parsed = {};\n  var kv = void 0;\n  var parts = line.substring(line.indexOf(' ') + 1).split(';');\n  for (var j = 0; j < parts.length; j++) {\n    kv = parts[j].trim().split('=');\n    parsed[kv[0].trim()] = kv[1];\n  }\n  return parsed;\n};\n\n// Generates a fmtp line from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeFmtp = function (codec) {\n  var line = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.parameters && Object.keys(codec.parameters).length) {\n    var params = [];\n    Object.keys(codec.parameters).forEach(function (param) {\n      if (codec.parameters[param] !== undefined) {\n        params.push(param + '=' + codec.parameters[param]);\n      } else {\n        params.push(param);\n      }\n    });\n    line += 'a=fmtp:' + pt + ' ' + params.join(';') + '\\r\\n';\n  }\n  return line;\n};\n\n// Parses a rtcp-fb line, returns RTCPRtcpFeedback object. Sample input:\n// a=rtcp-fb:98 nack rpsi\nSDPUtils.parseRtcpFb = function (line) {\n  var parts = line.substring(line.indexOf(' ') + 1).split(' ');\n  return {\n    type: parts.shift(),\n    parameter: parts.join(' ')\n  };\n};\n\n// Generate a=rtcp-fb lines from RTCRtpCodecCapability or RTCRtpCodecParameters.\nSDPUtils.writeRtcpFb = function (codec) {\n  var lines = '';\n  var pt = codec.payloadType;\n  if (codec.preferredPayloadType !== undefined) {\n    pt = codec.preferredPayloadType;\n  }\n  if (codec.rtcpFeedback && codec.rtcpFeedback.length) {\n    // FIXME: special handling for trr-int?\n    codec.rtcpFeedback.forEach(function (fb) {\n      lines += 'a=rtcp-fb:' + pt + ' ' + fb.type + (fb.parameter && fb.parameter.length ? ' ' + fb.parameter : '') + '\\r\\n';\n    });\n  }\n  return lines;\n};\n\n// Parses a RFC 5576 ssrc media attribute. Sample input:\n// a=ssrc:3735928559 cname:something\nSDPUtils.parseSsrcMedia = function (line) {\n  var sp = line.indexOf(' ');\n  var parts = {\n    ssrc: parseInt(line.substring(7, sp), 10)\n  };\n  var colon = line.indexOf(':', sp);\n  if (colon > -1) {\n    parts.attribute = line.substring(sp + 1, colon);\n    parts.value = line.substring(colon + 1);\n  } else {\n    parts.attribute = line.substring(sp + 1);\n  }\n  return parts;\n};\n\n// Parse a ssrc-group line (see RFC 5576). Sample input:\n// a=ssrc-group:semantics 12 34\nSDPUtils.parseSsrcGroup = function (line) {\n  var parts = line.substring(13).split(' ');\n  return {\n    semantics: parts.shift(),\n    ssrcs: parts.map(function (ssrc) {\n      return parseInt(ssrc, 10);\n    })\n  };\n};\n\n// Extracts the MID (RFC 5888) from a media section.\n// Returns the MID or undefined if no mid line was found.\nSDPUtils.getMid = function (mediaSection) {\n  var mid = SDPUtils.matchPrefix(mediaSection, 'a=mid:')[0];\n  if (mid) {\n    return mid.substring(6);\n  }\n};\n\n// Parses a fingerprint line for DTLS-SRTP.\nSDPUtils.parseFingerprint = function (line) {\n  var parts = line.substring(14).split(' ');\n  return {\n    algorithm: parts[0].toLowerCase(), // algorithm is case-sensitive in Edge.\n    value: parts[1].toUpperCase() // the definition is upper-case in RFC 4572.\n  };\n};\n\n// Extracts DTLS parameters from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the fingerprint line as input. See also getIceParameters.\nSDPUtils.getDtlsParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=fingerprint:');\n  // Note: a=setup line is ignored since we use the 'auto' role in Edge.\n  return {\n    role: 'auto',\n    fingerprints: lines.map(SDPUtils.parseFingerprint)\n  };\n};\n\n// Serializes DTLS parameters to SDP.\nSDPUtils.writeDtlsParameters = function (params, setupType) {\n  var sdp = 'a=setup:' + setupType + '\\r\\n';\n  params.fingerprints.forEach(function (fp) {\n    sdp += 'a=fingerprint:' + fp.algorithm + ' ' + fp.value + '\\r\\n';\n  });\n  return sdp;\n};\n\n// Parses a=crypto lines into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#dictionary-rtcsrtpsdesparameters-members\nSDPUtils.parseCryptoLine = function (line) {\n  var parts = line.substring(9).split(' ');\n  return {\n    tag: parseInt(parts[0], 10),\n    cryptoSuite: parts[1],\n    keyParams: parts[2],\n    sessionParams: parts.slice(3)\n  };\n};\n\nSDPUtils.writeCryptoLine = function (parameters) {\n  return 'a=crypto:' + parameters.tag + ' ' + parameters.cryptoSuite + ' ' + (_typeof(parameters.keyParams) === 'object' ? SDPUtils.writeCryptoKeyParams(parameters.keyParams) : parameters.keyParams) + (parameters.sessionParams ? ' ' + parameters.sessionParams.join(' ') : '') + '\\r\\n';\n};\n\n// Parses the crypto key parameters into\n//   https://rawgit.com/aboba/edgertc/master/msortc-rs4.html#rtcsrtpkeyparam*\nSDPUtils.parseCryptoKeyParams = function (keyParams) {\n  if (keyParams.indexOf('inline:') !== 0) {\n    return null;\n  }\n  var parts = keyParams.substring(7).split('|');\n  return {\n    keyMethod: 'inline',\n    keySalt: parts[0],\n    lifeTime: parts[1],\n    mkiValue: parts[2] ? parts[2].split(':')[0] : undefined,\n    mkiLength: parts[2] ? parts[2].split(':')[1] : undefined\n  };\n};\n\nSDPUtils.writeCryptoKeyParams = function (keyParams) {\n  return keyParams.keyMethod + ':' + keyParams.keySalt + (keyParams.lifeTime ? '|' + keyParams.lifeTime : '') + (keyParams.mkiValue && keyParams.mkiLength ? '|' + keyParams.mkiValue + ':' + keyParams.mkiLength : '');\n};\n\n// Extracts all SDES parameters.\nSDPUtils.getCryptoParameters = function (mediaSection, sessionpart) {\n  var lines = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=crypto:');\n  return lines.map(SDPUtils.parseCryptoLine);\n};\n\n// Parses ICE information from SDP media section or sessionpart.\n// FIXME: for consistency with other functions this should only\n//   get the ice-ufrag and ice-pwd lines as input.\nSDPUtils.getIceParameters = function (mediaSection, sessionpart) {\n  var ufrag = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-ufrag:')[0];\n  var pwd = SDPUtils.matchPrefix(mediaSection + sessionpart, 'a=ice-pwd:')[0];\n  if (!(ufrag && pwd)) {\n    return null;\n  }\n  return {\n    usernameFragment: ufrag.substring(12),\n    password: pwd.substring(10)\n  };\n};\n\n// Serializes ICE parameters to SDP.\nSDPUtils.writeIceParameters = function (params) {\n  var sdp = 'a=ice-ufrag:' + params.usernameFragment + '\\r\\n' + 'a=ice-pwd:' + params.password + '\\r\\n';\n  if (params.iceLite) {\n    sdp += 'a=ice-lite\\r\\n';\n  }\n  return sdp;\n};\n\n// Parses the SDP media section and returns RTCRtpParameters.\nSDPUtils.parseRtpParameters = function (mediaSection) {\n  var description = {\n    codecs: [],\n    headerExtensions: [],\n    fecMechanisms: [],\n    rtcp: []\n  };\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  description.profile = mline[2];\n  for (var i = 3; i < mline.length; i++) {\n    // find all codecs from mline[3..]\n    var pt = mline[i];\n    var rtpmapline = SDPUtils.matchPrefix(mediaSection, 'a=rtpmap:' + pt + ' ')[0];\n    if (rtpmapline) {\n      var codec = SDPUtils.parseRtpMap(rtpmapline);\n      var fmtps = SDPUtils.matchPrefix(mediaSection, 'a=fmtp:' + pt + ' ');\n      // Only the first a=fmtp:<pt> is considered.\n      codec.parameters = fmtps.length ? SDPUtils.parseFmtp(fmtps[0]) : {};\n      codec.rtcpFeedback = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:' + pt + ' ').map(SDPUtils.parseRtcpFb);\n      description.codecs.push(codec);\n      // parse FEC mechanisms from rtpmap lines.\n      switch (codec.name.toUpperCase()) {\n        case 'RED':\n        case 'ULPFEC':\n          description.fecMechanisms.push(codec.name.toUpperCase());\n          break;\n        default:\n          // only RED and ULPFEC are recognized as FEC mechanisms.\n          break;\n      }\n    }\n  }\n  SDPUtils.matchPrefix(mediaSection, 'a=extmap:').forEach(function (line) {\n    description.headerExtensions.push(SDPUtils.parseExtmap(line));\n  });\n  var wildcardRtcpFb = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-fb:* ').map(SDPUtils.parseRtcpFb);\n  description.codecs.forEach(function (codec) {\n    wildcardRtcpFb.forEach(function (fb) {\n      var duplicate = codec.rtcpFeedback.find(function (existingFeedback) {\n        return existingFeedback.type === fb.type && existingFeedback.parameter === fb.parameter;\n      });\n      if (!duplicate) {\n        codec.rtcpFeedback.push(fb);\n      }\n    });\n  });\n  // FIXME: parse rtcp.\n  return description;\n};\n\n// Generates parts of the SDP media section describing the capabilities /\n// parameters.\nSDPUtils.writeRtpDescription = function (kind, caps) {\n  var sdp = '';\n\n  // Build the mline.\n  sdp += 'm=' + kind + ' ';\n  sdp += caps.codecs.length > 0 ? '9' : '0'; // reject if no codecs.\n  sdp += ' ' + (caps.profile || 'UDP/TLS/RTP/SAVPF') + ' ';\n  sdp += caps.codecs.map(function (codec) {\n    if (codec.preferredPayloadType !== undefined) {\n      return codec.preferredPayloadType;\n    }\n    return codec.payloadType;\n  }).join(' ') + '\\r\\n';\n\n  sdp += 'c=IN IP4 0.0.0.0\\r\\n';\n  sdp += 'a=rtcp:9 IN IP4 0.0.0.0\\r\\n';\n\n  // Add a=rtpmap lines for each codec. Also fmtp and rtcp-fb.\n  caps.codecs.forEach(function (codec) {\n    sdp += SDPUtils.writeRtpMap(codec);\n    sdp += SDPUtils.writeFmtp(codec);\n    sdp += SDPUtils.writeRtcpFb(codec);\n  });\n  var maxptime = 0;\n  caps.codecs.forEach(function (codec) {\n    if (codec.maxptime > maxptime) {\n      maxptime = codec.maxptime;\n    }\n  });\n  if (maxptime > 0) {\n    sdp += 'a=maxptime:' + maxptime + '\\r\\n';\n  }\n\n  if (caps.headerExtensions) {\n    caps.headerExtensions.forEach(function (extension) {\n      sdp += SDPUtils.writeExtmap(extension);\n    });\n  }\n  // FIXME: write fecMechanisms.\n  return sdp;\n};\n\n// Parses the SDP media section and returns an array of\n// RTCRtpEncodingParameters.\nSDPUtils.parseRtpEncodingParameters = function (mediaSection) {\n  var encodingParameters = [];\n  var description = SDPUtils.parseRtpParameters(mediaSection);\n  var hasRed = description.fecMechanisms.indexOf('RED') !== -1;\n  var hasUlpfec = description.fecMechanisms.indexOf('ULPFEC') !== -1;\n\n  // filter a=ssrc:... cname:, ignore PlanB-msid\n  var ssrcs = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (parts) {\n    return parts.attribute === 'cname';\n  });\n  var primarySsrc = ssrcs.length > 0 && ssrcs[0].ssrc;\n  var secondarySsrc = void 0;\n\n  var flows = SDPUtils.matchPrefix(mediaSection, 'a=ssrc-group:FID').map(function (line) {\n    var parts = line.substring(17).split(' ');\n    return parts.map(function (part) {\n      return parseInt(part, 10);\n    });\n  });\n  if (flows.length > 0 && flows[0].length > 1 && flows[0][0] === primarySsrc) {\n    secondarySsrc = flows[0][1];\n  }\n\n  description.codecs.forEach(function (codec) {\n    if (codec.name.toUpperCase() === 'RTX' && codec.parameters.apt) {\n      var encParam = {\n        ssrc: primarySsrc,\n        codecPayloadType: parseInt(codec.parameters.apt, 10)\n      };\n      if (primarySsrc && secondarySsrc) {\n        encParam.rtx = { ssrc: secondarySsrc };\n      }\n      encodingParameters.push(encParam);\n      if (hasRed) {\n        encParam = JSON.parse(JSON.stringify(encParam));\n        encParam.fec = {\n          ssrc: primarySsrc,\n          mechanism: hasUlpfec ? 'red+ulpfec' : 'red'\n        };\n        encodingParameters.push(encParam);\n      }\n    }\n  });\n  if (encodingParameters.length === 0 && primarySsrc) {\n    encodingParameters.push({\n      ssrc: primarySsrc\n    });\n  }\n\n  // we support both b=AS and b=TIAS but interpret AS as TIAS.\n  var bandwidth = SDPUtils.matchPrefix(mediaSection, 'b=');\n  if (bandwidth.length) {\n    if (bandwidth[0].indexOf('b=TIAS:') === 0) {\n      bandwidth = parseInt(bandwidth[0].substring(7), 10);\n    } else if (bandwidth[0].indexOf('b=AS:') === 0) {\n      // use formula from JSEP to convert b=AS to TIAS value.\n      bandwidth = parseInt(bandwidth[0].substring(5), 10) * 1000 * 0.95 - 50 * 40 * 8;\n    } else {\n      bandwidth = undefined;\n    }\n    encodingParameters.forEach(function (params) {\n      params.maxBitrate = bandwidth;\n    });\n  }\n  return encodingParameters;\n};\n\n// parses http://draft.ortc.org/#rtcrtcpparameters*\nSDPUtils.parseRtcpParameters = function (mediaSection) {\n  var rtcpParameters = {};\n\n  // Gets the first SSRC. Note that with RTX there might be multiple\n  // SSRCs.\n  var remoteSsrc = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (obj) {\n    return obj.attribute === 'cname';\n  })[0];\n  if (remoteSsrc) {\n    rtcpParameters.cname = remoteSsrc.value;\n    rtcpParameters.ssrc = remoteSsrc.ssrc;\n  }\n\n  // Edge uses the compound attribute instead of reducedSize\n  // compound is !reducedSize\n  var rsize = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-rsize');\n  rtcpParameters.reducedSize = rsize.length > 0;\n  rtcpParameters.compound = rsize.length === 0;\n\n  // parses the rtcp-mux attrіbute.\n  // Note that Edge does not support unmuxed RTCP.\n  var mux = SDPUtils.matchPrefix(mediaSection, 'a=rtcp-mux');\n  rtcpParameters.mux = mux.length > 0;\n\n  return rtcpParameters;\n};\n\nSDPUtils.writeRtcpParameters = function (rtcpParameters) {\n  var sdp = '';\n  if (rtcpParameters.reducedSize) {\n    sdp += 'a=rtcp-rsize\\r\\n';\n  }\n  if (rtcpParameters.mux) {\n    sdp += 'a=rtcp-mux\\r\\n';\n  }\n  if (rtcpParameters.ssrc !== undefined && rtcpParameters.cname) {\n    sdp += 'a=ssrc:' + rtcpParameters.ssrc + ' cname:' + rtcpParameters.cname + '\\r\\n';\n  }\n  return sdp;\n};\n\n// parses either a=msid: or a=ssrc:... msid lines and returns\n// the id of the MediaStream and MediaStreamTrack.\nSDPUtils.parseMsid = function (mediaSection) {\n  var parts = void 0;\n  var spec = SDPUtils.matchPrefix(mediaSection, 'a=msid:');\n  if (spec.length === 1) {\n    parts = spec[0].substring(7).split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n  var planB = SDPUtils.matchPrefix(mediaSection, 'a=ssrc:').map(function (line) {\n    return SDPUtils.parseSsrcMedia(line);\n  }).filter(function (msidParts) {\n    return msidParts.attribute === 'msid';\n  });\n  if (planB.length > 0) {\n    parts = planB[0].value.split(' ');\n    return { stream: parts[0], track: parts[1] };\n  }\n};\n\n// SCTP\n// parses draft-ietf-mmusic-sctp-sdp-26 first and falls back\n// to draft-ietf-mmusic-sctp-sdp-05\nSDPUtils.parseSctpDescription = function (mediaSection) {\n  var mline = SDPUtils.parseMLine(mediaSection);\n  var maxSizeLine = SDPUtils.matchPrefix(mediaSection, 'a=max-message-size:');\n  var maxMessageSize = void 0;\n  if (maxSizeLine.length > 0) {\n    maxMessageSize = parseInt(maxSizeLine[0].substring(19), 10);\n  }\n  if (isNaN(maxMessageSize)) {\n    maxMessageSize = 65536;\n  }\n  var sctpPort = SDPUtils.matchPrefix(mediaSection, 'a=sctp-port:');\n  if (sctpPort.length > 0) {\n    return {\n      port: parseInt(sctpPort[0].substring(12), 10),\n      protocol: mline.fmt,\n      maxMessageSize: maxMessageSize\n    };\n  }\n  var sctpMapLines = SDPUtils.matchPrefix(mediaSection, 'a=sctpmap:');\n  if (sctpMapLines.length > 0) {\n    var parts = sctpMapLines[0].substring(10).split(' ');\n    return {\n      port: parseInt(parts[0], 10),\n      protocol: parts[1],\n      maxMessageSize: maxMessageSize\n    };\n  }\n};\n\n// SCTP\n// outputs the draft-ietf-mmusic-sctp-sdp-26 version that all browsers\n// support by now receiving in this format, unless we originally parsed\n// as the draft-ietf-mmusic-sctp-sdp-05 format (indicated by the m-line\n// protocol of DTLS/SCTP -- without UDP/ or TCP/)\nSDPUtils.writeSctpDescription = function (media, sctp) {\n  var output = [];\n  if (media.protocol !== 'DTLS/SCTP') {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.protocol + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctp-port:' + sctp.port + '\\r\\n'];\n  } else {\n    output = ['m=' + media.kind + ' 9 ' + media.protocol + ' ' + sctp.port + '\\r\\n', 'c=IN IP4 0.0.0.0\\r\\n', 'a=sctpmap:' + sctp.port + ' ' + sctp.protocol + ' 65535\\r\\n'];\n  }\n  if (sctp.maxMessageSize !== undefined) {\n    output.push('a=max-message-size:' + sctp.maxMessageSize + '\\r\\n');\n  }\n  return output.join('');\n};\n\n// Generate a session ID for SDP.\n// https://tools.ietf.org/html/draft-ietf-rtcweb-jsep-20#section-5.2.1\n// recommends using a cryptographically random +ve 64-bit value\n// but right now this should be acceptable and within the right range\nSDPUtils.generateSessionId = function () {\n  return Math.random().toString().substr(2, 22);\n};\n\n// Write boiler plate for start of SDP\n// sessId argument is optional - if not supplied it will\n// be generated randomly\n// sessVersion is optional and defaults to 2\n// sessUser is optional and defaults to 'thisisadapterortc'\nSDPUtils.writeSessionBoilerplate = function (sessId, sessVer, sessUser) {\n  var sessionId = void 0;\n  var version = sessVer !== undefined ? sessVer : 2;\n  if (sessId) {\n    sessionId = sessId;\n  } else {\n    sessionId = SDPUtils.generateSessionId();\n  }\n  var user = sessUser || 'thisisadapterortc';\n  // FIXME: sess-id should be an NTP timestamp.\n  return 'v=0\\r\\n' + 'o=' + user + ' ' + sessionId + ' ' + version + ' IN IP4 127.0.0.1\\r\\n' + 's=-\\r\\n' + 't=0 0\\r\\n';\n};\n\n// Gets the direction from the mediaSection or the sessionpart.\nSDPUtils.getDirection = function (mediaSection, sessionpart) {\n  // Look for sendrecv, sendonly, recvonly, inactive, default to sendrecv.\n  var lines = SDPUtils.splitLines(mediaSection);\n  for (var i = 0; i < lines.length; i++) {\n    switch (lines[i]) {\n      case 'a=sendrecv':\n      case 'a=sendonly':\n      case 'a=recvonly':\n      case 'a=inactive':\n        return lines[i].substring(2);\n      default:\n      // FIXME: What should happen here?\n    }\n  }\n  if (sessionpart) {\n    return SDPUtils.getDirection(sessionpart);\n  }\n  return 'sendrecv';\n};\n\nSDPUtils.getKind = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var mline = lines[0].split(' ');\n  return mline[0].substring(2);\n};\n\nSDPUtils.isRejected = function (mediaSection) {\n  return mediaSection.split(' ', 2)[1] === '0';\n};\n\nSDPUtils.parseMLine = function (mediaSection) {\n  var lines = SDPUtils.splitLines(mediaSection);\n  var parts = lines[0].substring(2).split(' ');\n  return {\n    kind: parts[0],\n    port: parseInt(parts[1], 10),\n    protocol: parts[2],\n    fmt: parts.slice(3).join(' ')\n  };\n};\n\nSDPUtils.parseOLine = function (mediaSection) {\n  var line = SDPUtils.matchPrefix(mediaSection, 'o=')[0];\n  var parts = line.substring(2).split(' ');\n  return {\n    username: parts[0],\n    sessionId: parts[1],\n    sessionVersion: parseInt(parts[2], 10),\n    netType: parts[3],\n    addressType: parts[4],\n    address: parts[5]\n  };\n};\n\n// a very naive interpretation of a valid SDP.\nSDPUtils.isValidSDP = function (blob) {\n  if (typeof blob !== 'string' || blob.length === 0) {\n    return false;\n  }\n  var lines = SDPUtils.splitLines(blob);\n  for (var i = 0; i < lines.length; i++) {\n    if (lines[i].length < 2 || lines[i].charAt(1) !== '=') {\n      return false;\n    }\n    // TODO: check the modifier a bit more.\n  }\n  return true;\n};\n\n// Expose public methods.\nif ((typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n  module.exports = SDPUtils;\n}\n},{}]},{},[1])(1)\n});\n","var toPropertyKey = require(\"./toPropertyKey.js\");\nfunction _defineProperty(obj, key, value) {\n  key = toPropertyKey(key);\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nmodule.exports = _defineProperty, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\nmodule.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose.js\");\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nmodule.exports = _objectWithoutProperties, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nmodule.exports = _objectWithoutPropertiesLoose, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _toPrimitive(input, hint) {\n  if (_typeof(input) !== \"object\" || input === null) return input;\n  var prim = input[Symbol.toPrimitive];\n  if (prim !== undefined) {\n    var res = prim.call(input, hint || \"default\");\n    if (_typeof(res) !== \"object\") return res;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (hint === \"string\" ? String : Number)(input);\n}\nmodule.exports = _toPrimitive, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","var _typeof = require(\"./typeof.js\")[\"default\"];\nvar toPrimitive = require(\"./toPrimitive.js\");\nfunction _toPropertyKey(arg) {\n  var key = toPrimitive(arg, \"string\");\n  return _typeof(key) === \"symbol\" ? key : String(key);\n}\nmodule.exports = _toPropertyKey, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\tloaded: false,\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Flag the module as loaded\n\tmodule.loaded = true;\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.nmd = (module) => {\n\tmodule.paths = [];\n\tif (!module.children) module.children = [];\n\treturn module;\n};","","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(9461);\n",""],"names":["getVersion","authCodes","exports","INVALID_CREDENTIALS","CONNECT_FAIL_WS_ERROR","LINK_UNSUBSCRIBE_FAIL","LINK_SUBSCRIBE_FAIL","LINK_EXTEND_SUBSCRIPTION_FAIL","LINK_UPDATE_SUBSCRIPTION_FAIL","MISSING_SERVICE","LINK_SUBSCRIBE_UNAVAILABLE","callCodes","UNKNOWN_ERROR","GENERIC_ERROR","INIT_MEDIA_FAILED","USER_MEDIA_ERROR","NOT_SUPPORTED","INVALID_STATE","INVALID_PARAM","STATE_DESYNC","INVALID_OFFER","NO_ICE_CANDIDATES","SESSION_MISMATCH","callHistoryCodes","BAD_REQUEST","NOT_FOUND","NOT_AUTHENTICATED","FORBIDDEN","clickToCallCodes","MISSING_ARGS","RESPONSE_ERROR","groupsCodes","MISSING_PARAMETERS","messagingCodes","SEND_MESSAGE_FAIL","mwiCodes","FETCH_MWI_FAIL","sipEventCodes","NOT_PROVISIONED","NOT_SUBSCRIBED","bridgeCodes","INVALID_INPUT","ALREADY_EXISTS","MEDIA_NOT_FOUND","subscriptionCodes","WS_CONNECTION_ERROR","NO_SERVICE_PROVIDED","connectivityCodes","WS_MESSAGE_ERROR","presenceCodes","INVALID_STATUS","INVALID_ACTIVITY","INVALID_REQUEST","usersCodes","UNKNOWN","REFRESH_CONTACTS_FAIL","DIRECTORY_REQUEST_FAIL","webrtcCodes","proxyCodes","SET_PROXY_CHANNEL_FAIL","IN_ACTIVE_CALL","VERSION_MISMATCH","TIMEOUT","_codes","require","NO_CODE","BasicError","constructor","message","code","name","default","eventEmitter","prototype","eventMap","subscribeMap","strictMode","checkEvent","type","Error","Object","assign","define","alias","on","listener","push","off","list","i","length","splice","emit","args","Array","slice","call","arguments","apply","undefined","j","subscribe","unsubscribe","setStrictMode","strict","styleLog","entry","timestamp","level","logInfo","logType","payload","messages","prefix","style","includes","toUpperCase","defaultActionHandler","method","console","groupEnd","_actionHandler","_interopRequireDefault","defaultOptions","logLevel","handler","logActions","partialDefaultLogActions","actionOnly","collapsed","diff","exposePayloads","_kandyLogger","_config","API_LOG_TAG","manager","createManager","logManager","_actions","eventTypes","_interopRequireWildcard","_getRequireWildcardCache","e","WeakMap","r","t","__esModule","has","get","n","__proto__","a","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","set","watchDeviceEvents","change","checkDevices","then","devices","devicesChangedAction","deviceActions","devicesChanged","devicesChangedEvent","DEVICES_CHANGED","watchMediaEvents","media","newTrack","mediaId","trackId","mediaNewTrackAction","mediaActions","mediaNewTrack","trackEnded","mediaTrackEndedAction","mediaTrackEnded","_media","watchMediaManagerEvents","newMedia","id","newMediaAction","local","getState","isLocal","tracks","getTracks","map","track","removedMedia","removedMediaAction","watchSessionEvents","session","newTrackAction","sessionActions","sessionNewTrack","isUnsolicited","sessionTrackEnded","trackReplaced","oldTrackId","trackReplacedAction","sessionTrackReplaced","iceConnectionStateChange","obj","iceConnectionStateChangeAction","sessionIceConnectionStateChange","iceConnectionState","iceCandidateCollected","iceCandidateCollectedAction","sessionIceCandidateCollected","iceGatheringStateChange","iceGatheringStateChangeAction","sessionIceGatheringStateChange","iceCollectionScheduledCheck","iceCollectionScheduledCheckAction","sessionIceCollectionScheduledCheck","audioFileEnded","isSuccess","sessionAudioEnded","error","_session","watchSessionManagerEvents","sessionAdded","state","sessionAddedAction","sessionRemoved","sessionRemovedAction","watchTrackEvents","trackSourceMuted","trackData","trackSourceMutedAction","trackActions","trackSourceMutedEvent","TRACK_SOURCE_MUTED","trackIds","trackSourceUnmuted","trackSourceUnmutedAction","trackSourceUnmutedEvent","TRACK_SOURCE_UNMUTED","_track","watchTrackManagerEvents","trackAdded","sourceMuted","muted","enabled","trackAddedAction","trackRemoved","trackRemovedAction","DEVICES_CHANGE","INITIALIZE_DEVICES","INITIALIZE_DEVICES_FINISH","trackPrefix","TRACK_ADDED","TRACK_REMOVED","RENDER_TRACKS","RENDER_TRACKS_FINISH","REMOVE_TRACKS","REMOVE_TRACKS_FINISH","MUTE_TRACKS","MUTE_TRACKS_FINISH","UNMUTE_TRACKS","UNMUTE_TRACKS_FINISH","sessionPrefix","SESSION_ADDED","SESSION_REMOVED","SESSION_NEW_TRACK","SESSION_TRACK_ENDED","SESSION_TRACK_REPLACED","SESSION_AUDIO_ENDED","SESSION_ICE_CONNECTION_STATE_CHANGE","SESSION_ICE_GATHERING_STATE_CHANGE","SESSION_ICE_CANDIDATE_COLLECTED","SESSION_ICE_COLLECTION_SCHEDULED_CHECK","mediaPrefix","MEDIA_NEW","MEDIA_REMOVED","MEDIA_CHANGE","MEDIA_NEW_TRACK","MEDIA_TRACK_ENDED","SET_BROWSER_DETAILS","actionTypes","initializeDevice","browserConstraints","initializeDeviceFinish","Boolean","deviceActionsImport","trackActionsImport","sessionActionsImport","mediaActionsImport","miscActionsImport","miscActions","_fp","ownKeys","keys","getOwnPropertySymbols","o","filter","enumerable","_objectSpread","forEach","_defineProperty2","getOwnPropertyDescriptors","defineProperties","mediaActionHelper","meta","action","isEmpty","params","setBrowserDetails","details","sessionActionHelper","trackManagerHelper","trackHelper","muteTracks","muteTracksFinish","unmuteTracks","unmuteTracksFinish","renderTracks","renderTracksFinish","removeTracks","removeTracksFinish","INITIALIZE_DEVICES_ERROR","TRACKS_MUTED","TRACKS_UNMUTED","TRACK_RENDERED","TRACK_ENDED","_logs","log","getLogger","jsonChannel","innerChannel","receive","send","JSON","stringify","err","receiveJSONMessage","parse","replyChannel","channel","sentMessages","receiveMessage","messageId","data","isExpired","debug","resolve","api","warn","callback","Promise","timeoutId","setTimeout","clearTimeout","reply","deviceManager","webRTC","command","operation","managers","setupDeviceInitialization","constraint","_deviceManager","_mediaManager","_sessionManager","_trackManager","_logManager","_webrtcManager","_renderer","_logger","mediaManager","sessionManager","trackManager","logs","logManagerConverter","webrtcManager","renderer","models","logger","convertCommand","result","convertTrack","convertMedia","convertSession","sessionState","localTracks","allLocalTracks","remoteTracks","convertLogger","_index","loggers","getLoggers","setLevel","stringifyError","createLocal","createLocalScreen","rendererManager","renderTrack","dscpTrackMapping","addTracks","getStats","stats","from","entries","create","sessions","getAll","objs","getWithMedia","medias","getContainers","ele","_converters","_webrtcEvents","_channel","_version","_errors","_uuid","_kandyWebrtc","clientProxy","base","isReady","initialize","setChannel","remoteVersion","response","initialized","info","config","version","logLevels","WEBRTC","PROXY","CHANNEL","setupListeners","event","uuidV4","substring","browser","getBrowserDetails","onInit","isWebrtcCommand","performWebrtc","getChannel","_eventEmitter","setupEvents","emitter","setWebrtcListeners","mediaMan","deviceMan","_clientProxy","mediaApis","_events","_excluded","remoteClient","proxy","stack","proxyApi","_objectWithoutProperties2","hasDefinedStack","stackCheck","mediaApi","getCapabilities","module","getDevices","getMedia","getMediaById","getTrackById","cssSelector","container","document","querySelector","unrenderTrack","_devices","TRACE","DEBUG","INFO","WARN","ERROR","SILENT","levelValues","logMethods","trace","group","groupCollapsed","timeLevel","_logFormatter","_constants","_default","levelImport","logFormatter","defaultLogFormatter","target","shortId","shortName","defaultLogHandler","formattedString","tail","_logHandler","_validation","defaultType","Symbol","options","settings","checkHandler","checkLevel","String","loggerName","getLevel","getHandler","createLogger","values","setHandler","_timer","logFunc","injectables","shouldLog","Date","now","timeLog","timer","timeWarn","createTimer","timers","time","start","timeEnd","elapsed","end","split","upperLevel","trickleIceMode","PEER","TRICKLE_ICE","FULL","removeBundling","halfTrickleThreshold","isPassedHalfTrickleThreshold","sdp","iceCandidate","passedHalf","candidate","indexOf","onicecandidate","nativePeer","proxyPeer","iceTimer","iceCandidates","elapsedTime","timeFromStart","iceCollectionDuration","iceGatheringState","rtcPeerConnectionConfig","rtcLocalSessionDescription","localDescription","HALF","haveHalf","oniceconnectionstatechange","onicegatheringstatechange","gatheringState","ICE_GATHERING_STATE","GATHERING","COMPLETE","stop","_icecandidate","_iceconnectionstatechange","_icegatheringstatechange","_negotiationneeded","_signalingstatechange","onnegotiationneeded","onsignalingstatechange","ontrack","signalingState","nativeTrack","streams","transceiver","kind","transceivers","find","tran","mid","targetStream","MediaStream","add","_methods","_properties","_utils","_eventemitter","peer","mergeValues","defaults","EventEmitter","rtcConfig","RTCPeerConnection","optional","googDscp","customMethods","methods","bind","once","dtlsRole","iceLoop","Proxy","prop","receiver","properties","value","events","Reflect","eventName","addIceCandidate","reject","remoteDescription","catch","addTransceiver","direction","getStream","close","_pipeline","_handlers","createAnswer","mediaDirections","answer","sdpHandlers","preventDtlsRoleChange","NONE","removeTrickleIce","changeMediaDirection","runPipeline","endpoint","ENDPOINT","LOCAL","createOffer","offer","findReusableTransceiver","getTransceivers","sender","currentDirection","localDesc","senderTracks","senders","getSenders","errMsg","_addIceCandidate","_addTransceiver","_close","_createAnswer","_createOffer","_findReusableTransceiver","_getState","_getStats","_getTransceivers","_removeTrack","_replaceTrack","_sendDTMF","_setLocalDescription","_setRemoteDescription","removeTrack","replaceTrack","sendDTMF","setLocalDescription","setRemoteDescription","targetTransceiver","tone","duration","intertoneGap","insertDTMF","handleToneChangeEvent","dtmf","dtmfSender","ontonechange","_iceCollectionScheduledCheck","desc","dtlsMatch","match","isStarted","isIceCollectionCheckOngoing","localRole","_localDescription","_localTracks","_remoteDescription","_remoteTracksActive","_remoteTracks","_senderTracks","remoteTracksAll","getLocalDescription","active","getRemoteDescription","remoteDesc","getRemoteTracks","getReceivers","proxyBase","timerPrototype","_startTime","getTime","NEW","REMOTE","MEDIA_DIR","INACTIVE","SEND_ONLY","RECV_ONLY","SEND_RECV","ICE_COLLECTION_CHECK_REASONS","ICE_GATHERING_STATE_CHANGE","NEW_CANDIDATE","SCHEDULED","ICE_COLLECTION_RESULT_TYPES","START_CALL","WAIT","_Peer","_peerManager","getDetails","getWebRTCSupportCapabilities","mediaDevices","navigator","peerConnection","window","browserDetails","Renderer","DeviceManager","TrackManager","MediaManager","peerManager","PeerManager","SessionManager","WebRTCManager","Track","Media","Peer","pipeline","sdpPipeline","handlers","WEBRTC_DEVICE_KINDS","audioinput","videoinput","audiooutput","microphone","camera","speaker","isListening","recentDeviceChange","addEventListener","setListening","flag","enumerateDevices","device","getUserMedia","mediaStream","Map","browserConstraintsWorkaround","constraints","deviceId","exact","setupMedia","wrappedTrack","addTrack","remove","constraintsWorkaround","getDisplayMedia","createRemote","stream","delete","findTrack","allMedia","getTrack","peers","speakerId","element","rendererId","makeSafeForCSS","containers","createElement","height","width","srcObject","src","URL","createObjectURL","autoplay","playsInline","play","setSinkId","appendChild","index","findIndex","item","removeChild","Session","sessionId","mediaConstrants","addNewMedia","isLocalTrack","targetTrack","setStream","setIsLocal","getAvailableCodecs","capabilities","RTCRtpSender","codecs","nativeStream","removedTrack","_transceiverUtils","_extractors","unfixedDebounce","debounce","convert","fixed","peerId","dscpControls","dtlsRoleRecord","latestRemoteDescription","setupPeerEventHandlers","recordNewDtlsRole","remoteSdpSessionId","getSdpSessionId","getLocalTracks","getAllLocalTracks","warmup","addTrackOrReuseTransceiverPromises","reusableTransceiver","all","setTransceiversDirection","getHandlers","run","description","setParameters","rollbackLocalDescription","iceCollectionCheckResult","wait","mediaConstraints","promises","setNetworkPriority","networkPriority","parameters","getParameters","encodings","encoding","generateOffer","setTransceiverDirection","processOffer","previousDtlsRole","generateAnswer","processAnswer","restartIce","getDtlsRole","DTMFOptions","sendOptions","targetPeer","reason","iceCollectionInfo","leading","recreatePeer","oldPeer","newPeer","oldLocalTrack","getPeer","getLatestRemoteDesc","getRemoteTrackIdsFromTransceivers","mids","remoteTrackIds","some","getIncomingRemoteTrackIds","isReceiving","readyState","getActiveRemoteTrackIds","insertAudio","filePath","playIfReady","audio","endOriginalTrack","oldTrack","onended","Event","currentTrackId","Audio","volume","context","AudioContext","source","createMediaElementSource","dest","createMediaStreamDestination","connect","audioTrack","getAudioTracks","oncanplaythrough","onplay","onerror","video","screen","status","mediaProm","screenProm","results","errMessage","newErr","reduce","acc","cur","concat","mediaTrack","isNative","trigger","onmute","onunmute","newStream","streamId","label","mute","unmute","getConstraints","setConstraints","constr","oLine","originalSdp","iceOptions","groups","isValid","newSdp","mLine","setup","_sdpTransform","objectSdp","sdpTransform","freeze","cloneDeep","isArray","isFunction","write","createPipeline","defaultHandlers","setHandlers","targetDirection","setDirection","_adapter","objects","mergeAllWith","leftValue","rightValue","replace","adapter"],"sourceRoot":""}