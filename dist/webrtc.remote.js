!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.WebRTC=t():e.WebRTC=t()}(self,(()=>(()=>{var e={1011:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.delay=function(e){return new Promise((t=>setTimeout(t,e)))},t.logCssSelector=function(e){return(0,n.default)(e)?e.id:e},t.normalizeServices=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map((e=>(0,o.default)(e)&&e.hasOwnProperty("service")?e:{service:e}))};var n=i(r(2202)),o=i(r(6705));function i(e){return e&&e.__esModule?e:{default:e}}},3126:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getVersion=function(){return"7.9.0-beta.1799"}},8058:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.webrtcCodes=t.usersCodes=t.subscriptionCodes=t.sipEventCodes=t.proxyCodes=t.presenceCodes=t.mwiCodes=t.messagingCodes=t.groupsCodes=t.connectivityCodes=t.clickToCallCodes=t.callHistoryCodes=t.callCodes=t.bridgeCodes=t.authCodes=void 0,t.authCodes={INVALID_CREDENTIALS:"authentication:1",CONNECT_FAIL_WS_ERROR:"authentication:2",UNSUBSCRIBE_FAIL:"authentication:3",SUBSCRIBE_FAIL:"authentication:4",UPDATE_SUBSCRIPTION_FAIL:"authentication:6",INVALID_STATE:"authentication:7",MISSING_SERVICE:"authentication:12",SUBSCRIBE_UNAVAILABLE:"authentication:13"},t.callCodes={UNKNOWN_ERROR:"call:1",GENERIC_ERROR:"call:2",INIT_MEDIA_FAILED:"call:3",USER_MEDIA_ERROR:"call:4",NOT_SUPPORTED:"call:5",INVALID_STATE:"call:6",INVALID_PARAM:"call:7",STATE_DESYNC:"call:8",INVALID_OFFER:"call:9",NO_ICE_CANDIDATES:"call:10",SESSION_MISMATCH:"call:11",GLARE:"call:12"},t.callHistoryCodes={UNKNOWN_ERROR:"callHistory:1",BAD_REQUEST:"callHistory:2",NOT_FOUND:"callHistory:3",NOT_AUTHENTICATED:"callHistory:4",FORBIDDEN:"callHistory:5"},t.clickToCallCodes={MISSING_ARGS:"clickToCall:1",RESPONSE_ERROR:"clickToCall:2"},t.groupsCodes={UNKNOWN_ERROR:"groups:1",GENERIC_ERROR:"groups:2",MISSING_PARAMETERS:"groups:3"},t.messagingCodes={SEND_MESSAGE_FAIL:"messaging:5"},t.mwiCodes={FETCH_MWI_FAIL:"mwi:1"},t.sipEventCodes={UNKNOWN_ERROR:"sipEvents:1",NOT_PROVISIONED:"sipEvents:2",NOT_SUBSCRIBED:"sipEvents:3"},t.bridgeCodes={UNKNOWN_ERROR:"audioBridge:1",INVALID_INPUT:"audioBridge:2",ALREADY_EXISTS:"audioBridge:3",NOT_FOUND:"audioBridge:4",NOT_SUPPORTED:"audioBridge:5",MEDIA_NOT_FOUND:"audioBridge:6",INVALID_STATE:"audioBridge:7"},t.subscriptionCodes={WS_CONNECTION_ERROR:"subscription:1",NO_SERVICE_PROVIDED:"subscription:2",GENERIC_ERROR:"subscription:3",INVALID_STATE:"subscription:4"},t.connectivityCodes={WS_MESSAGE_ERROR:"connectivity:1"},t.presenceCodes={INVALID_STATUS:"presence:1",INVALID_ACTIVITY:"presence:2",INVALID_REQUEST:"presence:3",INVALID_PARAM:"presence:4"},t.usersCodes={UNKNOWN:"users:1",REFRESH_CONTACTS_FAIL:"users:2",DIRECTORY_REQUEST_FAIL:"users:3",INVALID_PARAM:"users:4"},t.webrtcCodes={INVALID_PARAM:"webrtc:1",INVALID_TRACK_ID:"webrtc:2",TRACK_IN_USE:"webrtc:3",TRACK_NOT_LOCAL:"webrtc:4"},t.proxyCodes={INVALID_PARAM:"proxy:1",SET_PROXY_CHANNEL_FAIL:"proxy:2",IN_ACTIVE_CALL:"proxy:3",VERSION_MISMATCH:"proxy:4",INVALID_STATE:"proxy:5",TIMEOUT:"proxy:6",UNKNOWN:"proxy:7"}},5412:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NO_CODE=void 0,Object.defineProperty(t,"authCodes",{enumerable:!0,get:function(){return n.authCodes}}),Object.defineProperty(t,"bridgeCodes",{enumerable:!0,get:function(){return n.bridgeCodes}}),Object.defineProperty(t,"callCodes",{enumerable:!0,get:function(){return n.callCodes}}),Object.defineProperty(t,"callHistoryCodes",{enumerable:!0,get:function(){return n.callHistoryCodes}}),Object.defineProperty(t,"clickToCallCodes",{enumerable:!0,get:function(){return n.clickToCallCodes}}),t.default=void 0,Object.defineProperty(t,"groupsCodes",{enumerable:!0,get:function(){return n.groupsCodes}}),Object.defineProperty(t,"messagingCodes",{enumerable:!0,get:function(){return n.messagingCodes}}),Object.defineProperty(t,"mwiCodes",{enumerable:!0,get:function(){return n.mwiCodes}}),Object.defineProperty(t,"presenceCodes",{enumerable:!0,get:function(){return n.presenceCodes}}),Object.defineProperty(t,"proxyCodes",{enumerable:!0,get:function(){return n.proxyCodes}}),Object.defineProperty(t,"sipEventCodes",{enumerable:!0,get:function(){return n.sipEventCodes}}),Object.defineProperty(t,"subscriptionCodes",{enumerable:!0,get:function(){return n.subscriptionCodes}}),Object.defineProperty(t,"usersCodes",{enumerable:!0,get:function(){return n.usersCodes}}),Object.defineProperty(t,"webrtcCodes",{enumerable:!0,get:function(){return n.webrtcCodes}});var n=r(8058);const o=t.NO_CODE="NO_CODE";t.default=class{constructor(e){let{message:t,code:r}=e;this.name="BasicError",this.code=r||o,this.message=t?`${t}`:"An error occurred."}}},7186:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(["group","groupCollapsed"].includes(e.method))return void console[e.method](...e.messages);if("groupEnd"===e.method)return void console.groupEnd();const{prefix:t,style:r,payload:n}=function(e){const{timestamp:t,level:r}=e,n=`${t} - ACTION - ${r}`;let o,[i,a]=e.messages,s="";return i.includes("state")?o=`${n} - ${i.toUpperCase()}`:i.includes("ADDED")||i.includes("DELETED")||i.includes("ARRAY")?(o=`${e.messages[0]}: ${e.messages[2]}`,s=e.messages[1],a=e.messages[3]):i.includes("CHANGED")?(o=`${e.messages[0]}: ${e.messages[2]}`,s=e.messages[1],a=`${e.messages[3]} ${e.messages[4]} ${e.messages[5]}`):i.includes("no diff")?(o=`${n} - NO DIFF`,a=""):o=`${n} - ${a.type} - ${i}`,{prefix:o,style:s,payload:a}}(e);console[e.method](t,r,n)},r(2234)},1360:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.partialDefaultLogActions=t.defaultOptions=void 0;var n,o=(n=r(7186))&&n.__esModule?n:{default:n};t.defaultOptions={logLevel:"debug",handler:void 0,logActions:!1},t.partialDefaultLogActions={handler:o.default,actionOnly:!1,collapsed:!1,diff:!1,level:"debug",exposePayloads:!0}},9932:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logManager=t.API_LOG_TAG=void 0;var n,o=(n=r(4413))&&n.__esModule?n:{default:n},i=r(1360);t.API_LOG_TAG="API invoked: ";const a=(0,o.default)(i.defaultOptions);t.logManager=a},2140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=r=>{e.checkDevices().then((e=>{const i=n.deviceActions.devicesChanged(e),a=r?void 0:{type:o.DEVICES_CHANGED,args:{}};t(i,a)}))};return e.on("change",r),()=>{e.off("change",r)}};var n=r(6446),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1709));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},8487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=e=>{let{mediaId:r,trackId:o}=e;const i=n.mediaActions.mediaNewTrack(r,{trackId:o});t(i)},o=e=>{let{mediaId:r,trackId:o}=e;const i=n.mediaActions.mediaTrackEnded(r,{trackId:o});t(i)},i=()=>{e.off("media:stopped",i),e.off("track:new",r),e.off("track:ended",o)};return e.on("media:stopped",i),e.on("track:new",r),e.on("track:ended",o),i};var n=r(6446)},620:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=r=>{const n=e.get(r);(0,i.default)(n,t);const a=n.getTracks().some((e=>e.isDetached())),s=o.mediaActions.newMedia(r,{local:n.getState().isLocal,detached:a,tracks:n.getTracks().map((e=>e.id))});t(s)},n=e=>{const r=o.mediaActions.removedMedia(e);t(r)};return e.on("media:new",r),e.on("media:removed",n),()=>{e.off("media:new",r),e.off("media:removed",n)}};var n,o=r(6446),i=(n=r(8487))&&n.__esModule?n:{default:n}},975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=r=>{let{local:o,trackId:i}=r;const a=n.sessionActions.sessionNewTrack(e.id,{local:o,trackId:i});t(a)},o=r=>{let{local:o,trackId:i,isUnsolicited:a}=r;t(n.sessionActions.sessionTrackEnded(e.id,{local:o,trackId:i,isUnsolicited:a}))},i=r=>{let{oldTrackId:o,trackId:i}=r;const a=n.sessionActions.sessionTrackReplaced(e.id,{oldTrackId:o,trackId:i});t(a)},a=r=>{const o=n.sessionActions.sessionIceConnectionStateChange(e.id,{iceConnectionState:r.iceConnectionState});t(o)},s=r=>{const o=n.sessionActions.sessionIceCandidateCollected(e.id,r);t(o)},c=r=>{const o=n.sessionActions.sessionIceGatheringStateChange(e.id,r);t(o)},u=r=>{const o=n.sessionActions.sessionIceCollectionScheduledCheck(e.id,r);t(o)},d=r=>{t(n.sessionActions.sessionAudioEnded(e.id,{error:!r}))};return e.on("new:track",r),e.on("track:ended",o),e.on("track:replaced",i),e.on("peer:iceConnectionStateChange",a),e.on("peer:iceGatheringStateChange",c),e.on("peer:iceCandidateCollected",s),e.on("peer:iceCollectionScheduledCheck",u),e.on("audioFileEnded",d),()=>{e.off("new:track",r),e.off("track:ended",o),e.off("track:replaced",i),e.off("peer:iceConnectionStateChange",a),e.off("peer:iceGatheringStateChange",c),e.off("peer:iceCandidateCollected",s),e.off("peer:iceCollectionScheduledCheck",u),e.off("audioFileEnded",d)}};var n=r(6446)},5863:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=r=>{const n=e.get(r),a=n.getState();delete a.id,(0,i.default)(n,t);const s=o.sessionActions.sessionAdded(r,a);t(s)},n=e=>{const r=o.sessionActions.sessionRemoved(e);t(r)};return e.on("session:new",r),e.on("session:removed",n),()=>{e.off("session:new",r),e.off("session:removed",n)}};var n,o=r(6446),i=(n=r(975))&&n.__esModule?n:{default:n}},8240:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=e=>{const r=n.trackActions.trackSourceMuted([e.trackId],{mediaId:e.mediaId,isLocal:e.isLocal}),i={type:o.TRACK_SOURCE_MUTED,args:{trackIds:[e.trackId],trackId:e.trackId,isLocal:e.isLocal,id:e.mediaId}};t(r,i)},i=e=>{const r=n.trackActions.trackSourceUnmuted([e.trackId],{mediaId:e.mediaId,isLocal:e.isLocal}),i={type:o.TRACK_SOURCE_UNMUTED,args:{trackIds:[e.trackId],trackId:e.trackId,isLocal:e.isLocal,id:e.mediaId}};t(r,i)},a=()=>{e.off("ended",a),e.off("muted",r),e.off("unmuted",i)};return e.on("ended",a),e.on("muted",r),e.on("unmuted",i),a};var n=r(6446),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=i(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=o?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1709));function i(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(i=function(e){return e?r:t})(e)}},1173:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=r=>{const n=e.get(r),i=n.getState();i.sourceMuted=i.muted,i.muted=!i.enabled,delete i.enabled,delete i.id,(0,a.default)(n,t);const s=o.trackActions.trackAdded(r,i);t(s)},n=r=>{const n=o.trackActions.trackRemoved(r),a=e.get(r).isDetached()?{type:i.TRACK_ENDED,args:{trackId:r,isLocal:!0,detached:!0}}:void 0;t(n,a)};return e.on("add",r),e.on("remove",n),()=>{e.off("add",r),e.off("remove",n)}};var n,o=r(6446),i=r(1709),a=(n=r(8240))&&n.__esModule?n:{default:n}},1997:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UNMUTE_TRACKS_FINISH=t.UNMUTE_TRACKS=t.TRACK_SOURCE_UNMUTED=t.TRACK_SOURCE_MUTED=t.TRACK_REMOVED=t.TRACK_ADDED=t.SET_BROWSER_DETAILS=t.SESSION_TRACK_REPLACED=t.SESSION_TRACK_ENDED=t.SESSION_REMOVED=t.SESSION_NEW_TRACK=t.SESSION_ICE_GATHERING_STATE_CHANGE=t.SESSION_ICE_CONNECTION_STATE_CHANGE=t.SESSION_ICE_COLLECTION_SCHEDULED_CHECK=t.SESSION_ICE_CANDIDATE_COLLECTED=t.SESSION_AUDIO_ENDED=t.SESSION_ADDED=t.RENDER_TRACKS_FINISH=t.RENDER_TRACKS=t.REMOVE_TRACKS_FINISH=t.REMOVE_TRACKS=t.MUTE_TRACKS_FINISH=t.MUTE_TRACKS=t.MEDIA_TRACK_ENDED=t.MEDIA_REMOVED=t.MEDIA_NEW_TRACK=t.MEDIA_NEW=t.MEDIA_CHANGE=t.INITIALIZE_DEVICES_FINISH=t.INITIALIZE_DEVICES=t.DEVICES_CHANGE=void 0;const r="@@KANDY/WEBRTC/",n=(t.DEVICES_CHANGE=r+"DEVICES/CHANGE",t.INITIALIZE_DEVICES=r+"INITIALIZE_DEVICES",t.INITIALIZE_DEVICES_FINISH=r+"INITIALIZE_DEVICES_FINISH",r+"TRACK/"),o=(t.TRACK_ADDED=n+"ADDED",t.TRACK_REMOVED=n+"REMOVED",t.RENDER_TRACKS=n+"RENDER",t.RENDER_TRACKS_FINISH=n+"RENDER_FINISH",t.REMOVE_TRACKS=n+"REMOVE",t.REMOVE_TRACKS_FINISH=n+"REMOVE_FINISH",t.MUTE_TRACKS=n+"MUTE",t.MUTE_TRACKS_FINISH=n+"MUTE_FINISH",t.UNMUTE_TRACKS=n+"UNMUTE",t.UNMUTE_TRACKS_FINISH=n+"UNMUTE_FINISH",t.TRACK_SOURCE_MUTED=n+"SOURCE_MUTED",t.TRACK_SOURCE_UNMUTED=n+"SOURCE_UNMUTED",r+"SESSION/"),i=(t.SESSION_ADDED=o+"ADDED",t.SESSION_REMOVED=o+"REMOVED",t.SESSION_NEW_TRACK=o+"NEW_TRACK",t.SESSION_TRACK_ENDED=o+"TRACK_ENDED",t.SESSION_TRACK_REPLACED=o+"TRACK_REPLACED",t.SESSION_AUDIO_ENDED=o+"AUDIO_ENDED",t.SESSION_ICE_CONNECTION_STATE_CHANGE=o+"ICE_CONNECTION_STATE_CHANGE",t.SESSION_ICE_GATHERING_STATE_CHANGE=o+"ICE_GATHERING_STATE_CHANGE",t.SESSION_ICE_CANDIDATE_COLLECTED=o+"ICE_CANDIDATE_COLLECTED",t.SESSION_ICE_COLLECTION_SCHEDULED_CHECK=o+"ICE_CANDIDATE_SCHEDULED_CHECK",r+"MEDIA/");t.MEDIA_NEW=i+"NEW",t.MEDIA_REMOVED=i+"REMOVED",t.MEDIA_CHANGE=i+"CHANGE",t.MEDIA_NEW_TRACK=i+"NEW_TRACK",t.MEDIA_TRACK_ENDED=i+"TRACK_ENDED",t.SET_BROWSER_DETAILS=r+"SET_BROWSER_DETAILS"},3269:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.devicesChanged=function(e){return{type:n.DEVICES_CHANGE,payload:e}},t.initializeDevice=function(e){return{type:n.INITIALIZE_DEVICES,payload:e}},t.initializeDeviceFinish=function(e){let{devices:t,error:r}=e;return{payload:r||t,error:Boolean(r),type:n.INITIALIZE_DEVICES_FINISH}};var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1997));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}},6446:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trackActions=t.sessionActions=t.miscActions=t.mediaActions=t.deviceActions=void 0;var n=u(r(3269)),o=u(r(7524)),i=u(r(8377)),a=u(r(850)),s=u(r(9616));function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e,t){if(!t&&e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}t.deviceActions=n,t.trackActions=o,t.sessionActions=i,t.mediaActions=a,t.miscActions=s},850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.mediaNewTrack=function(e,t){return s(i.MEDIA_NEW_TRACK,e,t)},t.mediaTrackEnded=function(e,t){return s(i.MEDIA_TRACK_ENDED,e,t)},t.newMedia=function(e,t){return s(i.MEDIA_NEW,e,t)},t.removedMedia=function(e,t){return s(i.MEDIA_REMOVED,e,t)};var n,o=(n=r(4499))&&n.__esModule?n:{default:n},i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(1997));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={type:e,payload:{...r,id:t}};return(0,o.default)(n)||(i.meta=n),r.error&&(i.error=!0),i}},9616:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setBrowserDetails=function(e){return{type:n.SET_BROWSER_DETAILS,payload:e}};var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1997));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}},8377:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionAdded=function(e,t){return s(i.SESSION_ADDED,e,t)},t.sessionAudioEnded=function(e,t){return{type:i.SESSION_AUDIO_ENDED,payload:{id:e,...t},error:Boolean(t.error)}},t.sessionIceCandidateCollected=function(e,t){return s(i.SESSION_ICE_CANDIDATE_COLLECTED,e,t)},t.sessionIceCollectionScheduledCheck=function(e,t){return s(i.SESSION_ICE_COLLECTION_SCHEDULED_CHECK,e,t)},t.sessionIceConnectionStateChange=function(e,t){return s(i.SESSION_ICE_CONNECTION_STATE_CHANGE,e,t)},t.sessionIceGatheringStateChange=function(e,t){return s(i.SESSION_ICE_GATHERING_STATE_CHANGE,e,t)},t.sessionNewTrack=function(e,t){return s(i.SESSION_NEW_TRACK,e,t)},t.sessionRemoved=function(e,t){return s(i.SESSION_REMOVED,e,t)},t.sessionTrackEnded=function(e,t){return s(i.SESSION_TRACK_ENDED,e,t)},t.sessionTrackReplaced=function(e,t){return s(i.SESSION_TRACK_REPLACED,e,t)};var n,o=(n=r(4499))&&n.__esModule?n:{default:n},i=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=a(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var s=o?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(1997));function a(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(a=function(e){return e?r:t})(e)}function s(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const i={type:e,payload:{...r,id:t}};return(0,o.default)(n)||(i.meta=n),r.error&&(i.error=!0),i}},7524:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.muteTracks=function(e){return a(n.MUTE_TRACKS,e)},t.muteTracksFinish=function(e,t){return a(n.MUTE_TRACKS_FINISH,{trackIds:e,...t})},t.removeTracks=function(e,t){return a(n.REMOVE_TRACKS,{trackIds:e,...t})},t.removeTracksFinish=function(e,t){return a(n.REMOVE_TRACKS_FINISH,{trackIds:e,...t})},t.renderTracks=function(e,t){return a(n.RENDER_TRACKS,{trackIds:e,...t})},t.renderTracksFinish=function(e,t){return a(n.RENDER_TRACKS_FINISH,{trackIds:e,...t})},t.trackAdded=function(e,t){return i(n.TRACK_ADDED,e,t)},t.trackRemoved=function(e,t){return i(n.TRACK_REMOVED,e,t)},t.trackSourceMuted=function(e,t){return a(n.TRACK_SOURCE_MUTED,{trackIds:e,...t})},t.trackSourceUnmuted=function(e,t){return a(n.TRACK_SOURCE_UNMUTED,{trackIds:e,...t})},t.unmuteTracks=function(e){return a(n.UNMUTE_TRACKS,e)},t.unmuteTracksFinish=function(e,t){return a(n.UNMUTE_TRACKS_FINISH,{trackIds:e,...t})};var n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if("default"!==a&&{}.hasOwnProperty.call(e,a)){var s=i?Object.getOwnPropertyDescriptor(e,a):null;s&&(s.get||s.set)?Object.defineProperty(n,a,s):n[a]=e[a]}return n.default=e,r&&r.set(e,n),n}(r(1997));function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}function i(e,t){return{type:e,payload:{...arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},trackId:t},meta:arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}}}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={type:e,payload:t,meta:arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}};return t.error&&(r.error=!0),r}},1709:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TRACK_SOURCE_UNMUTED=t.TRACK_SOURCE_MUTED=t.TRACK_RENDERED=t.TRACK_ENDED=t.TRACKS_UNMUTED=t.TRACKS_MUTED=t.INITIALIZE_DEVICES_ERROR=t.DEVICES_CHANGED=void 0,t.DEVICES_CHANGED="devices:change",t.INITIALIZE_DEVICES_ERROR="devices:error",t.TRACKS_MUTED="media:muted",t.TRACKS_UNMUTED="media:unmuted",t.TRACK_SOURCE_MUTED="media:sourceMuted",t.TRACK_SOURCE_UNMUTED="media:sourceUnmuted",t.TRACK_RENDERED="media:trackRendered",t.TRACK_ENDED="media:trackEnded"},6937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.jsonChannel=function(e){const t={receive:void 0,send(t){try{e.send(JSON.stringify(t))}catch(e){n.error("Failed to send JSON message over channel: ",e)}}};return e.receive=function(e){try{t.receive&&t.receive(JSON.parse(e))}catch(e){n.error("Failed to receive JSON message on channel: ",e)}},t},t.replyChannel=function(e,t){const r={};e.receive=function(e){const{messageId:t,data:i}=e;t&&r[t]?r[t].isExpired?(n.debug(`Received reply from timed-out message ${t}. Ignoring.`),delete r[t]):(n.debug(`Received reply from message ${t}.`),r[t].resolve(i)):t&&!r[t]?o.receive?(n.debug(`Received new message ${t}.`),o.receive(t,i)):n.error("No listener set for handling received messages.",i):n.warn("Received message without an ID on the channel; ignoring.",e)};const o={send:(o,i,a)=>{if(r[o])return void a(null,new Error("Cannot send message; ID already used."));const s={data:i,messageId:o};a?new Promise((i=>{const c=t.create("webrtcProxy",(()=>{n.debug(`Message ${o} timed-out. Failing operation.`),r[o].isExpired=!0,a(null,new Error("Operation timed-out; no reply from other side of channel."))}),12e3,{id:"replyChannelSendTimeoutRacer"});r[o]={resolve:i,timeoutId:c,isExpired:!1},n.debug(`Sending new message ${o} with reply expected.`),e.send(s)})).then((e=>{t.clear(r[o].timeoutId),delete r[o],"function"==typeof a&&a(e)})):(n.debug(`Sending new message ${o}.`),e.send(s))},receive:void 0,reply:(t,r)=>{const o={data:r,messageId:t};n.debug(`Replying to message ${t}.`),e.send(o)}};return o},r(7107);const n=r(9932).logManager.getLogger("CHANNEL")},3779:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:n}=t,o=e.managers.devices;if("setupDeviceInitialization"!==r)return o[r](...n);try{return await o.setupDeviceInitialization(...n)}catch(e){let t={name:e.name,message:e.message,error:!0};return"OverconstrainedError"===e.name&&e.constraint&&(t={...t,constraint:e.constraint}),t}}},2046:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertLogger=function(e){if(e)return{modelType:"logger",id:e.name}},t.convertMedia=function(e){if(e)return{modelType:"media",id:e.id}},t.convertSession=function(e){if(e){const t=e.getState();return{modelType:"session",...t,localTracks:t.localTracks.map(y),allLocalTracks:t.allLocalTracks.map(y),remoteTracks:t.remoteTracks.map(y)}}},t.convertTrack=y,t.default=function(e,t){if("manager"===t.id){m.debug(`Performing ${t.modelType} manager operation ${t.operation}.`,t.params);const r=h[t.modelType](e,t);return r.then((e=>{m.debug(`Completed ${t.modelType} manager operation ${t.operation}.`,e)})),r}{m.debug(`Performing ${t.modelType} model operation ${t.operation}.`,t.params);const r=v[t.modelType](e,t);return r.then((e=>{m.debug(`Completed ${t.modelType} model operation ${t.operation}.`,e)})),r}};var n=g(r(3779)),o=g(r(1119)),i=g(r(4503)),a=g(r(3550)),s=g(r(6561)),c=g(r(6422)),u=g(r(2831)),d=g(r(2802)),l=g(r(5066)),f=g(r(7921)),p=g(r(7740));function g(e){return e&&e.__esModule?e:{default:e}}const m=r(9932).logManager.getLogger("PROXY"),h={media:o.default,sessionManager:i.default,track:a.default,devices:n.default,logs:s.default,webrtcManager:c.default,renderer:u.default},v={media:d.default,session:l.default,track:f.default,logger:p.default};function y(e){if(e)return{modelType:"track",...e.getState()}}},6561:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:o}=t,i=e.managers.logs;if("getLogger"===r){const e=i.getLogger(...o);return(0,n.convertLogger)(e)}if("getLoggers"===r)return i.getLoggers(...o).map(n.convertLogger);if("getHandler"!==r){if("setLevel"!==r)return i[r](...o);{i.setLevel(...o);const e=o[1]||o[0];i.getLoggers().forEach((t=>t.setLevel(e)))}}};var n=r(2046)},7740:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{id:r,operation:o,params:i}=t;if("PROXY"===r||"CHANNEL"===r)return n.logManager.getLogger(r)[o](...i);const a=e.managers.logs.getLogger(r);return"getHandler"===o?void 0:a[o](...i)};var n=r(9932)},2802:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{id:r,operation:i,params:a}=t,s=e.managers.media.get(r);return s||o.warn(`Media ${r} no longer exists; attempting to send appropriate response for ${i}.`),"getTracks"===i?s?s.getTracks().map(n.convertTrack):[]:s?s[i](...a):void 0};var n=r(2046);const o=r(9932).logManager.getLogger("PROXY")},1119:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:i}=t,a=e.managers.media;if("get"===r){const e=a.get(...i);return(0,n.convertMedia)(e)}if("createLocal"===r)try{const e=await a.createLocal(...i);return(0,n.convertMedia)(e)}catch(e){return o(e)}else{if("createLocalScreen"!==r)return a[r](...i);try{const e=await a.createLocalScreen(...i);return(0,n.convertMedia)(e)}catch(e){return o(e)}}},t.stringifyError=o;var n=r(2046);function o(e){let t={name:e.name,message:e.message};return"OverconstrainedError"===e.name&&e.constraint&&(t={...t,constraint:e.constraint}),{error:t}}},2831:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:n}=t,o=e.managers.renderer;if("renderTrack"!==r)return o[r](...n);{const t=e.managers.track.get(n[0].id);if(t)return o.renderTrack(t,n[1],n[2])}}},5066:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{id:r,operation:n,params:o}=t,i=e.managers.sessionManager.get(r);if(i){if("addTracks"===n){const t=o[0].map((e=>e.id)),r=e.managers.track.getTracks(t),n=2===o.length?o[1]:{};return i.addTracks(r,n)}return"getStats"===n?i.getStats(...o).then((e=>Array.from(e.entries()))):i[n](...o)}}},4503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:i}=t,a=e.managers.sessionManager;if("create"===r){const e=a.create(...i);return(0,n.convertSession)(e)}if("get"===r){const e=a.get(...i);return(0,n.convertSession)(e)}if("getAll"===r)return a.getAll(...i).map(n.convertSession);if("getWithMedia"!==r)return a[r](...i);try{const e=await a.getWithMedia(...i);return{modelType:"multiple",session:(0,n.convertSession)(e.session),medias:e.medias.map(n.convertMedia)}}catch(e){return(0,o.stringifyError)(e)}};var n=r(2046),o=r(1119)},7921:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{id:r,operation:o,params:i}=t,a=e.managers.track.get(r);return a||n.warn(`Track ${r} no longer exists; attempting to send appropriate response for ${o}.`),"getContainers"===o?a?a.getContainers().map((e=>e.id)):[]:"getState"===o?a?a.getState():{}:a?a[o](...i):void 0};const n=r(9932).logManager.getLogger("PROXY")},3550:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:o}=t,i=e.managers.track;if("get"===r){const e=i.get(...o);return(0,n.convertTrack)(e)}return"getTracks"===r?i.getTracks(...o).map(n.convertTrack):i[r](...o)};var n=r(2046)},6422:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=async function(e,t){const{operation:r,params:n}=t;return e.managers.webrtcManager[r](...n)}},7216:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e={isReady:!1,webRTC:d.default,channel:void 0},t={setChannel:r=>{p.debug(`${a.API_LOG_TAG}proxy.setChannel`);const d=(0,s.getVersion)();e.channel=(0,i.replyChannel)((0,i.jsonChannel)(r)),e.channel.receive=(r,i)=>{if(i.initialize)if(e.isReady){p.warn("Local WebRTC stack is already initialized; responding as error.");const t={initialized:!0,error:new c.default({code:c.proxyCodes.INVALID_STATE,message:"Remote SDK has already been initialized."})};e.channel.reply(r,t)}else{if(p.info("Initializing local webRTC stack.",i.config),p.info(`SDK version received from remote end: ${i.version}.`),i.version!==d){p.error("SDK versions do not match; initialization failed.");const t={initialized:!1,remoteVersion:d,error:new c.default({code:c.proxyCodes.VERSION_MISMATCH,message:"SDK versions do not match; initialization failed."})};return void e.channel.reply(r,t)}if(e.webRTC=e.webRTC(i.config),i.logLevels){const{WEBRTC:t,PROXY:r,CHANNEL:n}=i.logLevels;e.webRTC.managers.logs.setLevel(t),p.setLevel(r),a.logManager.getLogger("CHANNEL").setLevel(n)}e.isReady=!0,(0,o.default)(e.webRTC,((t,r)=>{if("object"==typeof t&&t.type){p.info(`Sending event over channel: ${t.type}.`);const n=(0,u.v4)().substring(0,8);e.channel.send(n,{action:t,event:r})}else p.debug("Proxy event listeners received unexpected format; ignoring.",t)}));const n=e.webRTC.getBrowserDetails();p.info(`Browser details: ${n.browser}, version ${n.version}.`),t.onInit&&t.onInit(e.webRTC),e.channel.reply(r,{initialized:!0,browser:n,remoteVersion:d}),p.info("Finished initializing local webRTC stack.")}else if(function(e){return e.modelType&&e.id&&e.operation}(i))if(e.isReady){const t=Date.now();p.info(`Received ${i.modelType} ${i.operation} operation, performing...`),(0,n.default)(e.webRTC,i).then((n=>{p.info(`Finished ${i.modelType} ${i.operation} operation in, replying with result.`);const o={result:n,opTiming:{start:t,end:Date.now()}};e.channel.reply(r,o)}))}else p.info("Client not ready! Still needs to be initialized."),e.channel.reply(r,{initialized:!1,error:new c.default({code:c.proxyCodes.INVALID_STATE,message:"Remote client not initialized."})});else p.error("Unknown data format; ignoring.",i),e.channel.reply(r,{data:i,remoteVersion:d,error:new c.default({message:"Unknown format.",code:c.proxyCodes.UNKNOWN})})}},getChannel:()=>(p.debug(`${a.API_LOG_TAG}proxy.getChannel`),e.channel),send:function(){p.debug(`${a.API_LOG_TAG}proxy.send`),e.channel&&e.channel.send?e.channel.send(...arguments):p.error("Cannot send without a channel to use.")},onInit:void 0};return t};var n=f(r(2046)),o=f(r(1336)),i=r(6937),a=r(9932),s=r(3126),c=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=l(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(5412)),u=r(4596),d=f(r(7654));function l(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(l=function(e){return e?r:t})(e)}function f(e){return e&&e.__esModule?e:{default:e}}const p=a.logManager.getLogger("PROXY")},6880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=(0,o.default)();return{...e,setWebrtcListeners:function(t){const r=t.managers.media,n=t.managers.devices,o=t.managers.track;o.on("add",(t=>{const r=o.get(t);r&&(r.on("muted",(t=>{e.emit("track:muted",{...t})})),r.on("unmuted",(t=>{e.emit("track:unmuted",{...t})})))})),n.on("change",(()=>{n.checkDevices().then((t=>{e.emit("devices:change",t)}))})),r.on("media:new",(t=>{r.get(t).on("track:new",(t=>{let{mediaId:r,trackId:n}=t;e.emit("track:new",{mediaId:r,trackId:n})})),e.emit("media:new",t)})),r.on("media:removed",(t=>{e.emit("media:removed",{mediaId:t})}))}}};var n,o=(n=r(9353))&&n.__esModule?n:{default:n}},3629:(e,t,r)=>{"use strict";var n=u(r(7216)),o=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=c(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(1937)),i=u(r(6880)),a=r(9932),s=r(3126);function c(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(c=function(e){return e?r:t})(e)}function u(e){return e&&e.__esModule?e:{default:e}}const d=a.logManager.getLogger("PROXY");function l(){const e=(0,s.getVersion)();d.info(`Remote SDK version: ${e}`);const t=(0,n.default)();let r;const a=(0,i.default)();t.onInit=function(e){r=e,a.setWebrtcListeners(e),a.emit("initialize",e)};const{onInit:c,...u}=t;function l(e){return function(){if(r){for(var t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return e(r,...n)}d.info("Remote Proxy not yet initialized; cannot use media APIs yet.")}}const f={};for(const e in o)f[e]=l(o[e]);return{proxy:u,media:f,on:a.on,off:a.off,getCapabilities:()=>[],getVersion:()=>e}}l.create=l,e.exports=l},1937:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getDevices=function(e){return i.debug(`${o.API_LOG_TAG}media.getDevices`),e.managers.devices.get()},t.getMedia=function(e){return i.debug(`${o.API_LOG_TAG}media.getMedia`),e.managers.media.getAll()},t.getMediaById=function(e,t){return i.debug(`${o.API_LOG_TAG}media.getMediaById: ${t}`),e.managers.media.get(t).getState()},t.getTrackById=function(e,t){return i.debug(`${o.API_LOG_TAG}media.getTrackById: ${t}`),e.managers.track.get(t)},t.removeTracks=function(e,t,r){i.debug(`${o.API_LOG_TAG}media.removeTracks: ${t}, ${(0,n.logCssSelector)(r)}`);const a=e.managers.renderer,s=document.querySelector(r);if(!s)return i.debug("HTML container not found."),!1;t.forEach((e=>{a.unrenderTrack(e,s)}))},t.renderTracks=function(e,t,r){i.debug(`${o.API_LOG_TAG}media.renderTracks: ${t}, ${(0,n.logCssSelector)(r)}`);const a=e.managers.track,s=e.managers.renderer,c=t.map(a.get),u=document.querySelector(r);if(!u)return i.debug("HTML container not found."),!1;c.forEach((e=>{e&&s.renderTrack(e,u)}))};var n=r(1011),o=r(9932);const i=o.logManager.getLogger("PROXY")},1336:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.default)(e.managers.media,t),(0,o.default)(e.managers.sessionManager,t),(0,i.default)(e.managers.track,t),(0,a.default)(e.managers.devices,t)};var n=s(r(620)),o=s(r(5863)),i=s(r(1173)),a=s(r(2140));function s(e){return e&&e.__esModule?e:{default:e}}},3453:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(4507);t.default={trickleIceMode:n.PEER.TRICKLE_ICE.FULL,removeBundling:!1,halfTrickleThreshold:function(e){let{sdp:t,iceCandidate:r,time:n}=e;return-1!==r.candidate.indexOf("relay")}}},9957:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,config:o,iceTimer:i,emitter:a,iceCandidates:s,log:c}=this;return t.onicecandidate=t=>{c.debug(`ICE candidate received (trickling?: ${o.trickleIceMode===n.PEER.TRICKLE_ICE.FULL}): `,t.candidate),null!==t.candidate&&s.push(t.candidate);const u=i.timeFromStart();a.emit("iceCandidateCollected",{iceCollectionDuration:u,iceCandidates:s,iceGatheringState:r.iceGatheringState,rtcPeerConnectionConfig:o,rtcLocalSessionDescription:r.localDescription}),o.trickleIceMode===n.PEER.TRICKLE_ICE.FULL?t.candidate&&e(t):o.trickleIceMode===n.PEER.TRICKLE_ICE.HALF&&(o.halfTrickleThreshold({sdp:r.localDescription.sdp,iceCandidate:t.candidate,time:u})?(c.debug("Half ICE collection process complete; ready for negotiation."),o.trickleIceMode=n.PEER.TRICKLE_ICE.FULL,a.emit("onnegotiationready")):c.debug("Peer's half trickle threshold not reached."))},!0},r(9375);var n=r(4507)},9518:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,log:r}=this;return t.oniceconnectionstatechange=function(n){r.debug(`Peer received iceconnectionstatechange event: ${t.iceConnectionState}`),e(n)},!0}},2988:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,iceTimer:r,log:o}=this;return t.onicegatheringstatechange=t=>{const i=t.target.iceGatheringState;o.debug(`Peer iceGatheringState changed to ${i}.`),i===n.PEER.ICE_GATHERING_STATE.GATHERING?r.start():i===n.PEER.ICE_GATHERING_STATE.COMPLETE&&(o.debug(`Peer took ${r.timeFromStart()}ms to collect ICE candidates.`),r.stop()),e(t)},!0};var n=r(4507)},1725:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(9957)),o=u(r(9518)),i=u(r(2988)),a=u(r(7989)),s=u(r(1280)),c=u(r(5094));function u(e){return e&&e.__esModule?e:{default:e}}t.default={onicecandidate:n.default,oniceconnectionstatechange:o.default,onicegatheringstatechange:i.default,onnegotiationneeded:a.default,onsignalingstatechange:s.default,ontrack:c.default}},7989:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,log:r}=this;return t.onnegotiationneeded=function(t){r.debug("Peer received negotiationneeded event."),e(t)},!0}},1280:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,log:r}=this;return t.onsignalingstatechange=function(n){r.debug(`Peer received signalingstatechange event: ${t.signalingState}`),e(n)},!0}},5094:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{proxyPeer:t,nativePeer:r,trackManager:n,log:o}=this;return r.ontrack=async r=>{const{track:i,streams:a,transceiver:s}=r;let c;o.debug(`Peer received ${i.kind} Track ${i.id}.`),t.transceivers.find((e=>e.mid===s.mid))||t.transceivers.push(s),0===a.length?(c=await new MediaStream([i]),o.debug("New Track is not associated with remote Stream.")):(c=a[0],o.debug(`New Track is associated with remote Stream ${c.id}.`));const u=n.add(i,i.kind,c,!1);e(u)},!0},r(9375)},1655:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;const l=s.logManager.getLogger("Peer",e);t=(0,c.default)(a.default,t),l.info("Creating new Peer.");const p=(0,d.createTimer)(),g=new u.default;l.debug("Creating native PeerConnection.",t.rtcConfig);const m=new RTCPeerConnection(t.rtcConfig,{optional:[{googDscp:!0}]}),h={...o.default,...f.methods,on:g.on.bind(g),off:g.off.bind(g),once:g.once.bind(g)},v={...n.default,...f.events},y={nativePeer:m,proxyPeer:void 0,id:e,dtlsRole:null,config:t,trackManager:r,log:l,iceTimer:p,emitter:g,iceCandidates:[],iceLoop:void 0,transceivers:[]};y.proxyPeer=new Proxy(y,{get:function(e,t,r){return"function"==typeof y.nativePeer[t]?Object.keys(h).includes(t)?h[t].bind(y):y.nativePeer[t].bind(y.nativePeer):h[t]&&"function"==typeof h[t]?h[t].bind(y):i.default[t]?"function"==typeof i.default[t]?i.default[t].bind(y)():y.nativePeer[t]:"nativePeer"!==t&&y[t]?y[t]:y.nativePeer[t]},set:function(e,t,r,n){return v[t]?v[t].bind(y)(r):"dtlsRole"===t?(y.dtlsRole=r,!0):Reflect.set(y.nativePeer,t,r)}});for(const e in v)y.proxyPeer[e]=()=>{};return y.proxyPeer},t.setPeerProxies=function(){f=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{methods:{},events:{}}},r(2234);var n=l(r(1725)),o=l(r(2254)),i=l(r(217)),a=l(r(3453)),s=r(271),c=l(r(7485)),u=l(r(9353)),d=r(7208);function l(e){return e&&e.__esModule?e:{default:e}}let f={methods:{},events:{}}},6353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,id:n,log:o}=this;return o.info("Adding ICE candidate."),new Promise(((i,a)=>{r.remoteDescription.type&&r.remoteDescription.sdp?t.addIceCandidate(e).then(i).catch(a):(o.info("Cannot set remote ICE candidate without a remote description."),a(new Error(`Peer ${n} cannot set remote ICE candidate without a remote description.`)))}))},r(7107)},3331:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{proxyPeer:t,nativePeer:r,log:n}=this;let o;n.info(`Adding new ${e.track.kind} track.`);try{o=r.addTransceiver(e.track,{direction:"sendrecv",streams:[e.getStream()]}),t.transceivers.push(o)}catch(e){n.info(`Failed to add track: ${e.message}`)}return o},r(9375)},8478:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{nativePeer:e,id:t,emitter:r,iceLoop:n,log:o}=this;o.info("Closing Peer."),n&&clearTimeout(n),e.close(),r.emit("peer:closed",t)}},3570:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nativePeer:t,config:r,dtlsRole:a,log:s}=this;return s.info("Creating local answer."),delete e.mediaDirections,new Promise(((c,u)=>{t.createAnswer(e).then((t=>{const u=[];u.push(i.preventDtlsRoleChange),r.trickleIceMode===n.PEER.TRICKLE_ICE.NONE&&u.push(i.removeTrickleIce),r.removeBundling&&u.push(i.removeBundling),e.mediaDirections&&u.push((0,i.changeMediaDirection)(e.mediaDirections)),u.length>0&&(t.sdp=(0,o.runPipeline)(u,t.sdp,{type:t.type,endpoint:n.PEER.ENDPOINT.LOCAL,dtlsRole:a})),s.info("Finished creating local answer."),c(t)})).catch(u)}))},r(9375);var n=r(4507),o=r(8851),i=r(5424)},8016:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{nativePeer:t,config:r,log:a}=this;return a.info("Creating local offer."),delete e.mediaDirections,new Promise(((s,c)=>{t.createOffer(e).then((t=>{const c=[];r.trickleIceMode===n.PEER.TRICKLE_ICE.NONE&&c.push(i.removeTrickleIce),r.removeBundling&&c.push(i.removeBundling),e.mediaDirections&&c.push((0,i.changeMediaDirection)(e.mediaDirections)),c.length>0&&(t.sdp=(0,o.runPipeline)(c,t.sdp,{type:t.type,endpoint:n.PEER.ENDPOINT.LOCAL})),a.info("Finished creating local offer."),s(t)})).catch(c)}))},r(9375);var n=r(4507),o=r(8851),i=r(5424)},412:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{proxyPeer:t}=this;return t.getTransceivers().find((t=>null==t.sender.track&&t.receiver&&t.receiver.track&&t.receiver.track.kind===e&&"stopped"!==t.currentDirection))}},6949:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e,config:t,id:r}=this;return{id:r,config:t,localDesc:e.localDescription,signalingState:e.signalingState,localTracks:e.localTracks,remoteTracks:e.remoteTracks,senderTracks:e.senderTracks}}},503:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,log:n}=this;return n.info("Getting stats "+(e?"for track.":".")),e?new Promise(((t,o)=>{const i=r.getSenders().find((t=>t.track.id===e));if(i)i.getStats().then(t).catch(o);else{const t=`Cannot find sender with trackId: ${e}`;n.info(t),o(new Error(t))}})):t.getStats()},r(7107)},8729:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e}=this;return e.transceivers}},2254:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=v(r(6353)),o=v(r(3331)),i=v(r(8478)),a=v(r(3570)),s=v(r(8016)),c=v(r(412)),u=v(r(6949)),d=v(r(503)),l=v(r(8729)),f=v(r(4069)),p=v(r(7111)),g=v(r(4825)),m=v(r(5349)),h=v(r(1404));function v(e){return e&&e.__esModule?e:{default:e}}const y={addIceCandidate:n.default,addTransceiver:o.default,close:i.default,createAnswer:a.default,createOffer:s.default,findReusableTransceiver:c.default,getState:u.default,getStats:d.default,getTransceivers:l.default,removeTrack:f.default,replaceTrack:p.default,sendDTMF:g.default,setLocalDescription:m.default,setRemoteDescription:h.default};t.default=y},4069:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,log:n}=this;if(n.info(`Removing track ${e}.`),!r.senderTracks.find((t=>t.id===e)))return void n.info(`Invalid track ID ${e}; no such track found.`);if(" closed"===r.signalingState)return void n.info("Peer is closed; cannot remove track.");const o=r.getSenders().filter((e=>null!==e.track)).find((t=>t.track.id===e));t.removeTrack(o)}},7111:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const{proxyPeer:r,log:n}=this;return n.info(`Replacing track ${t.trackId} with new ${e.kind} track.`),new Promise(((o,i)=>{const a=r.getTransceivers().find((e=>e.sender.track&&e.sender.track.id===t.trackId)),s=a?a.sender:void 0;s?s.replaceTrack(e).then(o).catch((e=>{n.info(`Failed to replace track; ${e.message}`),i(e)})):(n.info(`Failed to replace track; could not find track ${t.trackId}.`),i(new Error(`Sender for track ${t.trackId} not found.`)))}))},r(7107)},4825:(e,t)=>{"use strict";function r(e,t,r,n,o,i){if(!e.dtmf)return i.debug("The sender requires DTMF which is not support by this browser."),!1;{const a=e.dtmf;a.ontonechange=o||function(e){""!==e.tone?i.debug("Tone played: "+e.tone):i.debug("All tones have played.")};try{return a.insertDTMF(t,r,n),!0}catch(e){return i.debug(e.message),!1}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let{tone:n,duration:o=100,intertoneGap:i=70}=e,{callback:a,trackId:s}=t;const{proxyPeer:c,log:u}=this;if(u.info("Sending DTMF tones.",n),!c.getSenders)return u.info("Failed to send tones; getSenders is not supported by this browser."),!1;const d=c.getSenders();if(s){const e=d.find((e=>e.track.id===s));return e?(r(e,n,o,i,a,u),!0):(u.info(`Failed to send tones; could not find track ${s}.`),!1)}{let e;for(let t=0;t<d.length;t++)if(e=r(d[t],n,o,i,a,u),e)return!0;return u.info("Failed to send tones; could not find an appropriate track."),!1}}},5349:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,config:n,id:a,emitter:s,iceTimer:c,log:u}=this;if(u.info(`Setting local description ${e.type} in ${r.signalingState} state.`),u.debug(`Setting local description ${e.type}:`,e.sdp),!this.dtlsRole&&"answer"===e.type){const t=e.sdp.match(/a=setup:(\w*?)[\r\n]/);t&&(u.debug(`Selecting DTLS role ${t[1]}.`),this.dtlsRole=t[1])}return new Promise(((d,l)=>{s.once("onnegotiationready",(()=>{c.isStarted()&&u.debug(`Took ${c.timeFromStart()}ms to collect ICE candidates before negotiation.`),d()})),t.setLocalDescription(e).then((()=>{u.info("Finished setting local description."),u.debug(`State is now ${r.signalingState}.`),n.trickleIceMode===o.PEER.TRICKLE_ICE.FULL?(u.debug("Ready for negotiation (full trickleICE)."),s.emit("onnegotiationready")):setTimeout((()=>{"complete"===r.iceGatheringState?(u.debug("Ready for negotiation; ICE candidate collection not needed."),s.emit("onnegotiationready")):(u.debug(`Waiting for ICE collection process (${n.trickleIceMode}).`),r.isIceCollectionCheckOngoing=!0,(0,i.default)(this))}),25)})).catch((e=>{u.info("Failed to set local description."),u.debug(`Peer ${a}: ${e}`),l(e)}))}))};var n,o=r(4507),i=(n=r(4839))&&n.__esModule?n:{default:n}},1404:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{nativePeer:t,proxyPeer:r,id:n,log:o}=this;if(o.info(`Setting remote description ${e.type} in ${r.signalingState} state.`),o.debug(`Setting remote description ${e.type}:`,e.sdp),!this.dtlsRole&&"answer"===e.type){const t=e.sdp.match(/a=setup:(\w*?)[\r\n]/);if(t){const e="active"===t[1]?"passive":"active";o.debug(`Selecting DTLS role ${e}. Remote Peer selected ${t[1]} DTLS role.`),this.dtlsRole=e}}return new Promise(((i,a)=>{t.setRemoteDescription(e).then((()=>{o.info("Finished setting remote description."),o.debug(`State is now ${r.signalingState}.`),i()})).catch((e=>{o.info("Failed to set remote description."),o.debug(`Peer ${n}: ${e}`),a(e)}))}))}},217:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=u(r(406)),o=u(r(9890)),i=u(r(5397)),a=u(r(8545)),s=u(r(1203)),c=u(r(3692));function u(e){return e&&e.__esModule?e:{default:e}}t.default={localDescription:n.default,localTracks:o.default,remoteDescription:i.default,remoteTracks:a.default,remoteTracksAll:s.default,senderTracks:c.default}},406:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{nativePeer:e,log:t}=this;t.info("Getting local description.");const r=e.localDescription;return r&&r.sdp&&r.type?r:void 0}},9890:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e,trackManager:t,log:r}=this;return r.info("Getting local tracks."),e.getSenders().filter((e=>Boolean(e.track))).map((e=>t.get(e.track.id))).filter((e=>e&&"live"===e.getState().state&&e.getStream().active))}},5397:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{nativePeer:e,log:t}=this;t.info("Getting remote description.");const r=e.remoteDescription;return r&&r.sdp&&r.type?r:void 0}},1203:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e,trackManager:t,log:r}=this;return r.info("Getting remote tracks."),e.getReceivers().filter((e=>Boolean(e.track))).map((e=>t.get(e.track.id))).filter((e=>e&&"live"===e.getState().state))}},8545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e,trackManager:t,log:r}=this;return r.info("Getting remote tracks."),e.getReceivers().filter((e=>Boolean(e.track))).map((e=>t.get(e.track.id))).filter((e=>e&&"live"===e.getState().state&&e.getStream().active))}},3692:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const{proxyPeer:e,log:t}=this;return t.info("Getting sender tracks."),e.getSenders().filter((e=>Boolean(e.track))).map((e=>e.track))}},4839:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{proxyPeer:t,iceTimer:r,iceCandidates:n,emitter:o,config:i}=e,a=r.timeFromStart();o.emit("scheduledCheck",{iceCollectionDuration:a,iceCandidates:n,iceGatheringState:t.iceGatheringState,rtcPeerConnectionConfig:i,rtcLocalSessionDescription:t.localDescription})}},7208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createTimer=function(){return Object.create(r)};const r={start(){return!this.isStarted()&&(this._startTime=n(),!0)},stop(){return!!this.isStarted()&&(this._startTime=void 0,!0)},isStarted(){return Boolean(this._startTime)},timeFromStart(){return this.isStarted()?n()-this._startTime:0},getStartTime(){return this._startTime}};function n(){return(new Date).getTime()}},4507:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PEER=t.MEDIA_DIR=t.ICE_COLLECTION_RESULT_TYPES=t.ICE_COLLECTION_CHECK_REASONS=void 0,t.PEER={TRICKLE_ICE:{FULL:"FULL",HALF:"HALF",NONE:"NONE"},ICE_GATHERING_STATE:{NEW:"new",GATHERING:"gathering",COMPLETE:"complete"},ENDPOINT:{LOCAL:"local",REMOTE:"remote"}},t.MEDIA_DIR={INACTIVE:"inactive",SEND_ONLY:"sendonly",RECV_ONLY:"recvonly",SEND_RECV:"sendrecv"},t.ICE_COLLECTION_CHECK_REASONS={ICE_GATHERING_STATE_CHANGE:"IceGatheringStateChanged",NEW_CANDIDATE:"NewCandidate",SCHEDULED:"Scheduled",STARTED:"Started"},t.ICE_COLLECTION_RESULT_TYPES={START_CALL:"StartCall",WAIT:"Wait",ERROR:"Error"}},7654:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=p.logManager.getLogger("WebRTC"),t=_();t.version?e.debug(`Browser details: ${t.browser}, version ${t.version}.`):e.debug("Browser details: Not supported by webRTC adapter.");const r=new f.default,h=new u.default,v=new d.default,y=new a.default({trackManager:v}),C=new s.default({trackManager:v}),b=new c.default({peerManager:C,mediaManager:y,trackManager:v,deviceManager:h}),E=new l.default;return{models:{Track:n.default,Media:o.default,Peer:i.default},managers:{devices:h,media:y,peerManager:C,sessionManager:b,track:v,logs:p.logManager,webrtcManager:E,renderer:r},sdp:{pipeline:g.default,handlers:m},getBrowserDetails:_}},t.getBrowserDetails=void 0,t.getWebRTCSupportCapabilities=function(){return{mediaDevices:Boolean(navigator.mediaDevices),peerConnection:Boolean(window.RTCPeerConnection)}};var n=y(r(5626)),o=y(r(7237)),i=y(r(1655)),a=y(r(276)),s=y(r(9908)),c=y(r(8876)),u=y(r(5902)),d=y(r(5469)),l=y(r(6371)),f=y(r(7707)),p=r(271),g=y(r(8851)),m=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=v(t);if(r&&r.has(e))return r.get(e);var n={__proto__:null},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var a=o?Object.getOwnPropertyDescriptor(e,i):null;a&&(a.get||a.set)?Object.defineProperty(n,i,a):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(r(5424)),h=r(6555);function v(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(v=function(e){return e?r:t})(e)}function y(e){return e&&e.__esModule?e:{default:e}}const _=t.getBrowserDetails=h.getBrowserDetails},271:(e,t,r)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.logManager=void 0;const o=(0,((n=r(4413))&&n.__esModule?n:{default:n}).default)({level:"DEBUG"});t.logManager=o},5902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WEBRTC_DEVICE_KINDS=void 0,t.default=function(){const e=o.logManager.getLogger("Manager","Device"),t=new i.default;let r=[],n=[],s=[],c=[];l().then((()=>{u?t.emit("change"):e.info("Initial media device discovery ignored.")}));let u=!0,d=!1;function l(){return e.info("Checking media devices."),new Promise(((e,t)=>{navigator.mediaDevices.enumerateDevices().then((t=>{r=[],n=[],s=[],t.forEach((e=>{switch(a[e.kind]){case"microphone":r.push(e);break;case"camera":n.push(e);break;case"speaker":s.push(e)}})),e(f())})).catch(t)}))}function f(){return{microphone:r,camera:n,speaker:s}}return p="devicechange",g=()=>{!d&&u?(e.info("Media device change detected."),d=!0,setTimeout((()=>{d=!1,l().then((()=>{u?t.emit("change"):e.info("Media device change ignored after being detected.")}))}),50)):e.info(`Media device change detected, but ${u?"throttling":"ignoring"}.`)},navigator.mediaDevices.addEventListener(p,g),c.push({event:p,handler:g}),{setListening:function(t){e.debug(`Listening for device changes: ${t}`),u=t},checkDevices:l,setupDeviceInitialization:function(e){return new Promise(((t,r)=>{navigator.mediaDevices.getUserMedia(e).then((e=>{e.getTracks().forEach((e=>{e.stop()}));const r=l();t(r)})).catch(r)}))},cleanup:function(){c.forEach((e=>{let{event:t,handler:r}=e;navigator.mediaDevices.removeEventListener(t,r)})),c=[]},get:f,on:function(){return t.on(...arguments)},once:function(){return t.once(...arguments)},off:function(){return t.off(...arguments)},emit:function(){return t.emit(...arguments)}};var p,g},r(9375);var n,o=r(271),i=(n=r(9353))&&n.__esModule?n:{default:n};const a=t.WEBRTC_DEVICE_KINDS={audioinput:"microphone",videoinput:"camera",audiooutput:"speaker"}},276:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=n.logManager.getLogger("Manager","Media"),r=e.trackManager,a=new Map,s=new i.default;function c(e){for(const t in e)if(e[t]&&"object"==typeof e[t]&&"string"==typeof e[t].deviceId){const r=e[t].deviceId;e[t].deviceId={exact:r}}return e}function u(e,n,i){const a=new o.default(e,!0);return t.debug(`Creating Media with ID: ${a.id}.`),e.getTracks().forEach((t=>{const o=r.add(t,n||t.kind,e,!0,i);a.addTrack(o)})),a.once("media:stopped",(e=>{d(e)})),a.on("track:ended",(e=>{let{mediaId:t,trackId:r}=e;0===a.getTracks().length&&d(t)})),a.on("track:muted",(e=>{let{mediaId:t,trackId:r}=e})),a}function d(e){l(e)&&(a.delete(e),s.emit("media:removed",e))}function l(e){const r=a.get(e);return r||t.debug(`No media found with ID: ${e}.`),r}function f(){return Array.from(a.keys())}return{get:l,getAll:f,getState:function(){return f().map((e=>l(e).getState()))},findTrack:function(e){const r=Array.from(a.values()).find((t=>t.getTrack(e)));if(r)return t.debug(`Found Media (${r.id}) with Track ${e}.`),r.id;t.debug(`Found no Media with Track ${e}.`)},createLocal:function(e,t){const r=c(e);return new Promise(((e,n)=>{navigator.mediaDevices.getUserMedia(r).then((r=>{const n=u(r,void 0,t);a.set(n.id,n),s.emit("media:new",n.id),e(n)})).catch(n)}))},createLocalScreen:function(e,t){const r=c(e);return new Promise(((e,n)=>{navigator.mediaDevices.getDisplayMedia(r).then((r=>{const n=u(r,"screen",t);a.set(n.id,n),s.emit("media:new",n.id),e(n)})).catch(n)}))},createRemote:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const r=new o.default(e,!1);return t.forEach((e=>{r.addTrack(e)})),r.once("media:stopped",(e=>{d(e)})),r.on("track:ended",(e=>{let{mediaId:t,trackId:n}=e;0===r.getTracks().length&&d(t)})),a.set(r.id,r),s.emit("media:new",r.id),r},on:function(){return s.on(...arguments)},once:function(){return s.once(...arguments)},off:function(){return s.off(...arguments)}}};var n=r(271),o=a(r(7237)),i=a(r(9353));function a(e){return e&&e.__esModule?e:{default:e}}},9908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=n.logManager.getLogger("Manager","Peer"),r=e.trackManager,s=new Map,c=new a.default;function u(e){const r=s.get(e);return r||t.debug(`No Peer found with ID: ${e}.`),r}function d(){return Array.from(s.keys())}return{getState:function(){return d().map((e=>u(e).getState()))},get:u,getAll:d,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=new o.default((0,i.v4)(),e,r);return t.once("peer:closed",(e=>s.delete(e))),s.set(t.id,t),c.emit("peer:new",t.id),t},on:function(){return c.on(...arguments)},once:function(){return c.once(...arguments)},off:function(){return c.off(...arguments)}}};var n=r(271),o=s(r(1655)),i=r(4596),a=s(r(9353));function s(e){return e&&e.__esModule?e:{default:e}}},7707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e={};return{renderTrack:function(t,r,i){const a=n.logManager.getLogger("Track",t.id);let s;if("string"==typeof r){if(a.info(`Rendering track in element using selector: ${r}`),s=document.querySelector(r),!s)return a.error(`Unable to get container with selector: ${r}.`),!1}else a.info("Rendering track in provided HTMLElement."),s=r;const c=t.getState().kind,u=`${c}-${(0,o.makeSafeForCSS)(t.id)}`;let d=e[t.id];if(d){if(d.containers.indexOf(s)>-1)return a.warn("Failed to render track; already rendered in element."),!1}else d={containers:[],rendererId:u};d.containers.push(s);const l=document.createElement(c);l.id=u,l.style.height="100%",l.style.width="100%";const f=t.getStream();try{l.srcObject=f}catch(e){a.debug("srcObject property not supported; reverting to createObjectURL."),l.src=window.URL.createObjectURL(f)}return l.autoplay="true","video"===c&&(l.muted="true",l.playsInline="true",l.play().catch((e=>{a.debug(`Could not autoplay renderer #${l.id}: ${e.message}`)}))),i&&void 0!==l.setSinkId?l.setSinkId(i).then((()=>{a.debug(`Set to use speaker: ${i}.`)})).catch((e=>{a.debug(`Could not set speaker to use ${i}: ${e.message}`)})):i&&void 0===l.setSinkId&&a.info("Failed to set speaker; setSinkId not supported in this browser."),s.appendChild(l),e[t.id]=d,!0},unrenderTrack:function(t,r){const o=n.logManager.getLogger("Track",t),i=e[t];if(!i)return o.info("Failed to unrender track; not rendered anywhere."),!1;let a;if("string"==typeof r){if(o.info(`Unrendering track from element using selector: ${r}`),a=document.querySelector(r),!a)return o.error(`Unable to get container with selector: ${r}.`),!1}else o.info("Unrendering track from provided HTMLElement."),a=r;const s=i.containers.findIndex((e=>e===a));if(-1===s)return o.info("Failed to unrender track; not rendered in element."),!1;const c=a.querySelector(`#${i.rendererId}`);return c.srcObject?c.srcObject=null:c.src&&(c.src=null),a.removeChild(c),i.containers.splice(s,1),0===i.containers.length&&delete e[t],!0}}},r(9375),r(1412),r(1883),r(286);var n=r(271),o=r(6555)},8876:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=n.logManager.getLogger("Manager","Session"),r=new Map,s=new a.default;return{create:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=new o.default((0,i.v4)(),e,t);return n.once("session:ended",(e=>{r.delete(e),s.emit("session:removed",e)})),r.set(n.id,n),s.emit("session:new",n.id),n},get:function(e){const n=r.get(e);return n||t.debug(`No session found with ID: ${e}.`),n},getAll:function(){return Array.from(r.values())},getWithMedia:function(e,n,o){const i=r.get(e);if(i)return new Promise(((e,t)=>{i.addNewMedia(n,o).then((t=>{e({session:i,medias:t})})).catch(t)}));t.debug(`No session found with ID: ${e}.`)},on:function(){return s.on(...arguments)},once:function(){return s.once(...arguments)},off:function(){return s.off(...arguments)}}};var n=r(271),o=s(r(8529)),i=r(4596),a=s(r(9353));function s(e){return e&&e.__esModule?e:{default:e}}},5469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){const e=new Map,t=new o.default;function r(t){return e.get(t)}function i(n){let{trackId:o}=n;const a=r(o);return a&&(t.emit("remove",o),e.delete(o),a.off("ended",i)),Boolean(a)}return{get:r,getTracks:function(t){return t?t.map((t=>e.get(t))):Array.from(e.values())},add:function(r,o,a,s,c){const u=e.get(r.id);if(u&&!u.getStream().active&&a.active)return u.setStream(a),u;if(u)return u;{const u=new n.default(r,a);return u.setType(o),u.setIsLocal(s),u.setIsDetached(c),e.set(r.id,u),u.once("ended",(e=>{e.isUnsolicited&&!e.isDetached||i({trackId:r.id})})),t.emit("add",u.id),u}},remove:i,on:function(){return t.on(...arguments)},once:function(){return t.once(...arguments)},off:function(){return t.off(...arguments)}}};var n=i(r(5626)),o=i(r(9353));function i(e){return e&&e.__esModule?e:{default:e}}},6371:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=o.logManager.getLogger("Manager","WebRTC");return{getAvailableCodecs:function(e){const t=RTCRtpSender.getCapabilities(e);if(t&&t.codecs)return t.codecs},setProxies:function(e){void 0===e||void 0===e.peer?(t.debug("Peer functionality has been updated to remove proxies."),(0,n.setPeerProxies)()):(t.debug("Peer functionality has been updated with proxies."),(0,n.setPeerProxies)(e.peer))}}};var n=r(1655),o=r(271)},7237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=o.logManager.getLogger("Media",e.id);r.info(`Creating new ${t?"local":"remote"} Media.`);const n=e.id,a=e,s=new i.default,c=new Map;function u(){return Array.from(c.values())}function d(e){return c.get(e)}return{id:n,tracks:c,isLocal:t,getState:function(){return{id:n,tracks:Array.from(c.values()).map((e=>e.getState())),isLocal:t}},getTracks:u,getTrack:d,addTrack:function(e){c.has(e.id)?r.debug(`Track (${e.id}) is already in Media (${n}).`):(a.getTracks().find((t=>t.id===e.id))||a.addTrack(e.track),c.set(e.id,e),e.on("ended",(()=>{const t=function(e){const t=d(e);if(t)return c.delete(e),t}(e.id);t&&s.emit("track:ended",{mediaId:n,trackId:t.id})})),s.emit("track:new",{mediaId:n,trackId:e.id}),e.on("muted",(e=>{const t=d(e.trackId);t&&t.track&&t.track.muted&&s.emit("track:muted",{mediaId:n,trackId:e.trackId})})),e.on("unmuted",(e=>{const t=d(e.trackId);t&&t.track&&!1===t.track.muted&&s.emit("track:unmuted",{mediaId:n,trackId:e.trackId})})))},stop:function(){u().forEach((e=>{e.stop()})),s.emit("media:stopped",this.id)},on:function(){return s.on(...arguments)},once:function(){return s.once(...arguments)},off:function(){return s.off(...arguments)}}};var n,o=r(271),i=(n=r(9353))&&n.__esModule?n:{default:n}},8529:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=o.logManager.getLogger("Session",e);n.info("Creating new Session.");const p=e;let m;const h=t.peerManager,v=t.mediaManager,y=t.trackManager,_=t.deviceManager,C=new f.default,b={dscpControls:{}},E=new Map;let S,T=h.create(r.peer);if(!T)throw new Error(`Peer creation error in Session ${p}.`);function R(){const e=(0,c.getSdpSessionId)(T.remoteDescription.sdp);E.get(e)||E.set(e,T.dtlsRole)}function P(){const e=h.get(m);return e?e.localTracks:[]}function I(){const e=h.get(m);return e?e.senderTracks.map((e=>y.get(e.id))):[]}function O(){const e=h.get(m);return e?e.remoteTracks:[]}function k(e,t){const r=h.get(m);if(r){const o=e.map((async e=>{const o=r.findReusableTransceiver(e.track.kind);if(o){try{await o.sender.replaceTrack(e.track)}catch(e){throw n.error(e),e}o.direction=["sendrecv","recvonly"].includes(o.direction)?"sendrecv":"sendonly",n.info(`Track (${e.track.kind} : ${e.id}) reused transceiver (mid: ${o.mid}).`)}else await r.addTransceiver(e),n.info(`Added track (${e.track.kind} : ${e.id}).`);C.emit("new:track",{local:!0,trackId:e.id}),b.dscpControls=(0,l.default)(b.dscpControls,t),e.once("ended",(t=>{let{isUnsolicited:r}=t;const o=h.get(m);o&&("closed"!==o.signalingState?(r?(_.emit("change",!0),setTimeout((()=>{C.emit("track:ended",{local:!0,trackId:e.id,isUnsolicited:r})}),50)):(o.removeTrack(e.id),C.emit("track:ended",{local:!0,trackId:e.id,isUnsolicited:r})),b.dscpControls.hasOwnProperty(e.id)&&(n.debug(`Removing track ${e.id} from session dscp settings`),delete b.dscpControls[e.id])):n.debug(`Received ended event for track ${e.id}, but its associated Peer ${o.id} is closed. Ignoring this event...`))}))}));return Promise.all(o)}}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((t,r)=>{const o=h.get(m);o||r(new Error(`Peer not found in Session ${p}.`)),e.mediaDirections&&(D(e.mediaDirections),delete e.mediaDirections),o.createOffer(e).then((r=>{(e.sdpHandlers||s.default.getHandlers().length)&&(n.debug("Modifying local offer with SDP pipeline."),r.sdp=s.default.run(e.sdpHandlers,r.sdp,{type:r.type,endpoint:a.PEER.ENDPOINT.LOCAL})),t(r)})).catch(r)}))}function x(e){return new Promise(((t,r)=>{const n=h.get(m);n||r(new Error(`Peer not found in Session ${p}.`)),n.setLocalDescription(e).then((()=>{"answer"===e.type&&R(),A(),t(n.localDescription)})).catch(r)}))}function A(e){if("firefox"===(0,u.getBrowserDetails)().browser)return void n.debug("Setting sender parameters not supported on Firefox; skipping.");const t=[];for(const e in b.dscpControls)t.push(new Promise(((t,r)=>{n.debug(`Setting networkPriority ${b.dscpControls[e]} for sender with track ${e}`),M(e,b.dscpControls[e]).then(t).catch(r)})));return Promise.all(t)}async function M(e,t){const r=h.get(m).getSenders().find((t=>t.track.id===e));if(r){const e=await r.getParameters();return e.encodings.forEach((e=>{e.networkPriority=t})),r.setParameters(e)}{const t=`Cannot find sender associated with trackId: ${e}`;return n.info(t),Promise.reject(t)}}function D(e){h.get(m).getTransceivers().forEach((t=>{const r=t.receiver.track.kind;(0,i.setTransceiverDirection)(t,e[r])}))}function j(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new Promise(((r,o)=>{const i=h.get(m);i||o(new Error(`Peer not found in Session ${p}.`)),(t.sdpHandlers||s.default.getHandlers().length)&&(n.debug("Modifying remote offer with SDP pipeline."),e.sdp=s.default.run(t.sdpHandlers,e.sdp,{type:e.type,endpoint:a.PEER.ENDPOINT.REMOTE})),i.setRemoteDescription(e).then((()=>{S=e,r()})).catch(o)}))}function N(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((t,r)=>{const o=h.get(m);o||r(new Error(`Peer not found in Session ${p}.`)),e.mediaDirections&&(D(e.mediaDirections),delete e.mediaDirections);const i=(0,c.getSdpSessionId)(o.remoteDescription.sdp),u=E.get(i);!o.dtlsRole&&u&&(o.dtlsRole=u),o.createAnswer(e).then((r=>{(e.sdpHandlers||s.default.getHandlers().length)&&(n.debug("Modifying local answer with SDP pipeline."),r.sdp=s.default.run(e.sdpHandlers,r.sdp,{type:r.type,endpoint:a.PEER.ENDPOINT.LOCAL})),t(r)})).catch(r)}))}function L(){n.info("Ending Session.");const e=h.get(m);e&&e.close(),C.emit("session:ended",p)}function U(e){e.oniceconnectionstatechange=t=>{C.emit("peer:iceConnectionStateChange",{iceConnectionState:e.iceConnectionState})},e.onicecandidate=e=>{C.emit("onicecandidate",{candidate:e.candidate})},e.onicegatheringstatechange=t=>{e.isIceCollectionCheckOngoing?(e.iceLoop&&(clearTimeout(e.iceLoop),e.iceLoop=void 0),C.emit("peer:iceGatheringStateChange",{reason:a.ICE_COLLECTION_CHECK_REASONS.ICE_GATHERING_STATE_CHANGE,iceCollectionDuration:e.iceTimer.timeFromStart(),iceCandidates:e.iceCandidates,iceGatheringState:e.iceGatheringState,rtcPeerConnectionConfig:e.config,rtcLocalSessionDescription:e.localDescription})):"complete"!==e.iceGatheringState&&C.emit("peer:iceGatheringStateChange",{reason:a.ICE_COLLECTION_CHECK_REASONS.STARTED,startTimestamp:e.iceTimer.getStartTime()})},e.on("iceCandidateCollected",g(50)((t=>{e.isIceCollectionCheckOngoing&&(e.iceLoop&&(clearTimeout(e.iceLoop),e.iceLoop=void 0),C.emit("peer:iceCandidateCollected",{reason:a.ICE_COLLECTION_CHECK_REASONS.NEW_CANDIDATE,...t}))}),{leading:!0})),e.on("scheduledCheck",(t=>{e.isIceCollectionCheckOngoing&&(e.iceLoop&&(clearTimeout(e.iceLoop),e.iceLoop=void 0),C.emit("peer:iceCollectionScheduledCheck",{reason:a.ICE_COLLECTION_CHECK_REASONS.SCHEDULED,...t}))})),e.ontrack=e=>{let t=v.get(e.getStream().id);t?t.addTrack(e):t=v.createRemote(e.getStream(),[e]),e.once("ended",(()=>{C.emit("track:ended",{local:!1,trackId:e.id,isUnsolicited:!1})}));const{kind:r}=e.getState();n.info(`Received new track (${r} : ${e.id})`),C.emit("new:track",{local:!1,trackId:e.id})}}return m=T.id,U(T),{id:p,config:r,get peer(){return T},getState:function(){return{id:p,localTracks:P(),remoteTracks:O(),allLocalTracks:I()}},get localTracks(){return P()},get remoteTracks(){return O()},get allLocalTracks(){return I()},warmup:function(){},addTracks:k,removeTracks:function(e){const t=h.get(m);if(t){const r=t.senderTracks;e.forEach((e=>{r.findIndex((t=>t.id===e))>-1&&(t.removeTrack(e),b.dscpControls.hasOwnProperty(e)&&(n.debug(`Removing track ${e} from session dscp settings`),delete b.dscpControls[e]))}))}},replaceTrack:function(e,t){const r=h.get(m),o=y.get(e.id);return r.replaceTrack(o.track,t).then((()=>{o.once("ended",(e=>{let{isUnsolicited:t}=e;const r=h.get(m);r&&("closed"!==r.signalingState?(t||r.removeTrack(o.id),C.emit("track:ended",{local:!0,trackId:o.id,isUnsolicited:t}),b.dscpControls.hasOwnProperty(o.id)&&(n.debug(`Removing track ${o.id} from session dscp settings`),delete b.dscpControls[o.id])):n.debug(`Received ended event for track ${o.id}, but its associated Peer ${r.id} is closed. Ignoring this event...`))})),C.emit("track:replaced",{oldTrackId:t.trackId,trackId:e.id})})).catch((e=>e))},setTransceiversDirection:D,createOffer:w,createAnswer:N,setLocalDescription:x,getRemoteDescription:function(){return T.remoteDescription},getLatestRemoteDesc:function(){return S},generateOffer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((t,r)=>{w(e).then(x).then(t).catch(r)}))},processOffer:j,generateAnswer:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(((t,r)=>{N(e).then(x).then(t).catch(r)}))},processAnswer:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(t.sdpHandlers||s.default.getHandlers().length)&&(n.debug("Modifying remote answer with SDP pipeline."),e.sdp=s.default.run(t.sdpHandlers,e.sdp,{type:e.type,endpoint:a.PEER.ENDPOINT.REMOTE})),new Promise(((t,r)=>{const n=h.get(m);n||r(new Error(`Peer not found in Session ${p}.`)),n.setRemoteDescription(e).then((()=>{R(),S=e,t()})).catch(r)}))},iceCollectionCheckResult:function(e){const t=h.get(m);if(!t)return new Error(`Peer not found in Session ${p}.`);e.type===a.ICE_COLLECTION_RESULT_TYPES.START_CALL?(n.info("Proceeding with the negotiation as instructed by the ice collection check."),t.isIceCollectionCheckOngoing=!1,t.emitter.emit("onnegotiationready")):e.type===a.ICE_COLLECTION_RESULT_TYPES.ERROR?(n.info("Cleaning up session as instructed by the ice collection check."),t.isIceCollectionCheckOngoing=!1,P().forEach((e=>e.stop())),L()):e.type===a.ICE_COLLECTION_RESULT_TYPES.WAIT?e.wait&&(n.debug(`Setting a scheduled check for the ice collection check after ${e.wait} ms`),t.iceLoop=setTimeout((()=>(0,d.default)(t)),e.wait)):(n.info("Unexpected result type from ICE collection check function, ending call."),t.isIceCollectionCheckOngoing=!1,P().forEach((e=>e.stop())),L())},recreatePeer:async function(e){const t=T,o=h.create(r.peer);if(!o)throw new Error(`Peer creation error in Session ${p}.`);m=o.id,n.debug(`Recreated Peer with ID: ${m}`),T=o,e?(await j({type:"offer",sdp:e}),await k(t.localTracks)):await Promise.all(t.localTracks.map((async e=>{await o.addTransceiver(e)}))),U(o),t.close()},rollbackLocalDescription:function(){return new Promise(((e,t)=>{const r=h.get(m);r||t(new Error(`Peer not found in Session ${p}.`)),r.setLocalDescription({type:"rollback"}).then((()=>{e(r.localDescription)})).catch(t)}))},addIceCandidate:function(e){return new Promise(((t,r)=>{const n=h.get(m);n||r(new Error(`Peer not found in Session ${p}.`)),n.addIceCandidate(e).then(t).catch(r)}))},restartIce:function(){const e=h.get(m);e&&e.restartIce()},getDtlsRole:function(){const e=h.get(m);if(e)return e.dtlsRole},end:L,sendDTMF:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=h.get(m);return!!r&&r.sendDTMF(e,t)},getStats:function(e){return new Promise(((t,r)=>{const n=h.get(m);n?n.getStats(e).then(t).catch(r):r(new Error(`Peer not found in Session ${p}.`))}))},setParameters:A,getRemoteTrackIdsFromTransceivers:function(e){const t=T.getTransceivers(),r=[];return t.forEach((t=>{if(e.some((e=>e+""===t.mid))){const e=t.receiver.track.id;r.push(e)}})),r},getIncomingRemoteTrackIds:function(){const e=T.getTransceivers(),t=[];return e.forEach((e=>{null!==e.mid&&e.direction.includes("recv")&&"live"===e.receiver.track.readyState&&t.push(e.receiver.track.id)})),t},getActiveRemoteTrackIds:function(){const e=T.getTransceivers(),t=[];return e.forEach((e=>{null!==e.mid&&e.currentDirection&&e.currentDirection.includes("recv")&&"live"===e.receiver.track.readyState&&t.push(e.receiver.track.id)})),t},insertAudio:function(e){return new Promise(((t,r)=>{let o=!1;function i(){o?d.play():o=!0}function a(){n.info(`Stopping track ${c.id} to release the microphone after error.`),c.track.stop(),c.track.onended(new Event("track-error"))}const s=h.get(m),c=s.localTracks.find((e=>"audio"===e.track.kind&&"live"===e.track.readyState));c||r(new Error("No valid local audio track found to insert audio file on."));let u=c.id;const d=new Audio(e);d.volume=.2;const l=new AudioContext,f=l.createMediaElementSource(d),p=l.createMediaStreamDestination();f.connect(p);const g=p.stream.getAudioTracks()[0];s.replaceTrack(g,{trackId:c.id}).then((()=>{u=g.id,n.debug("Replaced audio from file media."),i()})).catch((e=>{n.info(`Failed to replace audio with file media: ${e.message}.`),r(new Error("Failed to replace audio track with file media."))})),d.oncanplaythrough=()=>{n.debug("File media ready to be played."),i()},d.onplay=()=>{n.debug(`Audio file started playing. Duration of ${d.duration} seconds.`),t(d.duration)},d.onerror=()=>{n.info("Encountered error trying to play audio file."),u!==c.id&&s.replaceTrack(c.track,{trackId:g.id}).catch((()=>{a()})),r(new Error("Failed to play audio file.")),C.emit("audioFileEnded",!1)},d.onended=e=>{n.debug("Audio file ended playing."),s.replaceTrack(c.track,{trackId:g.id}).then((()=>{n.debug("Replaced original audio track."),C.emit("audioFileEnded",!0)})).catch((e=>{n.info("Failed to replace original audio track.",e),a(),C.emit("audioFileEnded",!1)}))}}))},addNewMedia:function(e,r){function o(e){const{audio:t,video:r,screen:n}=e;return new Promise((e=>{t||r?v.createLocal({audio:t,video:r}).then((t=>{e({status:"fulfilled",value:t})})).catch((t=>{e({status:"rejected",value:t})})):n&&v.createLocalScreen({video:n}).then((t=>{e({status:"fulfilled",value:t})})).catch((t=>{e({status:"rejected",value:t})}))}))}return new Promise(((i,a)=>{const{audio:s,video:c,screen:u}=e,d=[];s&&d.push(o({audio:s})),c&&d.push(o({video:c})),u&&d.push(o({screen:u})),Promise.all(d).then((o=>{if(o.some((e=>e&&"rejected"===e.status))){const e=o.filter((e=>e&&"fulfilled"===e.status)).map((e=>e.value));Promise.all(e.map((e=>e.stop))).then((()=>{const e=o.find((e=>"rejected"===e.status)).value;let t;t="OverconstrainedError"===e.name?`Failed to get media due to constraint: ${e.constraint}.`:`Failed to get media => Name: ${e.name}; Error Message :${e.message}.`,n.info(t);const r=new Error(t);r.name=e.name,a(r)}))}else{if(e.medias)for(const r of e.medias){const e=t.mediaManager.get(r.media.id);e&&o.push({value:e})}const n={};k(o.reduce(((e,t)=>{if(t){const o=t.value.getTracks();if(r)for(const e of o)"audio"===e.getType()&&r.audioNetworkPriority?n[e.id]=r.audioNetworkPriority:"video"===e.getType()&&r.videoNetworkPriority?n[e.id]=r.videoNetworkPriority:"screen"===e.getType()&&r.screenNetworkPriority&&(n[e.id]=r.screenNetworkPriority);return e.concat(o)}return e}),[]),n).then((()=>{const e=o.filter((e=>e&&e.value)).map((e=>e.value));i(e)})).catch(a)}}))}))},on:function(){return C.on(...arguments)},once:function(){return C.once(...arguments)},off:function(){return C.off(...arguments)}}},r(7107),r(2234),r(9375);var n=p(r(4255)),o=r(271),i=r(6106),a=r(4507),s=p(r(8851)),c=r(9556),u=r(6555),d=p(r(4839)),l=p(r(7485)),f=p(r(9353));function p(e){return e&&e.__esModule?e:{default:e}}const g=n.default.convert({fixed:!1})},5626:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){const r=o.logManager.getLogger("Track",e.id);r.info(`Creating new ${e.kind} Track.`);const n=e.id,a=e;let s,c,u,d=t,l={};const f=new i.default;function p(){return u}return a.onended=e=>{const t=e instanceof Event,n=c?"local":"remote",o=t?"unsolicited":"solicited";r.debug(`Track ended (${n}, ${o}).`,e),f.emit("ended",{trackId:a.id,isUnsolicited:t,isDetached:p()})},a.onmute=e=>{r.debug("Event emitted: ",e),f.emit("muted",{trackId:a.id,mediaId:d.id,isLocal:c})},a.onunmute=e=>{r.debug("Event emitted: ",e),f.emit("unmuted",{trackId:a.id,mediaId:d.id,isLocal:c})},{id:n,getState:function(){return{id:n,streamId:d.id,kind:a.kind,type:s,isLocal:c,label:a.label,muted:a.muted,enabled:a.enabled,state:a.readyState,detached:u}},mute:function(){a.enabled=!1},unmute:function(){a.enabled=!0},stop:function(){"ended"!==a.readyState?(a.stop(),a.onended()):r.debug("Track already ended.")},getConstraints:function(){return l},setConstraints:function(e){l=e},on:function(){return f.on(...arguments)},off:function(){return f.off(...arguments)},once:function(){return f.once(...arguments)},track:a,setStream:function(e){d=e},getStream:function(){return d},setType:function(e){s=e},getType:function(){return s},setIsLocal:function(e){c=e},isLocal:function(){return c},setIsDetached:function(e){u=e},isDetached:p}};var n,o=r(271),i=(n=r(9353))&&n.__esModule?n:{default:n}},9556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getSdpSessionId=function(e){const t=e.match(/o=.*/gm);if(t&&t[0])return t[0].split(" ")[1]}},5424:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.changeMediaDirection=function(e){let{audio:t,video:r}=e;function n(e){return Object.values(o.MEDIA_DIR).includes(e)}return(e,o,i)=>(e.media.forEach((e=>{"audio"===e.type&&n(t)?e.direction=t:"video"===e.type&&n(r)&&(e.direction=r)})),e)},t.preventDtlsRoleChange=function(e,t,r){if("local"===t.endpoint&&"answer"===t.type)for(const r of e.media)r.setup&&t.dtlsRole&&r.setup!==t.dtlsRole&&(i.debug(`Changing DTLS role from ${r.setup} to ${t.dtlsRole}.`),r.setup=t.dtlsRole);return e},t.removeBundling=function(e,t,r){return e.groups&&(i.debug("Removing SDP bundling groups."),delete e.groups),e},t.removeTrickleIce=function(e,t,r){return e.media.forEach((e=>{"trickle"===e.iceOptions&&(i.debug(`Removing trickle ICE option from ${e.type} media.`),delete e.iceOptions)})),e},r(2234);var n=r(271),o=r(4507);const i=n.logManager.getLogger("SdpPipeline")},8851:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.runPipeline=u;var n=s(r(524)),o=s(r(283)),i=s(r(9321)),a=s(r(4722));function s(e){return e&&e.__esModule?e:{default:e}}const c=r(271).logManager.getLogger("SdpPipeline");function u(e,t,r){const s=a.default.parse(t),u=Object.freeze(s);let d=(0,i.default)(u);return(0,o.default)(e)&&e.forEach((e=>{(0,n.default)(e)?d=e(d,r,u):c.error("SDP handler not a function; skipping.")})),a.default.write(d)}t.default=function(){let e=[];return{run:function(){let t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0;return u((arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).concat(e),t,r)},setHandlers:function(t){(0,o.default)(t)&&(e=e.concat(t))},getHandlers:function(){return e}}}()},6106:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setTransceiverDirection=function(e,t){return(0,n.default)(t,(0,o.default)(i.MEDIA_DIR))?(e.setDirection?e.setDirection(t):e.direction=t,!0):(s.info(`Invalid direction "${t}"`),!1)};var n=a(r(593)),o=a(r(186)),i=r(4507);function a(e){return e&&e.__esModule?e:{default:e}}const s=r(271).logManager.getLogger("SdpPipeline")},6555:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getBrowserDetails=function(){return o.default.browserDetails},t.makeSafeForCSS=function(e){return e?e.replace(/[^a-z0-9]/g,""):e};var n,o=(n=r(9339))&&n.__esModule?n:{default:n}},9353:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var t=[],r=[],n=!1;function o(e){if(n&&!t[e])throw new Error("Invalid event type: "+e)}function i(e,t){for(var r=e.length;r--;)t===e[r]&&e.splice(r,1)}return Object.assign(e,{define:function(e){t[e]=t[e]||[]},alias:function(e,r){o(e),t[r]=t[e]=t[e]||[]},on:function(e,r){o(e),(t[e]=t[e]||[]).push(r)},off:function(e,r){o(e),i(t[e]||[],r)},once:function(e,r){o(e),r.once=!0,(t[e]=t[e]||[]).push(r)},emit:function(e){o(e);for(var n=Array.prototype.slice.call(arguments,1),a=t[e]||[],s=0,c=function(){},u=a.slice();s<u.length;s++){var d=u[s];d.once&&(a[s]=c),d.apply(void 0,n)}i(a,c);for(var l=0;l<r.length;l++)r[l].call(void 0,e,n)},subscribe:function(e){if("function"!=typeof e)throw new Error("Listener not a function");r.push(e)},unsubscribe:function(e){if("function"!=typeof e)throw new Error("Listener not a function");i(r,e)},setStrictMode:function(e){n=e}})},r(7107),r(9375)},5188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.timeLevel=t.logMethods=t.logLevels=t.levelValues=void 0;const r=t.logLevels={TRACE:"TRACE",DEBUG:"DEBUG",INFO:"INFO",WARN:"WARN",ERROR:"ERROR",SILENT:"SILENT"};t.levelValues={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},t.logMethods={trace:r.TRACE,debug:r.DEBUG,info:r.INFO,warn:r.WARN,error:r.ERROR,log:r.DEBUG,group:r.DEBUG,groupEnd:r.DEBUG,groupCollapsed:r.DEBUG},t.timeLevel=r.DEBUG},4413:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logLevels=t.logFormatter=t.default=void 0;var n=a(r(4400)),o=a(r(2501)),i=r(5188);function a(e){return e&&e.__esModule?e:{default:e}}t.default=n.default,t.logLevels=i.logLevels,t.logFormatter=o.default},2501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const{timestamp:t,level:r,target:n}=e,o=n.id&&n.id.length>8?n.id.substring(0,6):n.id;return`${`${t} - ${o?`${n.type}/${o}`:n.type} - ${r}`} - ${e.messages[0]}`}},2807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{method:t}=e;t.includes("time")&&(t="debug");const r=(0,o.default)(e),n=e.messages.slice(1);console[t](r,...n)},r(2234);var n,o=(n=r(2501))&&n.__esModule?n:{default:n}},4400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t={},r={[c]:{handler:e.handler?(0,a.checkHandler)(e.handler):o.default,level:e.level?(0,a.checkLevel)(e.level):i.logLevels.INFO}};function s(e){return r[e=e||c]&&r[e].level||r[c].level}function u(e){return r[e=e||c]&&r[e].handler||r[c].handler}return{getLogger:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";r=String(r);const o=r?`${e}-${r}`:e;let i=t[o];if(!i){const a={type:e,id:r,name:o},c={level:s(e),handler:u(e)};i=(0,n.default)(a,c),t[o]=i}return i},getLoggers:function(e){return e?Object.values(t).filter((t=>t.type===e)):Object.values(t)},setLevel:function(e,t){void 0===t&&(t=e,e=c),r[e]||(r[e]={}),r[e].level=(0,a.checkLevel)(t)},getLevel:s,setHandler:function(e,t){"function"==typeof e&&void 0===t&&(t=e,e=c),r[e]||(r[e]={}),r[e].handler=(0,a.checkHandler)(t)},getHandler:u}};var n=s(r(6469)),o=s(r(2807)),i=r(5188),a=r(7398);function s(e){return e&&e.__esModule?e:{default:e}}const c=Symbol("Default")},6469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r={target:e,level:(0,i.checkLevel)(t.level),handler:(0,i.checkHandler)(t.handler)};function n(e,t,n){return function(){if(!(o.levelValues[t]>=o.levelValues[r.level]))return;for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];const c={...n,method:e,timestamp:Date.now(),level:t,target:r.target,messages:[...a]};r.handler(c)}}const s={getHandler:function(){return r.handler},setHandler:function(e){r.handler=(0,i.checkHandler)(e)},getLevel:function(){return r.level},setLevel:function(e){r.level=(0,i.checkLevel)(e)},get type(){return r.target.type},get id(){return r.target.id},get name(){return r.target.name}};for(const e in o.logMethods)s[e]=n(e,o.logMethods[e]);const c=(0,a.default)(((e,t)=>n(t.event,o.timeLevel,{timer:t})(e)),((e,t)=>n("warn",o.logLevels.WARN,{timer:t})(e)));return{...s,...c}};var n,o=r(5188),i=r(7398),a=(n=r(1140))&&n.__esModule?n:{default:n}},1140:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){(0,n.checkHandler)(e),(0,n.checkHandler)(t);const r={};return{time:function(n){const o=Date.now(),i={event:"time",name:n};r.hasOwnProperty(n)?(i.start=r[n],t(`Timer ${n} already started.`,i)):(r[n]=o,i.start=o,e(`Timer ${n} started.`,i))},timeEnd:function(n){const o=Date.now(),i={event:"timeEnd",name:n,start:r[n]};if(r.hasOwnProperty(n)){const t=r[n];delete r[n];const a=o-t;i.end=o,i.elapsed=a,e(`Timer ${n} ended, taking ${a}ms.`,i)}else t(`Timer ${n} has not been started.`,i)},timeLog:function(n){const o=Date.now(),i={event:"timeLog",name:n,start:r[n]};if(r.hasOwnProperty(n)){const t=o-r[n];i.split=o,i.elapsed=t,e(`Timer ${n} split, at ${t}ms so far.`,i)}else t(`Timer ${n} has not been started.`,i)}}};var n=r(7398)},7398:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkHandler=function(e){if(e&&"function"==typeof e)return e;throw new Error("Provided log handler is not a function.")},t.checkLevel=function(e){const t=e&&e.toUpperCase&&e.toUpperCase();if(t&&n.logLevels[t])return n.logLevels[t];throw new Error("Provided level is not a valid log level.")},r(7107);var n=r(5188)},7485:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,o.default)(((e,t)=>{if((0,n.default)(e))return t}),t)};var n=i(r(283)),o=i(r(1175));function i(e){return e&&e.__esModule?e:{default:e}}},3103:(e,t,r)=>{var n=r(4715)(r(8942),"DataView");e.exports=n},5098:(e,t,r)=>{var n=r(3305),o=r(9361),i=r(1112),a=r(5276),s=r(5071);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},7553:(e,t,r)=>{var n=r(9747),o=r(5962);function i(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}i.prototype=n(o.prototype),i.prototype.constructor=i,e.exports=i},1386:(e,t,r)=>{var n=r(2393),o=r(2049),i=r(7144),a=r(7452),s=r(3964);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},528:(e,t,r)=>{var n=r(9747),o=r(5962);function i(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}i.prototype=n(o.prototype),i.prototype.constructor=i,e.exports=i},9770:(e,t,r)=>{var n=r(4715)(r(8942),"Map");e.exports=n},8250:(e,t,r)=>{var n=r(9753),o=r(5681),i=r(88),a=r(4732),s=r(9068);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},9413:(e,t,r)=>{var n=r(4715)(r(8942),"Promise");e.exports=n},4512:(e,t,r)=>{var n=r(4715)(r(8942),"Set");e.exports=n},3212:(e,t,r)=>{var n=r(8250),o=r(1877),i=r(8006);function a(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new n;++t<r;)this.add(e[t])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,e.exports=a},1340:(e,t,r)=>{var n=r(1386),o=r(4103),i=r(1779),a=r(4162),s=r(7462),c=r(6638);function u(e){var t=this.__data__=new n(e);this.size=t.size}u.prototype.clear=o,u.prototype.delete=i,u.prototype.get=a,u.prototype.has=s,u.prototype.set=c,e.exports=u},5650:(e,t,r)=>{var n=r(8942).Symbol;e.exports=n},1623:(e,t,r)=>{var n=r(8942).Uint8Array;e.exports=n},9270:(e,t,r)=>{var n=r(4715)(r(8942),"WeakMap");e.exports=n},6912:e=>{e.exports=function(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}},9968:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}},9847:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=0,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[o++]=a)}return i}},9756:(e,t,r)=>{var n=r(2478);e.exports=function(e,t){return!(null==e||!e.length)&&n(e,t,0)>-1}},358:(e,t,r)=>{var n=r(6137),o=r(3283),i=r(3142),a=r(5853),s=r(9632),c=r(8666),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),d=!r&&o(e),l=!r&&!d&&a(e),f=!r&&!d&&!l&&c(e),p=r||d||l||f,g=p?n(e.length,String):[],m=g.length;for(var h in e)!t&&!u.call(e,h)||p&&("length"==h||l&&("offset"==h||"parent"==h)||f&&("buffer"==h||"byteLength"==h||"byteOffset"==h)||s(h,m))||g.push(h);return g}},5111:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},1129:e=>{e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},6465:e=>{e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}},4810:(e,t,r)=>{var n=r(7073),o=r(6285);e.exports=function(e,t,r){(void 0!==r&&!o(e[t],r)||void 0===r&&!(t in e))&&n(e,t,r)}},3422:(e,t,r)=>{var n=r(7073),o=r(6285),i=Object.prototype.hasOwnProperty;e.exports=function(e,t,r){var a=e[t];i.call(e,t)&&o(a,r)&&(void 0!==r||t in e)||n(e,t,r)}},7034:(e,t,r)=>{var n=r(6285);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},7930:(e,t,r)=>{var n=r(9032),o=r(1211);e.exports=function(e,t){return e&&n(t,o(t),e)}},125:(e,t,r)=>{var n=r(9032),o=r(5288);e.exports=function(e,t){return e&&n(t,o(t),e)}},7073:(e,t,r)=>{var n=r(2532);e.exports=function(e,t,r){"__proto__"==t&&n?n(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}},9334:(e,t,r)=>{var n=r(1340),o=r(9968),i=r(3422),a=r(7930),s=r(125),c=r(7099),u=r(4354),d=r(3546),l=r(4733),f=r(393),p=r(3650),g=r(8486),m=r(7350),h=r(424),v=r(5964),y=r(3142),_=r(5853),C=r(7681),b=r(1580),E=r(3943),S=r(1211),T=r(5288),R="[object Arguments]",P="[object Function]",I="[object Object]",O={};O[R]=O["[object Array]"]=O["[object ArrayBuffer]"]=O["[object DataView]"]=O["[object Boolean]"]=O["[object Date]"]=O["[object Float32Array]"]=O["[object Float64Array]"]=O["[object Int8Array]"]=O["[object Int16Array]"]=O["[object Int32Array]"]=O["[object Map]"]=O["[object Number]"]=O[I]=O["[object RegExp]"]=O["[object Set]"]=O["[object String]"]=O["[object Symbol]"]=O["[object Uint8Array]"]=O["[object Uint8ClampedArray]"]=O["[object Uint16Array]"]=O["[object Uint32Array]"]=!0,O["[object Error]"]=O[P]=O["[object WeakMap]"]=!1,e.exports=function e(t,r,k,w,x,A){var M,D=1&r,j=2&r,N=4&r;if(k&&(M=x?k(t,w,x,A):k(t)),void 0!==M)return M;if(!b(t))return t;var L=y(t);if(L){if(M=m(t),!D)return u(t,M)}else{var U=g(t),F=U==P||"[object GeneratorFunction]"==U;if(_(t))return c(t,D);if(U==I||U==R||F&&!x){if(M=j||F?{}:v(t),!D)return j?l(t,s(M,t)):d(t,a(M,t))}else{if(!O[U])return x?t:{};M=h(t,U,D)}}A||(A=new n);var $=A.get(t);if($)return $;A.set(t,M),E(t)?t.forEach((function(n){M.add(e(n,r,k,n,t,A))})):C(t)&&t.forEach((function(n,o){M.set(o,e(n,r,k,o,t,A))}));var W=L?void 0:(N?j?p:f:j?T:S)(t);return o(W||t,(function(n,o){W&&(n=t[o=n]),i(M,o,e(n,r,k,o,t,A))})),M}},9747:(e,t,r)=>{var n=r(1580),o=Object.create,i=function(){function e(){}return function(t){if(!n(t))return{};if(o)return o(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();e.exports=i},7250:e=>{e.exports=function(e,t,r,n){for(var o=e.length,i=r+(n?1:-1);n?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},313:(e,t,r)=>{var n=r(1129),o=r(714);e.exports=function e(t,r,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var d=t[c];r>0&&i(d)?r>1?e(d,r-1,i,a,s):n(s,d):a||(s[s.length]=d)}return s}},5636:(e,t,r)=>{var n=r(6596)();e.exports=n},7923:(e,t,r)=>{var n=r(3526),o=r(6040);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},8244:(e,t,r)=>{var n=r(1129),o=r(3142);e.exports=function(e,t,r){var i=t(e);return o(e)?i:n(i,r(e))}},7379:(e,t,r)=>{var n=r(5650),o=r(8870),i=r(9005),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},3636:e=>{e.exports=function(e,t){return null!=e&&t in Object(e)}},2478:(e,t,r)=>{var n=r(7250),o=r(9454),i=r(7706);e.exports=function(e,t,r){return t==t?i(e,t,r):n(e,o,r)}},6027:(e,t,r)=>{var n=r(7379),o=r(547);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},4687:(e,t,r)=>{var n=r(353),o=r(547);e.exports=function e(t,r,i,a,s){return t===r||(null==t||null==r||!o(t)&&!o(r)?t!=t&&r!=r:n(t,r,i,a,e,s))}},353:(e,t,r)=>{var n=r(1340),o=r(3934),i=r(8861),a=r(1182),s=r(8486),c=r(3142),u=r(5853),d=r(8666),l="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,m,h,v){var y=c(e),_=c(t),C=y?f:s(e),b=_?f:s(t),E=(C=C==l?p:C)==p,S=(b=b==l?p:b)==p,T=C==b;if(T&&u(e)){if(!u(t))return!1;y=!0,E=!1}if(T&&!E)return v||(v=new n),y||d(e)?o(e,t,r,m,h,v):i(e,t,C,r,m,h,v);if(!(1&r)){var R=E&&g.call(e,"__wrapped__"),P=S&&g.call(t,"__wrapped__");if(R||P){var I=R?e.value():e,O=P?t.value():t;return v||(v=new n),h(I,O,r,m,v)}}return!!T&&(v||(v=new n),a(e,t,r,m,h,v))}},777:(e,t,r)=>{var n=r(8486),o=r(547);e.exports=function(e){return o(e)&&"[object Map]"==n(e)}},8330:(e,t,r)=>{var n=r(1340),o=r(4687);e.exports=function(e,t,r,i){var a=r.length,s=a,c=!i;if(null==e)return!s;for(e=Object(e);a--;){var u=r[a];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++a<s;){var d=(u=r[a])[0],l=e[d],f=u[1];if(c&&u[2]){if(void 0===l&&!(d in e))return!1}else{var p=new n;if(i)var g=i(l,f,d,e,t,p);if(!(void 0===g?o(f,l,3,i,p):g))return!1}}return!0}},9454:e=>{e.exports=function(e){return e!=e}},9624:(e,t,r)=>{var n=r(3655),o=r(4759),i=r(1580),a=r(4066),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,d=c.toString,l=u.hasOwnProperty,f=RegExp("^"+d.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?f:s).test(a(e))}},1935:(e,t,r)=>{var n=r(8486),o=r(547);e.exports=function(e){return o(e)&&"[object Set]"==n(e)}},674:(e,t,r)=>{var n=r(7379),o=r(5387),i=r(547),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},3334:(e,t,r)=>{var n=r(6526),o=r(2343),i=r(2053),a=r(3142),s=r(3282);e.exports=function(e){return"function"==typeof e?e:null==e?i:"object"==typeof e?a(e)?o(e[0],e[1]):n(e):s(e)}},195:(e,t,r)=>{var n=r(4882),o=r(8121),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},7200:(e,t,r)=>{var n=r(1580),o=r(4882),i=r(8546),a=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return i(e);var t=o(e),r=[];for(var s in e)("constructor"!=s||!t&&a.call(e,s))&&r.push(s);return r}},5962:e=>{e.exports=function(){}},6526:(e,t,r)=>{var n=r(8330),o=r(4367),i=r(3904);e.exports=function(e){var t=o(e);return 1==t.length&&t[0][2]?i(t[0][0],t[0][1]):function(r){return r===e||n(r,e,t)}}},2343:(e,t,r)=>{var n=r(4687),o=r(6123),i=r(7276),a=r(5187),s=r(7267),c=r(3904),u=r(6040);e.exports=function(e,t){return a(e)&&s(t)?c(u(e),t):function(r){var a=o(r,e);return void 0===a&&a===t?i(r,e):n(t,a,3)}}},91:(e,t,r)=>{var n=r(1340),o=r(4810),i=r(5636),a=r(6885),s=r(1580),c=r(5288),u=r(8763);e.exports=function e(t,r,d,l,f){t!==r&&i(r,(function(i,c){if(f||(f=new n),s(i))a(t,r,c,d,e,l,f);else{var p=l?l(u(t,c),i,c+"",t,r,f):void 0;void 0===p&&(p=i),o(t,c,p)}}),c)}},6885:(e,t,r)=>{var n=r(4810),o=r(7099),i=r(2264),a=r(4354),s=r(5964),c=r(3283),u=r(3142),d=r(5406),l=r(5853),f=r(3655),p=r(1580),g=r(8360),m=r(8666),h=r(8763),v=r(4207);e.exports=function(e,t,r,y,_,C,b){var E=h(e,r),S=h(t,r),T=b.get(S);if(T)n(e,r,T);else{var R=C?C(E,S,r+"",e,t,b):void 0,P=void 0===R;if(P){var I=u(S),O=!I&&l(S),k=!I&&!O&&m(S);R=S,I||O||k?u(E)?R=E:d(E)?R=a(E):O?(P=!1,R=o(S,!0)):k?(P=!1,R=i(S,!0)):R=[]:g(S)||c(S)?(R=E,c(E)?R=v(E):p(E)&&!f(E)||(R=s(S))):P=!1}P&&(b.set(S,R),_(R,S,y,C,b),b.delete(S)),n(e,r,R)}}},2762:e=>{e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},8880:(e,t,r)=>{var n=r(7923);e.exports=function(e){return function(t){return n(t,e)}}},3945:(e,t,r)=>{var n=r(2053),o=r(2853),i=r(796);e.exports=function(e,t){return i(o(e,t,n),e+"")}},4943:(e,t,r)=>{var n=r(2053),o=r(6065),i=o?function(e,t){return o.set(e,t),e}:n;e.exports=i},7403:(e,t,r)=>{var n=r(2619),o=r(2532),i=r(2053),a=o?function(e,t){return o(e,"toString",{configurable:!0,enumerable:!1,value:n(t),writable:!0})}:i;e.exports=a},6137:e=>{e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},2291:(e,t,r)=>{var n=r(5650),o=r(5111),i=r(3142),a=r(1187),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},6403:(e,t,r)=>{var n=r(2945),o=/^\s+/;e.exports=function(e){return e?e.slice(0,n(e)+1).replace(o,""):e}},9460:e=>{e.exports=function(e){return function(t){return e(t)}}},3905:(e,t,r)=>{var n=r(5111);e.exports=function(e,t){return n(t,(function(t){return e[t]}))}},5568:e=>{e.exports=function(e,t){return e.has(t)}},3526:(e,t,r)=>{var n=r(3142),o=r(5187),i=r(6493),a=r(5243);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},8898:(e,t,r)=>{var n=r(1623);e.exports=function(e){var t=new e.constructor(e.byteLength);return new n(t).set(new n(e)),t}},7099:(e,t,r)=>{e=r.nmd(e);var n=r(8942),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o?n.Buffer:void 0,s=a?a.allocUnsafe:void 0;e.exports=function(e,t){if(t)return e.slice();var r=e.length,n=s?s(r):new e.constructor(r);return e.copy(n),n}},2480:(e,t,r)=>{var n=r(8898);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}},8340:e=>{var t=/\w*$/;e.exports=function(e){var r=new e.constructor(e.source,t.exec(e));return r.lastIndex=e.lastIndex,r}},8069:(e,t,r)=>{var n=r(5650),o=n?n.prototype:void 0,i=o?o.valueOf:void 0;e.exports=function(e){return i?Object(i.call(e)):{}}},2264:(e,t,r)=>{var n=r(8898);e.exports=function(e,t){var r=t?n(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}},7358:e=>{var t=Math.max;e.exports=function(e,r,n,o){for(var i=-1,a=e.length,s=n.length,c=-1,u=r.length,d=t(a-s,0),l=Array(u+d),f=!o;++c<u;)l[c]=r[c];for(;++i<s;)(f||i<a)&&(l[n[i]]=e[i]);for(;d--;)l[c++]=e[i++];return l}},5755:e=>{var t=Math.max;e.exports=function(e,r,n,o){for(var i=-1,a=e.length,s=-1,c=n.length,u=-1,d=r.length,l=t(a-c,0),f=Array(l+d),p=!o;++i<l;)f[i]=e[i];for(var g=i;++u<d;)f[g+u]=r[u];for(;++s<c;)(p||i<a)&&(f[g+n[s]]=e[i++]);return f}},4354:e=>{e.exports=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}},9032:(e,t,r)=>{var n=r(3422),o=r(7073);e.exports=function(e,t,r,i){var a=!r;r||(r={});for(var s=-1,c=t.length;++s<c;){var u=t[s],d=i?i(r[u],e[u],u,r,e):void 0;void 0===d&&(d=e[u]),a?o(r,u,d):n(r,u,d)}return r}},3546:(e,t,r)=>{var n=r(9032),o=r(7979);e.exports=function(e,t){return n(e,o(e),t)}},4733:(e,t,r)=>{var n=r(9032),o=r(5832);e.exports=function(e,t){return n(e,o(e),t)}},1950:(e,t,r)=>{var n=r(8942)["__core-js_shared__"];e.exports=n},3816:e=>{e.exports=function(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}},7848:(e,t,r)=>{var n=r(3945),o=r(4535);e.exports=function(e){return n((function(t,r){var n=-1,i=r.length,a=i>1?r[i-1]:void 0,s=i>2?r[2]:void 0;for(a=e.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(r[0],r[1],s)&&(a=i<3?void 0:a,i=1),t=Object(t);++n<i;){var c=r[n];c&&e(t,c,n,a)}return t}))}},6596:e=>{e.exports=function(e){return function(t,r,n){for(var o=-1,i=Object(t),a=n(t),s=a.length;s--;){var c=a[e?s:++o];if(!1===r(i[c],c,i))break}return t}}},6713:(e,t,r)=>{var n=r(4364),o=r(8942);e.exports=function(e,t,r){var i=1&t,a=n(e);return function t(){return(this&&this!==o&&this instanceof t?a:e).apply(i?r:this,arguments)}}},4364:(e,t,r)=>{var n=r(9747),o=r(1580);e.exports=function(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=n(e.prototype),i=e.apply(r,t);return o(i)?i:r}}},2443:(e,t,r)=>{var n=r(6912),o=r(4364),i=r(3504),a=r(4216),s=r(6850),c=r(8813),u=r(8942);e.exports=function(e,t,r){var d=o(e);return function o(){for(var l=arguments.length,f=Array(l),p=l,g=s(o);p--;)f[p]=arguments[p];var m=l<3&&f[0]!==g&&f[l-1]!==g?[]:c(f,g);return(l-=m.length)<r?a(e,t,i,o.placeholder,void 0,f,m,void 0,void 0,r-l):n(this&&this!==u&&this instanceof o?d:e,this,f)}}},3504:(e,t,r)=>{var n=r(7358),o=r(5755),i=r(3816),a=r(4364),s=r(4216),c=r(6850),u=r(6591),d=r(8813),l=r(8942);e.exports=function e(t,r,f,p,g,m,h,v,y,_){var C=128&r,b=1&r,E=2&r,S=24&r,T=512&r,R=E?void 0:a(t);return function P(){for(var I=arguments.length,O=Array(I),k=I;k--;)O[k]=arguments[k];if(S)var w=c(P),x=i(O,w);if(p&&(O=n(O,p,g,S)),m&&(O=o(O,m,h,S)),I-=x,S&&I<_){var A=d(O,w);return s(t,r,e,P.placeholder,f,O,A,v,y,_-I)}var M=b?f:this,D=E?M[t]:t;return I=O.length,v?O=u(O,v):T&&I>1&&O.reverse(),C&&y<I&&(O.length=y),this&&this!==l&&this instanceof P&&(D=R||a(D)),D.apply(M,O)}}},6341:(e,t,r)=>{var n=r(6912),o=r(4364),i=r(8942);e.exports=function(e,t,r,a){var s=1&t,c=o(e);return function t(){for(var o=-1,u=arguments.length,d=-1,l=a.length,f=Array(l+u),p=this&&this!==i&&this instanceof t?c:e;++d<l;)f[d]=a[d];for(;u--;)f[d++]=arguments[++o];return n(p,s?r:this,f)}}},4216:(e,t,r)=>{var n=r(6648),o=r(5512),i=r(5620);e.exports=function(e,t,r,a,s,c,u,d,l,f){var p=8&t;t|=p?32:64,4&(t&=~(p?64:32))||(t&=-4);var g=[e,t,s,p?c:void 0,p?u:void 0,p?void 0:c,p?void 0:u,d,l,f],m=r.apply(void 0,g);return n(e)&&o(m,g),m.placeholder=a,i(m,e,t)}},8638:(e,t,r)=>{var n=r(4943),o=r(6713),i=r(2443),a=r(3504),s=r(6341),c=r(5196),u=r(7028),d=r(5512),l=r(5620),f=r(7642),p=Math.max;e.exports=function(e,t,r,g,m,h,v,y){var _=2&t;if(!_&&"function"!=typeof e)throw new TypeError("Expected a function");var C=g?g.length:0;if(C||(t&=-97,g=m=void 0),v=void 0===v?v:p(f(v),0),y=void 0===y?y:f(y),C-=m?m.length:0,64&t){var b=g,E=m;g=m=void 0}var S=_?void 0:c(e),T=[e,t,r,g,m,b,E,h,v,y];if(S&&u(T,S),e=T[0],t=T[1],r=T[2],g=T[3],m=T[4],!(y=T[9]=void 0===T[9]?_?0:e.length:p(T[9]-C,0))&&24&t&&(t&=-25),t&&1!=t)R=8==t||16==t?i(e,t,y):32!=t&&33!=t||m.length?a.apply(void 0,T):s(e,t,r,g);else var R=o(e,t,r);return l((S?n:d)(R,T),e,t)}},2532:(e,t,r)=>{var n=r(4715),o=function(){try{var e=n(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=o},3934:(e,t,r)=>{var n=r(3212),o=r(6465),i=r(5568);e.exports=function(e,t,r,a,s,c){var u=1&r,d=e.length,l=t.length;if(d!=l&&!(u&&l>d))return!1;var f=c.get(e),p=c.get(t);if(f&&p)return f==t&&p==e;var g=-1,m=!0,h=2&r?new n:void 0;for(c.set(e,t),c.set(t,e);++g<d;){var v=e[g],y=t[g];if(a)var _=u?a(y,v,g,t,e,c):a(v,y,g,e,t,c);if(void 0!==_){if(_)continue;m=!1;break}if(h){if(!o(t,(function(e,t){if(!i(h,t)&&(v===e||s(v,e,r,a,c)))return h.push(t)}))){m=!1;break}}else if(v!==y&&!s(v,y,r,a,c)){m=!1;break}}return c.delete(e),c.delete(t),m}},8861:(e,t,r)=>{var n=r(5650),o=r(1623),i=r(6285),a=r(3934),s=r(5894),c=r(9828),u=n?n.prototype:void 0,d=u?u.valueOf:void 0;e.exports=function(e,t,r,n,u,l,f){switch(r){case"[object DataView]":if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case"[object ArrayBuffer]":return!(e.byteLength!=t.byteLength||!l(new o(e),new o(t)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+e,+t);case"[object Error]":return e.name==t.name&&e.message==t.message;case"[object RegExp]":case"[object String]":return e==t+"";case"[object Map]":var p=s;case"[object Set]":var g=1&n;if(p||(p=c),e.size!=t.size&&!g)return!1;var m=f.get(e);if(m)return m==t;n|=2,f.set(e,t);var h=a(p(e),p(t),n,u,l,f);return f.delete(e),h;case"[object Symbol]":if(d)return d.call(e)==d.call(t)}return!1}},1182:(e,t,r)=>{var n=r(393),o=Object.prototype.hasOwnProperty;e.exports=function(e,t,r,i,a,s){var c=1&r,u=n(e),d=u.length;if(d!=n(t).length&&!c)return!1;for(var l=d;l--;){var f=u[l];if(!(c?f in t:o.call(t,f)))return!1}var p=s.get(e),g=s.get(t);if(p&&g)return p==t&&g==e;var m=!0;s.set(e,t),s.set(t,e);for(var h=c;++l<d;){var v=e[f=u[l]],y=t[f];if(i)var _=c?i(y,v,f,t,e,s):i(v,y,f,e,t,s);if(!(void 0===_?v===y||a(v,y,r,i,s):_)){m=!1;break}h||(h="constructor"==f)}if(m&&!h){var C=e.constructor,b=t.constructor;C==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof C&&C instanceof C&&"function"==typeof b&&b instanceof b||(m=!1)}return s.delete(e),s.delete(t),m}},1439:(e,t,r)=>{var n=r(5857),o=r(2853),i=r(796);e.exports=function(e){return i(o(e,void 0,n),e+"")}},4967:(e,t,r)=>{var n="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;e.exports=n},393:(e,t,r)=>{var n=r(8244),o=r(7979),i=r(1211);e.exports=function(e){return n(e,i,o)}},3650:(e,t,r)=>{var n=r(8244),o=r(5832),i=r(5288);e.exports=function(e){return n(e,i,o)}},5196:(e,t,r)=>{var n=r(6065),o=r(9071),i=n?function(e){return n.get(e)}:o;e.exports=i},961:(e,t,r)=>{var n=r(3476),o=Object.prototype.hasOwnProperty;e.exports=function(e){for(var t=e.name+"",r=n[t],i=o.call(n,t)?r.length:0;i--;){var a=r[i],s=a.func;if(null==s||s==e)return a.name}return t}},6850:e=>{e.exports=function(e){return e.placeholder}},4700:(e,t,r)=>{var n=r(9067);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},4367:(e,t,r)=>{var n=r(7267),o=r(1211);e.exports=function(e){for(var t=o(e),r=t.length;r--;){var i=t[r],a=e[i];t[r]=[i,a,n(a)]}return t}},4715:(e,t,r)=>{var n=r(9624),o=r(155);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},4784:(e,t,r)=>{var n=r(3766)(Object.getPrototypeOf,Object);e.exports=n},8870:(e,t,r)=>{var n=r(5650),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},7979:(e,t,r)=>{var n=r(9847),o=r(9306),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(e){return null==e?[]:(e=Object(e),n(a(e),(function(t){return i.call(e,t)})))}:o;e.exports=s},5832:(e,t,r)=>{var n=r(1129),o=r(4784),i=r(7979),a=r(9306),s=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)n(t,i(e)),e=o(e);return t}:a;e.exports=s},8486:(e,t,r)=>{var n=r(3103),o=r(9770),i=r(9413),a=r(4512),s=r(9270),c=r(7379),u=r(4066),d="[object Map]",l="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",m=u(n),h=u(o),v=u(i),y=u(a),_=u(s),C=c;(n&&C(new n(new ArrayBuffer(1)))!=g||o&&C(new o)!=d||i&&C(i.resolve())!=l||a&&C(new a)!=f||s&&C(new s)!=p)&&(C=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case m:return g;case h:return d;case v:return l;case y:return f;case _:return p}return t}),e.exports=C},155:e=>{e.exports=function(e,t){return null==e?void 0:e[t]}},8788:e=>{var t=/\{\n\/\* \[wrapped with (.+)\] \*/,r=/,? & /;e.exports=function(e){var n=e.match(t);return n?n[1].split(r):[]}},5899:(e,t,r)=>{var n=r(3526),o=r(3283),i=r(3142),a=r(9632),s=r(5387),c=r(6040);e.exports=function(e,t,r){for(var u=-1,d=(t=n(t,e)).length,l=!1;++u<d;){var f=c(t[u]);if(!(l=null!=e&&r(e,f)))break;e=e[f]}return l||++u!=d?l:!!(d=null==e?0:e.length)&&s(d)&&a(f,d)&&(i(e)||o(e))}},3305:(e,t,r)=>{var n=r(4497);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},9361:e=>{e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},1112:(e,t,r)=>{var n=r(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},5276:(e,t,r)=>{var n=r(4497),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},5071:(e,t,r)=>{var n=r(4497);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},7350:e=>{var t=Object.prototype.hasOwnProperty;e.exports=function(e){var r=e.length,n=new e.constructor(r);return r&&"string"==typeof e[0]&&t.call(e,"index")&&(n.index=e.index,n.input=e.input),n}},424:(e,t,r)=>{var n=r(8898),o=r(2480),i=r(8340),a=r(8069),s=r(2264);e.exports=function(e,t,r){var c=e.constructor;switch(t){case"[object ArrayBuffer]":return n(e);case"[object Boolean]":case"[object Date]":return new c(+e);case"[object DataView]":return o(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return s(e,r);case"[object Map]":case"[object Set]":return new c;case"[object Number]":case"[object String]":return new c(e);case"[object RegExp]":return i(e);case"[object Symbol]":return a(e)}}},5964:(e,t,r)=>{var n=r(9747),o=r(4784),i=r(4882);e.exports=function(e){return"function"!=typeof e.constructor||i(e)?{}:n(o(e))}},9141:e=>{var t=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;e.exports=function(e,r){var n=r.length;if(!n)return e;var o=n-1;return r[o]=(n>1?"& ":"")+r[o],r=r.join(n>2?", ":" "),e.replace(t,"{\n/* [wrapped with "+r+"] */\n")}},714:(e,t,r)=>{var n=r(5650),o=r(3283),i=r(3142),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},9632:e=>{var t=/^(?:0|[1-9]\d*)$/;e.exports=function(e,r){var n=typeof e;return!!(r=null==r?9007199254740991:r)&&("number"==n||"symbol"!=n&&t.test(e))&&e>-1&&e%1==0&&e<r}},4535:(e,t,r)=>{var n=r(6285),o=r(6529),i=r(9632),a=r(1580);e.exports=function(e,t,r){if(!a(r))return!1;var s=typeof t;return!!("number"==s?o(r)&&i(t,r.length):"string"==s&&t in r)&&n(r[t],e)}},5187:(e,t,r)=>{var n=r(3142),o=r(1187),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},9067:e=>{e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},6648:(e,t,r)=>{var n=r(7553),o=r(5196),i=r(961),a=r(3321);e.exports=function(e){var t=i(e),r=a[t];if("function"!=typeof r||!(t in n.prototype))return!1;if(e===r)return!0;var s=o(r);return!!s&&e===s[0]}},4759:(e,t,r)=>{var n,o=r(1950),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},4882:e=>{var t=Object.prototype;e.exports=function(e){var r=e&&e.constructor;return e===("function"==typeof r&&r.prototype||t)}},7267:(e,t,r)=>{var n=r(1580);e.exports=function(e){return e==e&&!n(e)}},2393:e=>{e.exports=function(){this.__data__=[],this.size=0}},2049:(e,t,r)=>{var n=r(7034),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0||(r==t.length-1?t.pop():o.call(t,r,1),--this.size,0))}},7144:(e,t,r)=>{var n=r(7034);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},7452:(e,t,r)=>{var n=r(7034);e.exports=function(e){return n(this.__data__,e)>-1}},3964:(e,t,r)=>{var n=r(7034);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},9753:(e,t,r)=>{var n=r(5098),o=r(1386),i=r(9770);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},5681:(e,t,r)=>{var n=r(4700);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},88:(e,t,r)=>{var n=r(4700);e.exports=function(e){return n(this,e).get(e)}},4732:(e,t,r)=>{var n=r(4700);e.exports=function(e){return n(this,e).has(e)}},9068:(e,t,r)=>{var n=r(4700);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},5894:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}},3904:e=>{e.exports=function(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}},6853:(e,t,r)=>{var n=r(9011);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},7028:(e,t,r)=>{var n=r(7358),o=r(5755),i=r(8813),a="__lodash_placeholder__",s=Math.min;e.exports=function(e,t){var r=e[1],c=t[1],u=r|c,d=u<131,l=128==c&&8==r||128==c&&256==r&&e[7].length<=t[8]||384==c&&t[7].length<=t[8]&&8==r;if(!d&&!l)return e;1&c&&(e[2]=t[2],u|=1&r?0:4);var f=t[3];if(f){var p=e[3];e[3]=p?n(p,f,t[4]):f,e[4]=p?i(e[3],a):t[4]}return(f=t[5])&&(p=e[5],e[5]=p?o(p,f,t[6]):f,e[6]=p?i(e[5],a):t[6]),(f=t[7])&&(e[7]=f),128&c&&(e[8]=null==e[8]?t[8]:s(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=u,e}},6065:(e,t,r)=>{var n=r(9270),o=n&&new n;e.exports=o},4497:(e,t,r)=>{var n=r(4715)(Object,"create");e.exports=n},8121:(e,t,r)=>{var n=r(3766)(Object.keys,Object);e.exports=n},8546:e=>{e.exports=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t}},2306:(e,t,r)=>{e=r.nmd(e);var n=r(4967),o=t&&!t.nodeType&&t,i=o&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{return i&&i.require&&i.require("util").types||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s},9005:e=>{var t=Object.prototype.toString;e.exports=function(e){return t.call(e)}},3766:e=>{e.exports=function(e,t){return function(r){return e(t(r))}}},2853:(e,t,r)=>{var n=r(6912),o=Math.max;e.exports=function(e,t,r){return t=o(void 0===t?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=o(i.length-t,0),c=Array(s);++a<s;)c[a]=i[t+a];a=-1;for(var u=Array(t+1);++a<t;)u[a]=i[a];return u[t]=r(c),n(e,this,u)}}},3476:e=>{e.exports={}},6591:(e,t,r)=>{var n=r(4354),o=r(9632),i=Math.min;e.exports=function(e,t){for(var r=e.length,a=i(t.length,r),s=n(e);a--;){var c=t[a];e[a]=o(c,r)?s[c]:void 0}return e}},8813:e=>{var t="__lodash_placeholder__";e.exports=function(e,r){for(var n=-1,o=e.length,i=0,a=[];++n<o;){var s=e[n];s!==r&&s!==t||(e[n]=t,a[i++]=n)}return a}},8942:(e,t,r)=>{var n=r(4967),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},8763:e=>{e.exports=function(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}},1877:e=>{e.exports=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this}},8006:e=>{e.exports=function(e){return this.__data__.has(e)}},5512:(e,t,r)=>{var n=r(4943),o=r(3316)(n);e.exports=o},9828:e=>{e.exports=function(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}},796:(e,t,r)=>{var n=r(7403),o=r(3316)(n);e.exports=o},5620:(e,t,r)=>{var n=r(8788),o=r(9141),i=r(796),a=r(33);e.exports=function(e,t,r){var s=t+"";return i(e,o(s,a(n(s),r)))}},3316:e=>{var t=Date.now;e.exports=function(e){var r=0,n=0;return function(){var o=t(),i=16-(o-n);if(n=o,i>0){if(++r>=800)return arguments[0]}else r=0;return e.apply(void 0,arguments)}}},4103:(e,t,r)=>{var n=r(1386);e.exports=function(){this.__data__=new n,this.size=0}},1779:e=>{e.exports=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}},4162:e=>{e.exports=function(e){return this.__data__.get(e)}},7462:e=>{e.exports=function(e){return this.__data__.has(e)}},6638:(e,t,r)=>{var n=r(1386),o=r(9770),i=r(8250);e.exports=function(e,t){var r=this.__data__;if(r instanceof n){var a=r.__data__;if(!o||a.length<199)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new i(a)}return r.set(e,t),this.size=r.size,this}},7706:e=>{e.exports=function(e,t,r){for(var n=r-1,o=e.length;++n<o;)if(e[n]===t)return n;return-1}},6493:(e,t,r)=>{var n=r(6853),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},6040:(e,t,r)=>{var n=r(1187);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},4066:e=>{var t=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return t.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},2945:e=>{var t=/\s/;e.exports=function(e){for(var r=e.length;r--&&t.test(e.charAt(r)););return r}},33:(e,t,r)=>{var n=r(9968),o=r(9756),i=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];e.exports=function(e,t){return n(i,(function(r){var n="_."+r[0];t&r[1]&&!o(e,n)&&e.push(n)})),e.sort()}},3410:(e,t,r)=>{var n=r(7553),o=r(528),i=r(4354);e.exports=function(e){if(e instanceof n)return e.clone();var t=new o(e.__wrapped__,e.__chain__);return t.__actions__=i(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}},5353:(e,t,r)=>{var n=r(8638);e.exports=function(e,t,r){return t=r?void 0:t,t=e&&null==t?e.length:t,n(e,128,void 0,void 0,void 0,void 0,t)}},2846:(e,t,r)=>{var n=r(9334);e.exports=function(e){return n(e,4)}},6108:(e,t,r)=>{var n=r(9334);e.exports=function(e){return n(e,5)}},2619:e=>{e.exports=function(e){return function(){return e}}},7336:(e,t,r)=>{var n=r(8638);function o(e,t,r){var i=n(e,8,void 0,void 0,void 0,void 0,void 0,t=r?void 0:t);return i.placeholder=o.placeholder,i}o.placeholder={},e.exports=o},2784:(e,t,r)=>{var n=r(1580),o=r(4495),i=r(6131),a=Math.max,s=Math.min;e.exports=function(e,t,r){var c,u,d,l,f,p,g=0,m=!1,h=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var r=c,n=u;return c=u=void 0,g=t,l=e.apply(n,r)}function _(e){var r=e-p;return void 0===p||r>=t||r<0||h&&e-g>=d}function C(){var e=o();if(_(e))return b(e);f=setTimeout(C,function(e){var r=t-(e-p);return h?s(r,d-(e-g)):r}(e))}function b(e){return f=void 0,v&&c?y(e):(c=u=void 0,l)}function E(){var e=o(),r=_(e);if(c=arguments,u=this,p=e,r){if(void 0===f)return function(e){return g=e,f=setTimeout(C,t),m?y(e):l}(p);if(h)return clearTimeout(f),f=setTimeout(C,t),y(p)}return void 0===f&&(f=setTimeout(C,t)),l}return t=i(t)||0,n(r)&&(m=!!r.leading,d=(h="maxWait"in r)?a(i(r.maxWait)||0,t):d,v="trailing"in r?!!r.trailing:v),E.cancel=function(){void 0!==f&&clearTimeout(f),g=0,c=p=u=f=void 0},E.flush=function(){return void 0===f?l:b(o())},E}},6285:e=>{e.exports=function(e,t){return e===t||e!=e&&t!=t}},5857:(e,t,r)=>{var n=r(313);e.exports=function(e){return null!=e&&e.length?n(e,1):[]}},3579:(e,t,r)=>{var n=r(3565),o=r(2991),i=Array.prototype.push;function a(e,t){return 2==t?function(t,r){return e(t,r)}:function(t){return e(t)}}function s(e){for(var t=e?e.length:0,r=Array(t);t--;)r[t]=e[t];return r}function c(e,t){return function(){var r=arguments.length;if(r){for(var n=Array(r);r--;)n[r]=arguments[r];var o=n[0]=t.apply(void 0,n);return e.apply(void 0,n),o}}}e.exports=function e(t,r,u,d){var l="function"==typeof r,f=r===Object(r);if(f&&(d=u,u=r,r=void 0),null==u)throw new TypeError;d||(d={});var p={cap:!("cap"in d)||d.cap,curry:!("curry"in d)||d.curry,fixed:!("fixed"in d)||d.fixed,immutable:!("immutable"in d)||d.immutable,rearg:!("rearg"in d)||d.rearg},g=l?u:o,m="curry"in d&&d.curry,h="fixed"in d&&d.fixed,v="rearg"in d&&d.rearg,y=l?u.runInContext():void 0,_=l?u:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},C=_.ary,b=_.assign,E=_.clone,S=_.curry,T=_.forEach,R=_.isArray,P=_.isError,I=_.isFunction,O=_.isWeakMap,k=_.keys,w=_.rearg,x=_.toInteger,A=_.toPath,M=k(n.aryMethod),D={castArray:function(e){return function(){var t=arguments[0];return R(t)?e(s(t)):e.apply(void 0,arguments)}},iteratee:function(e){return function(){var t=arguments[1],r=e(arguments[0],t),n=r.length;return p.cap&&"number"==typeof t?(t=t>2?t-2:1,n&&n<=t?r:a(r,t)):r}},mixin:function(e){return function(t){var r=this;if(!I(r))return e(r,Object(t));var n=[];return T(k(t),(function(e){I(t[e])&&n.push([e,r.prototype[e]])})),e(r,Object(t)),T(n,(function(e){var t=e[1];I(t)?r.prototype[e[0]]=t:delete r.prototype[e[0]]})),r}},nthArg:function(e){return function(t){var r=t<0?1:x(t)+1;return S(e(t),r)}},rearg:function(e){return function(t,r){var n=r?r.length:0;return S(e(t,r),n)}},runInContext:function(r){return function(n){return e(t,r(n),d)}}};function j(e,t,r){if(p.fixed&&(h||!n.skipFixed[e])){var o=n.methodSpread[e],a=o&&o.start;return void 0===a?C(t,r):function(e,t){return function(){for(var r=arguments.length,n=r-1,o=Array(r);r--;)o[r]=arguments[r];var a=o[t],s=o.slice(0,t);return a&&i.apply(s,a),t!=n&&i.apply(s,o.slice(t+1)),e.apply(this,s)}}(t,a)}return t}function N(e,t,r){return p.rearg&&r>1&&(v||!n.skipRearg[e])?w(t,n.methodRearg[e]||n.aryRearg[r]):t}function L(e,t){for(var r=-1,n=(t=A(t)).length,o=n-1,i=E(Object(e)),a=i;null!=a&&++r<n;){var s=t[r],c=a[s];null==c||I(c)||P(c)||O(c)||(a[s]=E(r==o?c:Object(c))),a=a[s]}return i}function U(t,r){var o=n.aliasToReal[t]||t,i=n.remap[o]||o,a=d;return function(t){var n=l?y:_,s=l?y[i]:r,c=b(b({},a),t);return e(n,o,s,c)}}function F(e,t){return function(){var r=arguments.length;if(!r)return e();for(var n=Array(r);r--;)n[r]=arguments[r];var o=p.rearg?0:r-1;return n[o]=t(n[o]),e.apply(void 0,n)}}function $(e,t,r){var o,i=n.aliasToReal[e]||e,u=t,d=D[i];return d?u=d(t):p.immutable&&(n.mutate.array[i]?u=c(t,s):n.mutate.object[i]?u=c(t,function(e){return function(t){return e({},t)}}(t)):n.mutate.set[i]&&(u=c(t,L))),T(M,(function(e){return T(n.aryMethod[e],(function(t){if(i==t){var r=n.methodSpread[i],s=r&&r.afterRearg;return o=s?j(i,N(i,u,e),e):N(i,j(i,u,e),e),o=function(e,t,r){return m||p.curry&&r>1?S(t,r):t}(0,o=function(e,t){if(p.cap){var r=n.iterateeRearg[e];if(r)return function(e,t){return F(e,(function(e){var r=t.length;return function(e,t){return 2==t?function(t,r){return e.apply(void 0,arguments)}:function(t){return e.apply(void 0,arguments)}}(w(a(e,r),t),r)}))}(t,r);var o=!l&&n.iterateeAry[e];if(o)return function(e,t){return F(e,(function(e){return"function"==typeof e?a(e,t):e}))}(t,o)}return t}(i,o),e),!1}})),!o})),o||(o=u),o==t&&(o=m?S(o,1):function(){return t.apply(this,arguments)}),o.convert=U(i,t),o.placeholder=t.placeholder=r,o}if(!f)return $(r,u,g);var W=u,G=[];return T(M,(function(e){T(n.aryMethod[e],(function(e){var t=W[n.remap[e]||e];t&&G.push([e,$(e,t,W)])}))})),T(k(W),(function(e){var t=W[e];if("function"==typeof t){for(var r=G.length;r--;)if(G[r][0]==e)return;t.convert=U(e,t),G.push([e,t])}})),T(G,(function(e){W[e[0]]=e[1]})),W.convert=function(e){return W.runInContext.convert(e)(void 0)},W.placeholder=W,T(k(W),(function(e){T(n.realToAlias[e]||[],(function(t){W[t]=W[e]}))})),W}},4267:e=>{e.exports={cap:!1,curry:!1,fixed:!1,immutable:!1,rearg:!1}},3565:(e,t)=>{t.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},t.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},t.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},t.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},t.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},t.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},t.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},t.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},t.realToAlias=function(){var e=Object.prototype.hasOwnProperty,r=t.aliasToReal,n={};for(var o in r){var i=r[o];e.call(n,i)?n[i].push(o):n[i]=[o]}return n}(),t.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},t.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},t.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},8055:(e,t,r)=>{e.exports={ary:r(5353),assign:r(7930),clone:r(2846),curry:r(7336),forEach:r(9968),isArray:r(3142),isError:r(441),isFunction:r(3655),isWeakMap:r(7769),iteratee:r(2590),keys:r(195),rearg:r(864),toInteger:r(7642),toPath:r(2613)}},9321:(e,t,r)=>{var n=r(2673)("cloneDeep",r(6108),r(4267));n.placeholder=r(2991),e.exports=n},2673:(e,t,r)=>{var n=r(3579),o=r(8055);e.exports=function(e,t,r){return n(o,e,t,r)}},4255:(e,t,r)=>{var n=r(2673)("debounce",r(2784));n.placeholder=r(2991),e.exports=n},593:(e,t,r)=>{var n=r(2673)("includes",r(7526));n.placeholder=r(2991),e.exports=n},283:(e,t,r)=>{var n=r(2673)("isArray",r(3142),r(4267));n.placeholder=r(2991),e.exports=n},2202:(e,t,r)=>{var n=r(2673)("isElement",r(9191),r(4267));n.placeholder=r(2991),e.exports=n},4499:(e,t,r)=>{var n=r(2673)("isEmpty",r(3514),r(4267));n.placeholder=r(2991),e.exports=n},524:(e,t,r)=>{var n=r(2673)("isFunction",r(3655),r(4267));n.placeholder=r(2991),e.exports=n},6705:(e,t,r)=>{var n=r(2673)("isPlainObject",r(8360),r(4267));n.placeholder=r(2991),e.exports=n},1175:(e,t,r)=>{var n=r(2673)("mergeAllWith",r(8875));n.placeholder=r(2991),e.exports=n},2991:e=>{e.exports={}},186:(e,t,r)=>{var n=r(2673)("values",r(9817),r(4267));n.placeholder=r(2991),e.exports=n},6123:(e,t,r)=>{var n=r(7923);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},7276:(e,t,r)=>{var n=r(3636),o=r(5899);e.exports=function(e,t){return null!=e&&o(e,t,n)}},2053:e=>{e.exports=function(e){return e}},7526:(e,t,r)=>{var n=r(2478),o=r(6529),i=r(8138),a=r(7642),s=r(9817),c=Math.max;e.exports=function(e,t,r,u){e=o(e)?e:s(e),r=r&&!u?a(r):0;var d=e.length;return r<0&&(r=c(d+r,0)),i(e)?r<=d&&e.indexOf(t,r)>-1:!!d&&n(e,t,r)>-1}},3283:(e,t,r)=>{var n=r(6027),o=r(547),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},3142:e=>{var t=Array.isArray;e.exports=t},6529:(e,t,r)=>{var n=r(3655),o=r(5387);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},5406:(e,t,r)=>{var n=r(6529),o=r(547);e.exports=function(e){return o(e)&&n(e)}},5853:(e,t,r)=>{e=r.nmd(e);var n=r(8942),o=r(4772),i=t&&!t.nodeType&&t,a=i&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c},9191:(e,t,r)=>{var n=r(547),o=r(8360);e.exports=function(e){return n(e)&&1===e.nodeType&&!o(e)}},3514:(e,t,r)=>{var n=r(195),o=r(8486),i=r(3283),a=r(3142),s=r(6529),c=r(5853),u=r(4882),d=r(8666),l=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||d(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(l.call(e,r))return!1;return!0}},441:(e,t,r)=>{var n=r(7379),o=r(547),i=r(8360);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Error]"==t||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!i(e)}},3655:(e,t,r)=>{var n=r(7379),o=r(1580);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},5387:e=>{e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},7681:(e,t,r)=>{var n=r(777),o=r(9460),i=r(2306),a=i&&i.isMap,s=a?o(a):n;e.exports=s},1580:e=>{e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},547:e=>{e.exports=function(e){return null!=e&&"object"==typeof e}},8360:(e,t,r)=>{var n=r(7379),o=r(4784),i=r(547),a=Function.prototype,s=Object.prototype,c=a.toString,u=s.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!i(e)||"[object Object]"!=n(e))return!1;var t=o(e);if(null===t)return!0;var r=u.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&c.call(r)==d}},3943:(e,t,r)=>{var n=r(1935),o=r(9460),i=r(2306),a=i&&i.isSet,s=a?o(a):n;e.exports=s},8138:(e,t,r)=>{var n=r(7379),o=r(3142),i=r(547);e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&"[object String]"==n(e)}},1187:(e,t,r)=>{var n=r(7379),o=r(547);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},8666:(e,t,r)=>{var n=r(674),o=r(9460),i=r(2306),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},7769:(e,t,r)=>{var n=r(8486),o=r(547);e.exports=function(e){return o(e)&&"[object WeakMap]"==n(e)}},2590:(e,t,r)=>{var n=r(9334),o=r(3334);e.exports=function(e){return o("function"==typeof e?e:n(e,1))}},1211:(e,t,r)=>{var n=r(358),o=r(195),i=r(6529);e.exports=function(e){return i(e)?n(e):o(e)}},5288:(e,t,r)=>{var n=r(358),o=r(7200),i=r(6529);e.exports=function(e){return i(e)?n(e,!0):o(e)}},9011:(e,t,r)=>{var n=r(8250);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},8875:(e,t,r)=>{var n=r(91),o=r(7848)((function(e,t,r,o){n(e,t,r,o)}));e.exports=o},9071:e=>{e.exports=function(){}},4495:(e,t,r)=>{var n=r(8942);e.exports=function(){return n.Date.now()}},3282:(e,t,r)=>{var n=r(2762),o=r(8880),i=r(5187),a=r(6040);e.exports=function(e){return i(e)?n(a(e)):o(e)}},864:(e,t,r)=>{var n=r(8638),o=r(1439)((function(e,t){return n(e,256,void 0,void 0,void 0,t)}));e.exports=o},9306:e=>{e.exports=function(){return[]}},4772:e=>{e.exports=function(){return!1}},3301:(e,t,r)=>{var n=r(6131);e.exports=function(e){return e?Infinity===(e=n(e))||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}},7642:(e,t,r)=>{var n=r(3301);e.exports=function(e){var t=n(e),r=t%1;return t==t?r?t-r:t:0}},6131:(e,t,r)=>{var n=r(6403),o=r(1580),i=r(1187),a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,c=/^0o[0-7]+$/i,u=parseInt;e.exports=function(e){if("number"==typeof e)return e;if(i(e))return NaN;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=n(e);var r=s.test(e);return r||c.test(e)?u(e.slice(2),r?2:8):a.test(e)?NaN:+e}},2613:(e,t,r)=>{var n=r(5111),o=r(4354),i=r(3142),a=r(1187),s=r(6493),c=r(6040),u=r(5243);e.exports=function(e){return i(e)?n(e,c):a(e)?[e]:o(s(u(e)))}},4207:(e,t,r)=>{var n=r(9032),o=r(5288);e.exports=function(e){return n(e,o(e))}},5243:(e,t,r)=>{var n=r(2291);e.exports=function(e){return null==e?"":n(e)}},9817:(e,t,r)=>{var n=r(3905),o=r(1211);e.exports=function(e){return null==e?[]:n(e,o(e))}},3321:(e,t,r)=>{var n=r(7553),o=r(528),i=r(5962),a=r(3142),s=r(547),c=r(3410),u=Object.prototype.hasOwnProperty;function d(e){if(s(e)&&!a(e)&&!(e instanceof n)){if(e instanceof o)return e;if(u.call(e,"__wrapped__"))return c(e)}return new o(e)}d.prototype=i.prototype,d.prototype.constructor=d,e.exports=d},9323:e=>{var t=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%s trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))?(?: (urn:ietf:params:rtp-hdrext:encrypt))? (\S*)(?: (\S*))?/,names:["value","direction","encrypt-uri","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+(e["encrypt-uri"]?" %s":"%v")+" %s"+(e.config?" %s":"")}},{name:"extmapAllowMixed",reg:/^(extmap-allow-mixed)/},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"connectionType",reg:/^connection:(new|existing)/,format:"connection:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*(?:\.\d*)*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*(?:\.\d*)*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),(t+=null!=e["network-id"]?" network-id %d":"%v")+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"tsRefClocks",reg:/^ts-refclk:([^\s=]*)(?:=(\S*))?/,names:["clksrc","clksrcExt"],format:function(e){return"ts-refclk:%s"+(null!=e.clksrcExt?"=%s":"")}},{name:"mediaClk",reg:/^mediaclk:(?:id=(\S*))? *([^\s=]*)(?:=(\S*))?(?: *rate=(\d+)\/(\d+))?/,names:["id","mediaClockName","mediaClockValue","rateNumerator","rateDenominator"],format:function(e){var t="mediaclk:";return t+=null!=e.id?"id=%s %s":"%v%s",t+=null!=e.mediaClockValue?"=%s":"",(t+=null!=e.rateNumerator?" rate=%s":"")+(null!=e.rateDenominator?"/%s":"")}},{name:"keywords",reg:/^keywds:(.+)$/,format:"keywds:%s"},{name:"content",reg:/^content:(.+)/,format:"content:%s"},{name:"bfcpFloorCtrl",reg:/^floorctrl:(c-only|s-only|c-s)/,format:"floorctrl:%s"},{name:"bfcpConfId",reg:/^confid:(\d+)/,format:"confid:%s"},{name:"bfcpUserId",reg:/^userid:(\d+)/,format:"userid:%s"},{name:"bfcpFloorId",reg:/^floorid:(.+) (?:m-stream|mstrm):(.+)/,names:["id","mStream"],format:"floorid:%s mstrm:%s"},{push:"invalid",names:["value"]}]};Object.keys(t).forEach((function(e){t[e].forEach((function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")}))}))},4722:(e,t,r)=>{var n=r(2427),o=r(923);t.write=o,t.parse=n.parse,t.parseParams=n.parseParams,t.parseFmtpConfig=n.parseFmtpConfig,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},2427:(e,t,r)=>{var n=function(e){return String(Number(e))===e?Number(e):e},o=function(e,t,r){var o=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:o&&!t[e.name]&&(t[e.name]={});var i=e.push?{}:o?t[e.name]:t;!function(e,t,r,o){if(o&&!r)t[o]=n(e[1]);else for(var i=0;i<r.length;i+=1)null!=e[i+1]&&(t[r[i]]=n(e[i+1]))}(r.match(e.reg),i,e.names,e.name),e.push&&t[e.push].push(i)},i=r(9323),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach((function(e){var t=e[0],a=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(i[t]||[]).length;s+=1){var c=i[t][s];if(c.reg.test(a))return o(c,n,a)}})),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.toString().split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),o=0;o<r.length;o+=3)t.push({component:r[o],ip:r[o+1],port:r[o+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map((function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})}))},t.parseSimulcastStreamList=function(e){return e.split(";").map((function(e){return e.split(",").map((function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}}))}))}},923:(e,t,r)=>{var n=r(9323),o=/%[sdv%]/g,i=function(e){var t=1,r=arguments,n=r.length;return e.replace(o,(function(e){if(t>=n)return e;var o=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(o);case"%d":return Number(o);case"%v":return""}}))},a=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?n.push(r[t.name][a]):n.push(r[t.names[o]])}else n.push(r[t.name]);return i.apply(null,n)},s=["v","o","s","i","u","e","p","c","b","t","r","z","a"],c=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach((function(e){null==e.payloads&&(e.payloads="")}));var r=t.outerOrder||s,o=t.innerOrder||c,i=[];return r.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(a(t,r,e))}))}))})),e.media.forEach((function(e){i.push(a("m",n.m[0],e)),o.forEach((function(t){n[t].forEach((function(r){r.name in e&&null!=e[r.name]?i.push(a(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach((function(e){i.push(a(t,r,e))}))}))}))})),i.join("\r\n")+"\r\n"}},9986:e=>{"use strict";const t={generateIdentifier:function(){return Math.random().toString(36).substring(2,12)}};t.localCName=t.generateIdentifier(),t.splitLines=function(e){return e.trim().split("\n").map((e=>e.trim()))},t.splitSections=function(e){return e.split("\nm=").map(((e,t)=>(t>0?"m="+e:e).trim()+"\r\n"))},t.getDescription=function(e){const r=t.splitSections(e);return r&&r[0]},t.getMediaSections=function(e){const r=t.splitSections(e);return r.shift(),r},t.matchPrefix=function(e,r){return t.splitLines(e).filter((e=>0===e.indexOf(r)))},t.parseCandidate=function(e){let t;t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" ");const r={foundation:t[0],component:{1:"rtp",2:"rtcp"}[t[1]]||t[1],protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]};for(let e=8;e<t.length;e+=2)switch(t[e]){case"raddr":r.relatedAddress=t[e+1];break;case"rport":r.relatedPort=parseInt(t[e+1],10);break;case"tcptype":r.tcpType=t[e+1];break;case"ufrag":r.ufrag=t[e+1],r.usernameFragment=t[e+1];break;default:void 0===r[t[e]]&&(r[t[e]]=t[e+1])}return r},t.writeCandidate=function(e){const t=[];t.push(e.foundation);const r=e.component;"rtp"===r?t.push(1):"rtcp"===r?t.push(2):t.push(r),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);const n=e.type;return t.push("typ"),t.push(n),"host"!==n&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},t.parseIceOptions=function(e){return e.substring(14).split(" ")},t.parseRtpMap=function(e){let t=e.substring(9).split(" ");const r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},t.writeRtpMap=function(e){let t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);const r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},t.parseExtmap=function(e){const t=e.substring(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1],attributes:t.slice(2).join(" ")}},t.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+(e.attributes?" "+e.attributes:"")+"\r\n"},t.parseFmtp=function(e){const t={};let r;const n=e.substring(e.indexOf(" ")+1).split(";");for(let e=0;e<n.length;e++)r=n[e].trim().split("="),t[r[0].trim()]=r[1];return t},t.writeFmtp=function(e){let t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){const n=[];Object.keys(e.parameters).forEach((t=>{void 0!==e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)})),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},t.parseRtcpFb=function(e){const t=e.substring(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},t.writeRtcpFb=function(e){let t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach((e=>{t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"})),t},t.parseSsrcMedia=function(e){const t=e.indexOf(" "),r={ssrc:parseInt(e.substring(7,t),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substring(t+1,n),r.value=e.substring(n+1)):r.attribute=e.substring(t+1),r},t.parseSsrcGroup=function(e){const t=e.substring(13).split(" ");return{semantics:t.shift(),ssrcs:t.map((e=>parseInt(e,10)))}},t.getMid=function(e){const r=t.matchPrefix(e,"a=mid:")[0];if(r)return r.substring(6)},t.parseFingerprint=function(e){const t=e.substring(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1].toUpperCase()}},t.getDtlsParameters=function(e,r){return{role:"auto",fingerprints:t.matchPrefix(e+r,"a=fingerprint:").map(t.parseFingerprint)}},t.writeDtlsParameters=function(e,t){let r="a=setup:"+t+"\r\n";return e.fingerprints.forEach((e=>{r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"})),r},t.parseCryptoLine=function(e){const t=e.substring(9).split(" ");return{tag:parseInt(t[0],10),cryptoSuite:t[1],keyParams:t[2],sessionParams:t.slice(3)}},t.writeCryptoLine=function(e){return"a=crypto:"+e.tag+" "+e.cryptoSuite+" "+("object"==typeof e.keyParams?t.writeCryptoKeyParams(e.keyParams):e.keyParams)+(e.sessionParams?" "+e.sessionParams.join(" "):"")+"\r\n"},t.parseCryptoKeyParams=function(e){if(0!==e.indexOf("inline:"))return null;const t=e.substring(7).split("|");return{keyMethod:"inline",keySalt:t[0],lifeTime:t[1],mkiValue:t[2]?t[2].split(":")[0]:void 0,mkiLength:t[2]?t[2].split(":")[1]:void 0}},t.writeCryptoKeyParams=function(e){return e.keyMethod+":"+e.keySalt+(e.lifeTime?"|"+e.lifeTime:"")+(e.mkiValue&&e.mkiLength?"|"+e.mkiValue+":"+e.mkiLength:"")},t.getCryptoParameters=function(e,r){return t.matchPrefix(e+r,"a=crypto:").map(t.parseCryptoLine)},t.getIceParameters=function(e,r){const n=t.matchPrefix(e+r,"a=ice-ufrag:")[0],o=t.matchPrefix(e+r,"a=ice-pwd:")[0];return n&&o?{usernameFragment:n.substring(12),password:o.substring(10)}:null},t.writeIceParameters=function(e){let t="a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n";return e.iceLite&&(t+="a=ice-lite\r\n"),t},t.parseRtpParameters=function(e){const r={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},n=t.splitLines(e)[0].split(" ");r.profile=n[2];for(let o=3;o<n.length;o++){const i=n[o],a=t.matchPrefix(e,"a=rtpmap:"+i+" ")[0];if(a){const n=t.parseRtpMap(a),o=t.matchPrefix(e,"a=fmtp:"+i+" ");switch(n.parameters=o.length?t.parseFmtp(o[0]):{},n.rtcpFeedback=t.matchPrefix(e,"a=rtcp-fb:"+i+" ").map(t.parseRtcpFb),r.codecs.push(n),n.name.toUpperCase()){case"RED":case"ULPFEC":r.fecMechanisms.push(n.name.toUpperCase())}}}t.matchPrefix(e,"a=extmap:").forEach((e=>{r.headerExtensions.push(t.parseExtmap(e))}));const o=t.matchPrefix(e,"a=rtcp-fb:* ").map(t.parseRtcpFb);return r.codecs.forEach((e=>{o.forEach((t=>{e.rtcpFeedback.find((e=>e.type===t.type&&e.parameter===t.parameter))||e.rtcpFeedback.push(t)}))})),r},t.writeRtpDescription=function(e,r){let n="";n+="m="+e+" ",n+=r.codecs.length>0?"9":"0",n+=" "+(r.profile||"UDP/TLS/RTP/SAVPF")+" ",n+=r.codecs.map((e=>void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType)).join(" ")+"\r\n",n+="c=IN IP4 0.0.0.0\r\n",n+="a=rtcp:9 IN IP4 0.0.0.0\r\n",r.codecs.forEach((e=>{n+=t.writeRtpMap(e),n+=t.writeFmtp(e),n+=t.writeRtcpFb(e)}));let o=0;return r.codecs.forEach((e=>{e.maxptime>o&&(o=e.maxptime)})),o>0&&(n+="a=maxptime:"+o+"\r\n"),r.headerExtensions&&r.headerExtensions.forEach((e=>{n+=t.writeExtmap(e)})),n},t.parseRtpEncodingParameters=function(e){const r=[],n=t.parseRtpParameters(e),o=-1!==n.fecMechanisms.indexOf("RED"),i=-1!==n.fecMechanisms.indexOf("ULPFEC"),a=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute)),s=a.length>0&&a[0].ssrc;let c;const u=t.matchPrefix(e,"a=ssrc-group:FID").map((e=>e.substring(17).split(" ").map((e=>parseInt(e,10)))));u.length>0&&u[0].length>1&&u[0][0]===s&&(c=u[0][1]),n.codecs.forEach((e=>{if("RTX"===e.name.toUpperCase()&&e.parameters.apt){let t={ssrc:s,codecPayloadType:parseInt(e.parameters.apt,10)};s&&c&&(t.rtx={ssrc:c}),r.push(t),o&&(t=JSON.parse(JSON.stringify(t)),t.fec={ssrc:s,mechanism:i?"red+ulpfec":"red"},r.push(t))}})),0===r.length&&s&&r.push({ssrc:s});let d=t.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substring(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substring(5),10)*.95-16e3:void 0,r.forEach((e=>{e.maxBitrate=d}))),r},t.parseRtcpParameters=function(e){const r={},n=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"cname"===e.attribute))[0];n&&(r.cname=n.value,r.ssrc=n.ssrc);const o=t.matchPrefix(e,"a=rtcp-rsize");r.reducedSize=o.length>0,r.compound=0===o.length;const i=t.matchPrefix(e,"a=rtcp-mux");return r.mux=i.length>0,r},t.writeRtcpParameters=function(e){let t="";return e.reducedSize&&(t+="a=rtcp-rsize\r\n"),e.mux&&(t+="a=rtcp-mux\r\n"),void 0!==e.ssrc&&e.cname&&(t+="a=ssrc:"+e.ssrc+" cname:"+e.cname+"\r\n"),t},t.parseMsid=function(e){let r;const n=t.matchPrefix(e,"a=msid:");if(1===n.length)return r=n[0].substring(7).split(" "),{stream:r[0],track:r[1]};const o=t.matchPrefix(e,"a=ssrc:").map((e=>t.parseSsrcMedia(e))).filter((e=>"msid"===e.attribute));return o.length>0?(r=o[0].value.split(" "),{stream:r[0],track:r[1]}):void 0},t.parseSctpDescription=function(e){const r=t.parseMLine(e),n=t.matchPrefix(e,"a=max-message-size:");let o;n.length>0&&(o=parseInt(n[0].substring(19),10)),isNaN(o)&&(o=65536);const i=t.matchPrefix(e,"a=sctp-port:");if(i.length>0)return{port:parseInt(i[0].substring(12),10),protocol:r.fmt,maxMessageSize:o};const a=t.matchPrefix(e,"a=sctpmap:");if(a.length>0){const e=a[0].substring(10).split(" ");return{port:parseInt(e[0],10),protocol:e[1],maxMessageSize:o}}},t.writeSctpDescription=function(e,t){let r=[];return r="DTLS/SCTP"!==e.protocol?["m="+e.kind+" 9 "+e.protocol+" "+t.protocol+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctp-port:"+t.port+"\r\n"]:["m="+e.kind+" 9 "+e.protocol+" "+t.port+"\r\n","c=IN IP4 0.0.0.0\r\n","a=sctpmap:"+t.port+" "+t.protocol+" 65535\r\n"],void 0!==t.maxMessageSize&&r.push("a=max-message-size:"+t.maxMessageSize+"\r\n"),r.join("")},t.generateSessionId=function(){return Math.random().toString().substr(2,22)},t.writeSessionBoilerplate=function(e,r,n){let o;const i=void 0!==r?r:2;return o=e||t.generateSessionId(),"v=0\r\no="+(n||"thisisadapterortc")+" "+o+" "+i+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},t.getDirection=function(e,r){const n=t.splitLines(e);for(let e=0;e<n.length;e++)switch(n[e]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return n[e].substring(2)}return r?t.getDirection(r):"sendrecv"},t.getKind=function(e){return t.splitLines(e)[0].split(" ")[0].substring(2)},t.isRejected=function(e){return"0"===e.split(" ",2)[1]},t.parseMLine=function(e){const r=t.splitLines(e)[0].substring(2).split(" ");return{kind:r[0],port:parseInt(r[1],10),protocol:r[2],fmt:r.slice(3).join(" ")}},t.parseOLine=function(e){const r=t.matchPrefix(e,"o=")[0].substring(2).split(" ");return{username:r[0],sessionId:r[1],sessionVersion:parseInt(r[2],10),netType:r[3],addressType:r[4],address:r[5]}},t.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;const r=t.splitLines(e);for(let e=0;e<r.length;e++)if(r[e].length<2||"="!==r[e].charAt(1))return!1;return!0},e.exports=t},4596:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=f(r(4603)),o=f(r(9917)),i=f(r(2712)),a=f(r(3423)),s=f(r(5911)),c=f(r(4072)),u=f(r(4564)),d=f(r(6585)),l=f(r(9975));function f(e){return e&&e.__esModule?e:{default:e}}},2668:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function o(e,t,r,o,i,a){return n((s=n(n(t,e),n(o,a)))<<(c=i)|s>>>32-c,r);var s,c}function i(e,t,r,n,i,a,s){return o(t&r|~t&n,e,t,i,a,s)}function a(e,t,r,n,i,a,s){return o(t&n|r&~n,e,t,i,a,s)}function s(e,t,r,n,i,a,s){return o(t^r^n,e,t,i,a,s)}function c(e,t,r,n,i,a,s){return o(r^(t|~n),e,t,i,a,s)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let o=0;o<r;o+=8){const r=e[o>>5]>>>o%32&255,i=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let o=1732584193,u=-271733879,d=-1732584194,l=271733878;for(let t=0;t<e.length;t+=16){const r=o,f=u,p=d,g=l;o=i(o,u,d,l,e[t],7,-680876936),l=i(l,o,u,d,e[t+1],12,-389564586),d=i(d,l,o,u,e[t+2],17,606105819),u=i(u,d,l,o,e[t+3],22,-1044525330),o=i(o,u,d,l,e[t+4],7,-176418897),l=i(l,o,u,d,e[t+5],12,1200080426),d=i(d,l,o,u,e[t+6],17,-1473231341),u=i(u,d,l,o,e[t+7],22,-45705983),o=i(o,u,d,l,e[t+8],7,1770035416),l=i(l,o,u,d,e[t+9],12,-1958414417),d=i(d,l,o,u,e[t+10],17,-42063),u=i(u,d,l,o,e[t+11],22,-1990404162),o=i(o,u,d,l,e[t+12],7,1804603682),l=i(l,o,u,d,e[t+13],12,-40341101),d=i(d,l,o,u,e[t+14],17,-1502002290),u=i(u,d,l,o,e[t+15],22,1236535329),o=a(o,u,d,l,e[t+1],5,-165796510),l=a(l,o,u,d,e[t+6],9,-1069501632),d=a(d,l,o,u,e[t+11],14,643717713),u=a(u,d,l,o,e[t],20,-373897302),o=a(o,u,d,l,e[t+5],5,-701558691),l=a(l,o,u,d,e[t+10],9,38016083),d=a(d,l,o,u,e[t+15],14,-660478335),u=a(u,d,l,o,e[t+4],20,-405537848),o=a(o,u,d,l,e[t+9],5,568446438),l=a(l,o,u,d,e[t+14],9,-1019803690),d=a(d,l,o,u,e[t+3],14,-187363961),u=a(u,d,l,o,e[t+8],20,1163531501),o=a(o,u,d,l,e[t+13],5,-1444681467),l=a(l,o,u,d,e[t+2],9,-51403784),d=a(d,l,o,u,e[t+7],14,1735328473),u=a(u,d,l,o,e[t+12],20,-1926607734),o=s(o,u,d,l,e[t+5],4,-378558),l=s(l,o,u,d,e[t+8],11,-2022574463),d=s(d,l,o,u,e[t+11],16,1839030562),u=s(u,d,l,o,e[t+14],23,-35309556),o=s(o,u,d,l,e[t+1],4,-1530992060),l=s(l,o,u,d,e[t+4],11,1272893353),d=s(d,l,o,u,e[t+7],16,-155497632),u=s(u,d,l,o,e[t+10],23,-1094730640),o=s(o,u,d,l,e[t+13],4,681279174),l=s(l,o,u,d,e[t],11,-358537222),d=s(d,l,o,u,e[t+3],16,-722521979),u=s(u,d,l,o,e[t+6],23,76029189),o=s(o,u,d,l,e[t+9],4,-640364487),l=s(l,o,u,d,e[t+12],11,-421815835),d=s(d,l,o,u,e[t+15],16,530742520),u=s(u,d,l,o,e[t+2],23,-995338651),o=c(o,u,d,l,e[t],6,-198630844),l=c(l,o,u,d,e[t+7],10,1126891415),d=c(d,l,o,u,e[t+14],15,-1416354905),u=c(u,d,l,o,e[t+5],21,-57434055),o=c(o,u,d,l,e[t+12],6,1700485571),l=c(l,o,u,d,e[t+3],10,-1894986606),d=c(d,l,o,u,e[t+10],15,-1051523),u=c(u,d,l,o,e[t+1],21,-2054922799),o=c(o,u,d,l,e[t+8],6,1873313359),l=c(l,o,u,d,e[t+15],10,-30611744),d=c(d,l,o,u,e[t+6],15,-1560198380),u=c(u,d,l,o,e[t+13],21,1309151649),o=c(o,u,d,l,e[t+4],6,-145523070),l=c(l,o,u,d,e[t+11],10,-1120210379),d=c(d,l,o,u,e[t+2],15,718787259),u=c(u,d,l,o,e[t+9],21,-343485551),o=n(o,r),u=n(u,f),d=n(d,p),l=n(l,g)}return[o,u,d,l]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},193:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},5911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},9975:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(4564))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},6635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},4089:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},4271:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],o=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const i=e.length/4+2,a=Math.ceil(i/16),s=new Array(a);for(let t=0;t<a;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];s[t]=r}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<a;++e){const i=new Uint32Array(80);for(let t=0;t<16;++t)i[t]=s[e][t];for(let e=16;e<80;++e)i[e]=n(i[e-3]^i[e-8]^i[e-14]^i[e-16],1);let a=o[0],c=o[1],u=o[2],d=o[3],l=o[4];for(let e=0;e<80;++e){const o=Math.floor(e/20),s=n(a,5)+r(o,c,u,d)+l+t[o]+i[e]>>>0;l=d,d=u,u=n(c,30)>>>0,c=a,a=s}o[0]=o[0]+a>>>0,o[1]=o[1]+c>>>0,o[2]=o[2]+u>>>0,o[3]=o[3]+d>>>0,o[4]=o[4]+l>>>0}return[o[0]>>24&255,o[0]>>16&255,o[0]>>8&255,255&o[0],o[1]>>24&255,o[1]>>16&255,o[1]>>8&255,255&o[1],o[2]>>24&255,o[2]>>16&255,o[2]>>8&255,255&o[2],o[3]>>24&255,o[3]>>16&255,o[3]>>8&255,255&o[3],o[4]>>24&255,o[4]>>16&255,o[4]>>8&255,255&o[4]]}},6585:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=a;var n,o=(n=r(4564))&&n.__esModule?n:{default:n};const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function a(e,t=0){return i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]}t.default=function(e,t=0){const r=a(e,t);if(!(0,o.default)(r))throw TypeError("Stringified UUID is invalid");return r}},4603:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(4089))&&n.__esModule?n:{default:n},i=r(6585);let a,s,c=0,u=0;t.default=function(e,t,r){let n=t&&r||0;const d=t||new Array(16);let l=(e=e||{}).node||a,f=void 0!==e.clockseq?e.clockseq:s;if(null==l||null==f){const t=e.random||(e.rng||o.default)();null==l&&(l=a=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==f&&(f=s=16383&(t[6]<<8|t[7]))}let p=void 0!==e.msecs?e.msecs:Date.now(),g=void 0!==e.nsecs?e.nsecs:u+1;const m=p-c+(g-u)/1e4;if(m<0&&void 0===e.clockseq&&(f=f+1&16383),(m<0||p>c)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=p,u=g,s=f,p+=122192928e5;const h=(1e4*(268435455&p)+g)%4294967296;d[n++]=h>>>24&255,d[n++]=h>>>16&255,d[n++]=h>>>8&255,d[n++]=255&h;const v=p/4294967296*1e4&268435455;d[n++]=v>>>8&255,d[n++]=255&v,d[n++]=v>>>24&15|16,d[n++]=v>>>16&255,d[n++]=f>>>8|128,d[n++]=255&f;for(let e=0;e<6;++e)d[n+e]=l[e];return t||(0,i.unsafeStringify)(d)}},9917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(4782)),o=i(r(2668));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v3",48,o.default);t.default=a},4782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,a,s){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,i.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,a){s=s||0;for(let e=0;e<16;++e)a[s+e]=u[e];return a}return(0,o.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=a,n.URL=s,n};var n,o=r(6585),i=(n=r(9975))&&n.__esModule?n:{default:n};const a="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=a;const s="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=s},2712:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(193)),o=a(r(4089)),i=r(6585);function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const a=(e=e||{}).random||(e.rng||o.default)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=a[e];return t}return(0,i.unsafeStringify)(a)}},3423:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(r(4782)),o=i(r(4271));function i(e){return e&&e.__esModule?e:{default:e}}var a=(0,n.default)("v5",80,o.default);t.default=a},4564:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(6635))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&o.default.test(e)}},4072:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,o=(n=r(4564))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,o.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},9339:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>se});var n={};r.r(n),r.d(n,{fixNegotiationNeeded:()=>O,shimAddTrackRemoveTrack:()=>P,shimAddTrackRemoveTrackWithNative:()=>R,shimGetSendersWithDtmf:()=>S,shimGetUserMedia:()=>C,shimMediaStream:()=>b,shimOnTrack:()=>E,shimPeerConnection:()=>I,shimSenderReceiverGetStats:()=>T});var o={};r.r(o),r.d(o,{shimAddTransceiver:()=>L,shimCreateAnswer:()=>$,shimCreateOffer:()=>F,shimGetDisplayMedia:()=>w,shimGetParameters:()=>U,shimGetUserMedia:()=>k,shimOnTrack:()=>x,shimPeerConnection:()=>A,shimRTCDataChannel:()=>N,shimReceiverGetStats:()=>D,shimRemoveStream:()=>j,shimSenderGetStats:()=>M});var i={};r.r(i),r.d(i,{shimAudioContext:()=>Y,shimCallbacksAPI:()=>K,shimConstraints:()=>B,shimCreateOfferLegacy:()=>q,shimGetUserMedia:()=>H,shimLocalStreamsAPI:()=>W,shimRTCIceServerUrls:()=>z,shimRemoteStreamsAPI:()=>G,shimTrackEventTransceiver:()=>V});var a={};r.r(a),r.d(a,{removeExtmapAllowMixed:()=>ne,shimAddIceCandidateNullOrEmpty:()=>oe,shimConnectionState:()=>re,shimMaxMessageSize:()=>ee,shimParameterlessSetLocalDescription:()=>ie,shimRTCIceCandidate:()=>Z,shimRTCIceCandidateRelayProtocol:()=>Q,shimSendThrowTypeError:()=>te});let s=!0,c=!0;function u(e,t,r){const n=e.match(t);return n&&n.length>=r&&parseFloat(n[r],10)}function d(e,t,r){if(!e.RTCPeerConnection)return;const n=e.RTCPeerConnection.prototype,o=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return o.apply(this,arguments);const i=e=>{const t=r(e);t&&(n.handleEvent?n.handleEvent(t):n(t))};return this._eventMap=this._eventMap||{},this._eventMap[t]||(this._eventMap[t]=new Map),this._eventMap[t].set(n,i),o.apply(this,[e,i])};const i=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[t])return i.apply(this,arguments);if(!this._eventMap[t].has(r))return i.apply(this,arguments);const n=this._eventMap[t].get(r);return this._eventMap[t].delete(r),0===this._eventMap[t].size&&delete this._eventMap[t],0===Object.keys(this._eventMap).length&&delete this._eventMap,i.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get(){return this["_on"+t]},set(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}function l(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(s=e,e?"adapter.js logging disabled":"adapter.js logging enabled")}function f(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(c=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))}function p(){if("object"==typeof window){if(s)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}}function g(e,t){c&&console.warn(e+" is deprecated, please use "+t+" instead.")}function m(e){return"[object Object]"===Object.prototype.toString.call(e)}function h(e){return m(e)?Object.keys(e).reduce((function(t,r){const n=m(e[r]),o=n?h(e[r]):e[r],i=n&&!Object.keys(o).length;return void 0===o||i?t:Object.assign(t,{[r]:o})}),{}):e}function v(e,t,r){t&&!r.has(t.id)&&(r.set(t.id,t),Object.keys(t).forEach((n=>{n.endsWith("Id")?v(e,e.get(t[n]),r):n.endsWith("Ids")&&t[n].forEach((t=>{v(e,e.get(t),r)}))})))}function y(e,t,r){const n=r?"outbound-rtp":"inbound-rtp",o=new Map;if(null===t)return o;const i=[];return e.forEach((e=>{"track"===e.type&&e.trackIdentifier===t.id&&i.push(e)})),i.forEach((t=>{e.forEach((r=>{r.type===n&&r.trackId===t.id&&v(e,r,o)}))})),o}const _=p;function C(e,t){const r=e&&e.navigator;if(!r.mediaDevices)return;const n=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;const t={};return Object.keys(e).forEach((r=>{if("require"===r||"advanced"===r||"mediaSource"===r)return;const n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);const o=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];let e={};"number"==typeof n.ideal?(e[o("min",r)]=n.ideal,t.optional.push(e),e={},e[o("max",r)]=n.ideal,t.optional.push(e)):(e[o("",r)]=n.ideal,t.optional.push(e))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[o("",r)]=n.exact):["min","max"].forEach((e=>{void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[o(e,r)]=n[e])}))})),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},o=function(e,o){if(t.version>=61)return o(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){const t=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};t((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),t(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=n(e.audio)}if(e&&"object"==typeof e.video){let i=e.video.facingMode;i=i&&("object"==typeof i?i:{ideal:i});const a=t.version<66;if(i&&("user"===i.exact||"environment"===i.exact||"user"===i.ideal||"environment"===i.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||a)){let t;if(delete e.video.facingMode,"environment"===i.exact||"environment"===i.ideal?t=["back","rear"]:"user"!==i.exact&&"user"!==i.ideal||(t=["front"]),t)return r.mediaDevices.enumerateDevices().then((r=>{let a=(r=r.filter((e=>"videoinput"===e.kind))).find((e=>t.some((t=>e.label.toLowerCase().includes(t)))));return!a&&r.length&&t.includes("back")&&(a=r[r.length-1]),a&&(e.video.deviceId=i.exact?{exact:a.deviceId}:{ideal:a.deviceId}),e.video=n(e.video),_("chrome: "+JSON.stringify(e)),o(e)}))}e.video=n(e.video)}return _("chrome: "+JSON.stringify(e)),o(e)},i=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString(){return this.name+(this.message&&": ")+this.message}}};if(r.getUserMedia=function(e,t,n){o(e,(e=>{r.webkitGetUserMedia(e,t,(e=>{n&&n(i(e))}))}))}.bind(r),r.mediaDevices.getUserMedia){const e=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(t){return o(t,(t=>e(t).then((e=>{if(t.audio&&!e.getAudioTracks().length||t.video&&!e.getVideoTracks().length)throw e.getTracks().forEach((e=>{e.stop()})),new DOMException("","NotFoundError");return e}),(e=>Promise.reject(i(e))))))}}}function b(e){e.MediaStream=e.MediaStream||e.webkitMediaStream}function E(e){if("object"==typeof e&&e.RTCPeerConnection&&!("ontrack"in e.RTCPeerConnection.prototype)){Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get(){return this._ontrack},set(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){return this._ontrackpoly||(this._ontrackpoly=t=>{t.stream.addEventListener("addtrack",(r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.track.id)):{track:r.track};const o=new Event("track");o.track=r.track,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)})),t.stream.getTracks().forEach((r=>{let n;n=e.RTCPeerConnection.prototype.getReceivers?this.getReceivers().find((e=>e.track&&e.track.id===r.id)):{track:r};const o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=[t.stream],this.dispatchEvent(o)}))},this.addEventListener("addstream",this._ontrackpoly)),t.apply(this,arguments)}}else d(e,"track",(e=>(e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e)))}function S(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){const t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};const r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){let o=r.apply(this,arguments);return o||(o=t(this,e),this._senders.push(o)),o};const n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);const t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._senders=this._senders||[],r.apply(this,[e]),e.getTracks().forEach((e=>{this._senders.push(t(this,e))}))};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){this._senders=this._senders||[],n.apply(this,[e]),e.getTracks().forEach((e=>{const t=this._senders.find((t=>t.track===e));t&&this._senders.splice(this._senders.indexOf(t),1)}))}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}}function T(e){if(!("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver))return;if(!("getStats"in e.RTCRtpSender.prototype)){const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>y(t,e.track,!0)))}}if(!("getStats"in e.RTCRtpReceiver.prototype)){const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),d(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){const e=this;return this._pc.getStats().then((t=>y(t,e.track,!1)))}}if(!("getStats"in e.RTCRtpSender.prototype)||!("getStats"in e.RTCRtpReceiver.prototype))return;const t=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){const e=arguments[0];let t,r,n;return this.getSenders().forEach((r=>{r.track===e&&(t?n=!0:t=r)})),this.getReceivers().forEach((t=>(t.track===e&&(r?n=!0:r=t),t.track===e))),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return t.apply(this,arguments)}}function R(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map((e=>this._shimmedLocalStreams[e][0]))};const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};const n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};const r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")}));const t=this.getSenders();r.apply(this,arguments);const n=this.getSenders().filter((e=>-1===t.indexOf(e)));this._shimmedLocalStreams[e.id]=[e].concat(n)};const n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};const o=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach((t=>{const r=this._shimmedLocalStreams[t].indexOf(e);-1!==r&&this._shimmedLocalStreams[t].splice(r,1),1===this._shimmedLocalStreams[t].length&&delete this._shimmedLocalStreams[t]})),o.apply(this,arguments)}}function P(e,t){if(!e.RTCPeerConnection)return;if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return R(e);const r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){const e=r.apply(this);return this._reverseStreams=this._reverseStreams||{},e.map((e=>this._reverseStreams[e.id]))};const n=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){if(this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},t.getTracks().forEach((e=>{if(this.getSenders().find((t=>t.track===e)))throw new DOMException("Track already exists.","InvalidAccessError")})),!this._reverseStreams[t.id]){const r=new e.MediaStream(t.getTracks());this._streams[t.id]=r,this._reverseStreams[r.id]=t,t=r}n.apply(this,[t])};const o=e.RTCPeerConnection.prototype.removeStream;function i(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(o.id,"g"),n.id)})),new RTCSessionDescription({type:t.type,sdp:r})}e.RTCPeerConnection.prototype.removeStream=function(e){this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{},o.apply(this,[this._streams[e.id]||e]),delete this._reverseStreams[this._streams[e.id]?this._streams[e.id].id:e.id],delete this._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");const n=[].slice.call(arguments,1);if(1!==n.length||!n[0].getTracks().find((e=>e===t)))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(this.getSenders().find((e=>e.track===t)))throw new DOMException("Track already exists.","InvalidAccessError");this._streams=this._streams||{},this._reverseStreams=this._reverseStreams||{};const o=this._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then((()=>{this.dispatchEvent(new Event("negotiationneeded"))}));else{const n=new e.MediaStream([t]);this._streams[r.id]=n,this._reverseStreams[n.id]=r,this.addStream(n)}return this.getSenders().find((e=>e.track===t))},["createOffer","createAnswer"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){const e=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(this,[t=>{const r=i(this,t);e[0].apply(null,[r])},t=>{e[1]&&e[1].apply(null,t)},arguments[2]]):r.apply(this,arguments).then((e=>i(this,e)))}};e.RTCPeerConnection.prototype[t]=n[t]}));const a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){let r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach((t=>{const n=e._reverseStreams[t],o=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),o.id)})),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};const s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get(){const e=s.get.apply(this);return""===e.type?e:i(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){if("closed"===this.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==this)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");let t;this._streams=this._streams||{},Object.keys(this._streams).forEach((r=>{this._streams[r].getTracks().find((t=>e.track===t))&&(t=this._streams[r])})),t&&(1===t.getTracks().length?this.removeStream(this._reverseStreams[t.id]):t.removeTrack(e.track),this.dispatchEvent(new Event("negotiationneeded")))}}function I(e,t){!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=e.webkitRTCPeerConnection),e.RTCPeerConnection&&t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}))}function O(e,t){d(e,"negotiationneeded",(e=>{const r=e.target;if(!(t.version<72||r.getConfiguration&&"plan-b"===r.getConfiguration().sdpSemantics)||"stable"===r.signalingState)return e}))}function k(e,t){const r=e&&e.navigator,n=e&&e.MediaStreamTrack;if(r.getUserMedia=function(e,t,n){g("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(t,n)},!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){const e=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},t=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(r){return"object"==typeof r&&"object"==typeof r.audio&&(r=JSON.parse(JSON.stringify(r)),e(r.audio,"autoGainControl","mozAutoGainControl"),e(r.audio,"noiseSuppression","mozNoiseSuppression")),t(r)},n&&n.prototype.getSettings){const t=n.prototype.getSettings;n.prototype.getSettings=function(){const r=t.apply(this,arguments);return e(r,"mozAutoGainControl","autoGainControl"),e(r,"mozNoiseSuppression","noiseSuppression"),r}}if(n&&n.prototype.applyConstraints){const t=n.prototype.applyConstraints;n.prototype.applyConstraints=function(r){return"audio"===this.kind&&"object"==typeof r&&(r=JSON.parse(JSON.stringify(r)),e(r,"autoGainControl","mozAutoGainControl"),e(r,"noiseSuppression","mozNoiseSuppression")),t.apply(this,[r])}}}}function w(e,t){e.navigator.mediaDevices&&"getDisplayMedia"in e.navigator.mediaDevices||e.navigator.mediaDevices&&(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){const e=new DOMException("getDisplayMedia without video constraints is undefined");return e.name="NotFoundError",e.code=8,Promise.reject(e)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)})}function x(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function A(e,t){if("object"!=typeof e||!e.RTCPeerConnection&&!e.mozRTCPeerConnection)return;!e.RTCPeerConnection&&e.mozRTCPeerConnection&&(e.RTCPeerConnection=e.mozRTCPeerConnection),t.version<53&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach((function(t){const r=e.RTCPeerConnection.prototype[t],n={[t](){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}};e.RTCPeerConnection.prototype[t]=n[t]}));const r={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},n=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){const[e,o,i]=arguments;return n.apply(this,[e||null]).then((e=>{if(t.version<53&&!o)try{e.forEach((e=>{e.type=r[e.type]||e.type}))}catch(t){if("TypeError"!==t.name)throw t;e.forEach(((t,n)=>{e.set(n,Object.assign({},t,{type:r[t.type]||t.type}))}))}return e})).then(o,i)}}function M(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)return;const t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e});const r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){const e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}function D(e){if("object"!=typeof e||!e.RTCPeerConnection||!e.RTCRtpSender)return;if(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)return;const t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){const e=t.apply(this,[]);return e.forEach((e=>e._pc=this)),e}),d(e,"track",(e=>(e.receiver._pc=e.srcElement,e))),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}function j(e){e.RTCPeerConnection&&!("removeStream"in e.RTCPeerConnection.prototype)&&(e.RTCPeerConnection.prototype.removeStream=function(e){g("removeStream","removeTrack"),this.getSenders().forEach((t=>{t.track&&e.getTracks().includes(t.track)&&this.removeTrack(t)}))})}function N(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)}function L(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.addTransceiver;t&&(e.RTCPeerConnection.prototype.addTransceiver=function(){this.setParametersPromises=[];let e=arguments[1]&&arguments[1].sendEncodings;void 0===e&&(e=[]),e=[...e];const r=e.length>0;r&&e.forEach((e=>{if("rid"in e&&!/^[a-z0-9]{0,16}$/i.test(e.rid))throw new TypeError("Invalid RID value provided.");if("scaleResolutionDownBy"in e&&!(parseFloat(e.scaleResolutionDownBy)>=1))throw new RangeError("scale_resolution_down_by must be >= 1.0");if("maxFramerate"in e&&!(parseFloat(e.maxFramerate)>=0))throw new RangeError("max_framerate must be >= 0.0")}));const n=t.apply(this,arguments);if(r){const{sender:t}=n,r=t.getParameters();(!("encodings"in r)||1===r.encodings.length&&0===Object.keys(r.encodings[0]).length)&&(r.encodings=e,t.sendEncodings=e,this.setParametersPromises.push(t.setParameters(r).then((()=>{delete t.sendEncodings})).catch((()=>{delete t.sendEncodings}))))}return n})}function U(e){if("object"!=typeof e||!e.RTCRtpSender)return;const t=e.RTCRtpSender.prototype.getParameters;t&&(e.RTCRtpSender.prototype.getParameters=function(){const e=t.apply(this,arguments);return"encodings"in e||(e.encodings=[].concat(this.sendEncodings||[{}])),e})}function F(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function $(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype.createAnswer;e.RTCPeerConnection.prototype.createAnswer=function(){return this.setParametersPromises&&this.setParametersPromises.length?Promise.all(this.setParametersPromises).then((()=>t.apply(this,arguments))).finally((()=>{this.setParametersPromises=[]})):t.apply(this,arguments)}}function W(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),!("addStream"in e.RTCPeerConnection.prototype)){const t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),this._localStreams.includes(e)||this._localStreams.push(e),e.getAudioTracks().forEach((r=>t.call(this,r,e))),e.getVideoTracks().forEach((r=>t.call(this,r,e)))},e.RTCPeerConnection.prototype.addTrack=function(e,...r){return r&&r.forEach((e=>{this._localStreams?this._localStreams.includes(e)||this._localStreams.push(e):this._localStreams=[e]})),t.apply(this,arguments)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);const t=this._localStreams.indexOf(e);if(-1===t)return;this._localStreams.splice(t,1);const r=e.getTracks();this.getSenders().forEach((e=>{r.includes(e.track)&&this.removeTrack(e)}))})}}function G(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get(){return this._onaddstream},set(e){this._onaddstream&&(this.removeEventListener("addstream",this._onaddstream),this.removeEventListener("track",this._onaddstreampoly)),this.addEventListener("addstream",this._onaddstream=e),this.addEventListener("track",this._onaddstreampoly=e=>{e.streams.forEach((e=>{if(this._remoteStreams||(this._remoteStreams=[]),this._remoteStreams.includes(e))return;this._remoteStreams.push(e);const t=new Event("addstream");t.stream=e,this.dispatchEvent(t)}))})}});const t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){const e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach((t=>{if(e._remoteStreams||(e._remoteStreams=[]),e._remoteStreams.indexOf(t)>=0)return;e._remoteStreams.push(t);const r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}))}),t.apply(e,arguments)}}}function K(e){if("object"!=typeof e||!e.RTCPeerConnection)return;const t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,o=t.setLocalDescription,i=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){const n=arguments.length>=2?arguments[2]:arguments[0],o=r.apply(this,[n]);return t?(o.then(e,t),Promise.resolve()):o},t.createAnswer=function(e,t){const r=arguments.length>=2?arguments[2]:arguments[0],o=n.apply(this,[r]);return t?(o.then(e,t),Promise.resolve()):o};let s=function(e,t,r){const n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){const n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){const n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}function H(e){const t=e&&e.navigator;if(t.mediaDevices&&t.mediaDevices.getUserMedia){const e=t.mediaDevices,r=e.getUserMedia.bind(e);t.mediaDevices.getUserMedia=e=>r(B(e))}!t.getUserMedia&&t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t))}function B(e){return e&&void 0!==e.video?Object.assign({},e,{video:h(e.video)}):e}function z(e){if(!e.RTCPeerConnection)return;const t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){const t=[];for(let r=0;r<e.iceServers.length;r++){let n=e.iceServers[r];void 0===n.urls&&n.url?(g("RTCIceServer.url","RTCIceServer.urls"),n=JSON.parse(JSON.stringify(n)),n.urls=n.url,delete n.url,t.push(n)):t.push(e.iceServers[r])}e.iceServers=t}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in t&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:()=>t.generateCertificate})}function V(e){"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get(){return{receiver:this.receiver}}})}function q(e){const t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);const t=this.getTransceivers().find((e=>"audio"===e.receiver.track.kind));!1===e.offerToReceiveAudio&&t?"sendrecv"===t.direction?t.setDirection?t.setDirection("sendonly"):t.direction="sendonly":"recvonly"===t.direction&&(t.setDirection?t.setDirection("inactive"):t.direction="inactive"):!0!==e.offerToReceiveAudio||t||this.addTransceiver("audio",{direction:"recvonly"}),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);const r=this.getTransceivers().find((e=>"video"===e.receiver.track.kind));!1===e.offerToReceiveVideo&&r?"sendrecv"===r.direction?r.setDirection?r.setDirection("sendonly"):r.direction="sendonly":"recvonly"===r.direction&&(r.setDirection?r.setDirection("inactive"):r.direction="inactive"):!0!==e.offerToReceiveVideo||r||this.addTransceiver("video",{direction:"recvonly"})}return t.apply(this,arguments)}}function Y(e){"object"!=typeof e||e.AudioContext||(e.AudioContext=e.webkitAudioContext)}var J=r(9986),X=r.n(J);function Z(e){if(!e.RTCIceCandidate||e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)return;const t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substring(2)),e.candidate&&e.candidate.length){const r=new t(e),n=X().parseCandidate(e.candidate);for(const e in n)e in r||Object.defineProperty(r,e,{value:n[e]});return r.toJSON=function(){return{candidate:r.candidate,sdpMid:r.sdpMid,sdpMLineIndex:r.sdpMLineIndex,usernameFragment:r.usernameFragment}},r}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,d(e,"icecandidate",(t=>(t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t)))}function Q(e){!e.RTCIceCandidate||e.RTCIceCandidate&&"relayProtocol"in e.RTCIceCandidate.prototype||d(e,"icecandidate",(e=>{if(e.candidate){const t=X().parseCandidate(e.candidate.candidate);"relay"===t.type&&(e.candidate.relayProtocol={0:"tls",1:"tcp",2:"udp"}[t.priority>>24])}return e}))}function ee(e,t){if(!e.RTCPeerConnection)return;"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get(){return void 0===this._sctp?null:this._sctp}});const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,"chrome"===t.browser&&t.version>=76){const{sdpSemantics:e}=this.getConfiguration();"plan-b"===e&&Object.defineProperty(this,"sctp",{get(){return void 0===this._sctp?null:this._sctp},enumerable:!0,configurable:!0})}if(function(e){if(!e||!e.sdp)return!1;const t=X().splitSections(e.sdp);return t.shift(),t.some((e=>{const t=X().parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")}))}(arguments[0])){const e=function(e){const t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;const r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),r=function(e){let r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(e),n=function(e,r){let n=65536;"firefox"===t.browser&&57===t.version&&(n=65535);const o=X().matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?n=parseInt(o[0].substring(19),10):"firefox"===t.browser&&-1!==r&&(n=2147483637),n}(arguments[0],e);let o;o=0===r&&0===n?Number.POSITIVE_INFINITY:0===r||0===n?Math.max(r,n):Math.min(r,n);const i={};Object.defineProperty(i,"maxMessageSize",{get:()=>o}),this._sctp=i}return r.apply(this,arguments)}}function te(e){if(!e.RTCPeerConnection||!("createDataChannel"in e.RTCPeerConnection.prototype))return;function t(e,t){const r=e.send;e.send=function(){const n=arguments[0],o=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&o>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}const r=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){const e=r.apply(this,arguments);return t(e,this),e},d(e,"datachannel",(e=>(t(e.channel,e.target),e)))}function re(e){if(!e.RTCPeerConnection||"connectionState"in e.RTCPeerConnection.prototype)return;const t=e.RTCPeerConnection.prototype;Object.defineProperty(t,"connectionState",{get(){return{completed:"connected",checking:"connecting"}[this.iceConnectionState]||this.iceConnectionState},enumerable:!0,configurable:!0}),Object.defineProperty(t,"onconnectionstatechange",{get(){return this._onconnectionstatechange||null},set(e){this._onconnectionstatechange&&(this.removeEventListener("connectionstatechange",this._onconnectionstatechange),delete this._onconnectionstatechange),e&&this.addEventListener("connectionstatechange",this._onconnectionstatechange=e)},enumerable:!0,configurable:!0}),["setLocalDescription","setRemoteDescription"].forEach((e=>{const r=t[e];t[e]=function(){return this._connectionstatechangepoly||(this._connectionstatechangepoly=e=>{const t=e.target;if(t._lastConnectionState!==t.connectionState){t._lastConnectionState=t.connectionState;const r=new Event("connectionstatechange",e);t.dispatchEvent(r)}return e},this.addEventListener("iceconnectionstatechange",this._connectionstatechangepoly)),r.apply(this,arguments)}}))}function ne(e,t){if(!e.RTCPeerConnection)return;if("chrome"===t.browser&&t.version>=71)return;if("safari"===t.browser&&t._safariVersion>=13.1)return;const r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(t){if(t&&t.sdp&&-1!==t.sdp.indexOf("\na=extmap-allow-mixed")){const r=t.sdp.split("\n").filter((e=>"a=extmap-allow-mixed"!==e.trim())).join("\n");e.RTCSessionDescription&&t instanceof e.RTCSessionDescription?arguments[0]=new e.RTCSessionDescription({type:t.type,sdp:r}):t.sdp=r}return r.apply(this,arguments)}}function oe(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.addIceCandidate;r&&0!==r.length&&(e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?("chrome"===t.browser&&t.version<78||"firefox"===t.browser&&t.version<68||"safari"===t.browser)&&arguments[0]&&""===arguments[0].candidate?Promise.resolve():r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())})}function ie(e,t){if(!e.RTCPeerConnection||!e.RTCPeerConnection.prototype)return;const r=e.RTCPeerConnection.prototype.setLocalDescription;r&&0!==r.length&&(e.RTCPeerConnection.prototype.setLocalDescription=function(){let e=arguments[0]||{};if("object"!=typeof e||e.type&&e.sdp)return r.apply(this,arguments);if(e={type:e.type,sdp:e.sdp},!e.type)switch(this.signalingState){case"stable":case"have-local-offer":case"have-remote-pranswer":e.type="offer";break;default:e.type="answer"}return e.sdp||"offer"!==e.type&&"answer"!==e.type?r.apply(this,[e]):("offer"===e.type?this.createOffer:this.createAnswer).apply(this).then((e=>r.apply(this,[e])))})}const ae=function({window:e}={},t={shimChrome:!0,shimFirefox:!0,shimSafari:!0}){const r=p,s=function(e){const t={browser:null,version:null};if(void 0===e||!e.navigator||!e.navigator.userAgent)return t.browser="Not a browser.",t;const{navigator:r}=e;if(r.userAgentData&&r.userAgentData.brands){const e=r.userAgentData.brands.find((e=>"Chromium"===e.brand));if(e)return{browser:"chrome",version:parseInt(e.version,10)}}if(r.mozGetUserMedia)t.browser="firefox",t.version=parseInt(u(r.userAgent,/Firefox\/(\d+)\./,1));else if(r.webkitGetUserMedia||!1===e.isSecureContext&&e.webkitRTCPeerConnection)t.browser="chrome",t.version=parseInt(u(r.userAgent,/Chrom(e|ium)\/(\d+)\./,2));else{if(!e.RTCPeerConnection||!r.userAgent.match(/AppleWebKit\/(\d+)\./))return t.browser="Not a supported browser.",t;t.browser="safari",t.version=parseInt(u(r.userAgent,/AppleWebKit\/(\d+)\./,1)),t.supportsUnifiedPlan=e.RTCRtpTransceiver&&"currentDirection"in e.RTCRtpTransceiver.prototype,t._safariVersion=u(r.userAgent,/Version\/(\d+(\.?\d+))/,1)}return t}(e),c={browserDetails:s,commonShim:a,extractVersion:u,disableLog:l,disableWarnings:f,sdp:J};switch(s.browser){case"chrome":if(!n||!I||!t.shimChrome)return r("Chrome shim is not included in this adapter release."),c;if(null===s.version)return r("Chrome shim can not determine version, not shimming."),c;r("adapter.js shimming chrome."),c.browserShim=n,oe(e,s),ie(e),C(e,s),b(e),I(e,s),E(e),P(e,s),S(e),T(e),O(e,s),Z(e),Q(e),re(e),ee(e,s),te(e),ne(e,s);break;case"firefox":if(!o||!A||!t.shimFirefox)return r("Firefox shim is not included in this adapter release."),c;r("adapter.js shimming firefox."),c.browserShim=o,oe(e,s),ie(e),k(e,s),A(e,s),x(e),j(e),M(e),D(e),N(e),L(e),U(e),F(e),$(e),Z(e),re(e),ee(e,s),te(e);break;case"safari":if(!i||!t.shimSafari)return r("Safari shim is not included in this adapter release."),c;r("adapter.js shimming safari."),c.browserShim=i,oe(e,s),ie(e),z(e),q(e),K(e),W(e),G(e),V(e),H(e),Y(e),Z(e),Q(e),ee(e,s),te(e),ne(e,s);break;default:r("Unsupported browser!")}return c}({window:"undefined"==typeof window?void 0:window}),se=ae},4977:(e,t,r)=>{"use strict";var n=r(4188),o=r(3174),i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not a function")}},4121:(e,t,r)=>{"use strict";var n=r(6712),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i("Can't set "+o(e)+" as a prototype")}},5458:(e,t,r)=>{"use strict";var n=r(4282),o=r(7065),i=r(4466).f,a=n("unscopables"),s=Array.prototype;void 0===s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},3770:(e,t,r)=>{"use strict";var n=r(831),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw new i(o(e)+" is not an object")}},1458:(e,t,r)=>{"use strict";var n=r(380),o=r(675),i=r(9389),a=function(e){return function(t,r,a){var s=n(t),c=i(s);if(0===c)return!e&&-1;var u,d=o(a,c);if(e&&r!=r){for(;c>d;)if((u=s[d++])!=u)return!0}else for(;c>d;d++)if((e||d in s)&&s[d]===r)return e||d||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4224:(e,t,r)=>{"use strict";var n=r(6893),o=r(6719),i=TypeError,a=Object.getOwnPropertyDescriptor,s=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(e){return e instanceof TypeError}}();e.exports=s?function(e,t){if(o(e)&&!a(e,"length").writable)throw new i("Cannot set read only .length");return e.length=t}:function(e,t){return e.length=t}},8689:(e,t,r)=>{"use strict";var n=r(6881),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},5438:(e,t,r)=>{"use strict";var n=r(9345),o=r(4188),i=r(8689),a=r(4282)("toStringTag"),s=Object,c="Arguments"===i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:c?i(t):"Object"===(n=i(t))&&o(t.callee)?"Arguments":n}},8657:(e,t,r)=>{"use strict";var n=r(4418),o=r(3168),i=r(9304),a=r(4466);e.exports=function(e,t,r){for(var s=o(t),c=a.f,u=i.f,d=0;d<s.length;d++){var l=s[d];n(e,l)||r&&n(r,l)||c(e,l,u(t,l))}}},8088:(e,t,r)=>{"use strict";var n=r(6893),o=r(4466),i=r(9123);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9123:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},997:(e,t,r)=>{"use strict";var n=r(4530),o=r(4466);e.exports=function(e,t,r){return r.get&&n(r.get,t,{getter:!0}),r.set&&n(r.set,t,{setter:!0}),o.f(e,t,r)}},7509:(e,t,r)=>{"use strict";var n=r(4188),o=r(4466),i=r(4530),a=r(4798);e.exports=function(e,t,r,s){s||(s={});var c=s.enumerable,u=void 0!==s.name?s.name:t;if(n(r)&&i(r,u,s),s.global)c?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(c=!0):delete e[t]}catch(e){}c?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},4798:(e,t,r)=>{"use strict";var n=r(9117),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},6893:(e,t,r)=>{"use strict";var n=r(5234);e.exports=!n((function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]}))},5926:(e,t,r)=>{"use strict";var n=r(9117),o=r(831),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},2197:e=>{"use strict";var t=TypeError;e.exports=function(e){if(e>9007199254740991)throw t("Maximum allowed index exceeded");return e}},1274:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},8060:(e,t,r)=>{"use strict";var n=r(9117).navigator,o=n&&n.userAgent;e.exports=o?String(o):""},3008:(e,t,r)=>{"use strict";var n,o,i=r(9117),a=r(8060),s=i.process,c=i.Deno,u=s&&s.versions||c&&c.version,d=u&&u.v8;d&&(o=(n=d.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},7308:(e,t,r)=>{"use strict";var n=r(6881),o=Error,i=n("".replace),a=String(new o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,c=s.test(a);e.exports=function(e,t){if(c&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},5382:(e,t,r)=>{"use strict";var n=r(8088),o=r(7308),i=r(4582),a=Error.captureStackTrace;e.exports=function(e,t,r,s){i&&(a?a(e,t):n(e,"stack",o(r,s)))}},4582:(e,t,r)=>{"use strict";var n=r(5234),o=r(9123);e.exports=!n((function(){var e=new Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},5613:(e,t,r)=>{"use strict";var n=r(9117),o=r(9304).f,i=r(8088),a=r(7509),s=r(4798),c=r(8657),u=r(8489);e.exports=function(e,t){var r,d,l,f,p,g=e.target,m=e.global,h=e.stat;if(r=m?n:h?n[g]||s(g,{}):n[g]&&n[g].prototype)for(d in t){if(f=t[d],l=e.dontCallGetSet?(p=o(r,d))&&p.value:r[d],!u(m?d:g+(h?".":"#")+d,e.forced)&&void 0!==l){if(typeof f==typeof l)continue;c(f,l)}(e.sham||l&&l.sham)&&i(f,"sham",!0),a(r,d,f,e)}}},5234:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},646:(e,t,r)=>{"use strict";var n=r(9055),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},9055:(e,t,r)=>{"use strict";var n=r(5234);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},9944:(e,t,r)=>{"use strict";var n=r(9055),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},2735:(e,t,r)=>{"use strict";var n=r(6893),o=r(4418),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),c=s&&"something"===function(){}.name,u=s&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:c,CONFIGURABLE:u}},1025:(e,t,r)=>{"use strict";var n=r(6881),o=r(4977);e.exports=function(e,t,r){try{return n(o(Object.getOwnPropertyDescriptor(e,t)[r]))}catch(e){}}},6881:(e,t,r)=>{"use strict";var n=r(9055),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},5604:(e,t,r)=>{"use strict";var n=r(9117),o=r(4188);e.exports=function(e,t){return arguments.length<2?(r=n[e],o(r)?r:void 0):n[e]&&n[e][t];var r}},2913:(e,t,r)=>{"use strict";var n=r(4977),o=r(4318);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},9117:function(e,t,r){"use strict";var n=function(e){return e&&e.Math===Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},4418:(e,t,r)=>{"use strict";var n=r(6881),o=r(3628),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},7588:e=>{"use strict";e.exports={}},7458:(e,t,r)=>{"use strict";var n=r(5604);e.exports=n("document","documentElement")},9622:(e,t,r)=>{"use strict";var n=r(6893),o=r(5234),i=r(5926);e.exports=!n&&!o((function(){return 7!==Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7568:(e,t,r)=>{"use strict";var n=r(6881),o=r(5234),i=r(8689),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"===i(e)?s(e,""):a(e)}:a},4166:(e,t,r)=>{"use strict";var n=r(4188),o=r(831),i=r(5054);e.exports=function(e,t,r){var a,s;return i&&n(a=t.constructor)&&a!==r&&o(s=a.prototype)&&s!==r.prototype&&i(e,s),e}},3029:(e,t,r)=>{"use strict";var n=r(6881),o=r(4188),i=r(2694),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},8257:(e,t,r)=>{"use strict";var n=r(831),o=r(8088);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},3086:(e,t,r)=>{"use strict";var n,o,i,a=r(5945),s=r(9117),c=r(831),u=r(8088),d=r(4418),l=r(2694),f=r(168),p=r(7588),g="Object already initialized",m=s.TypeError,h=s.WeakMap;if(a||l.state){var v=l.state||(l.state=new h);v.get=v.get,v.has=v.has,v.set=v.set,n=function(e,t){if(v.has(e))throw new m(g);return t.facade=e,v.set(e,t),t},o=function(e){return v.get(e)||{}},i=function(e){return v.has(e)}}else{var y=f("state");p[y]=!0,n=function(e,t){if(d(e,y))throw new m(g);return t.facade=e,u(e,y,t),t},o=function(e){return d(e,y)?e[y]:{}},i=function(e){return d(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!c(t)||(r=o(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return r}}}},6719:(e,t,r)=>{"use strict";var n=r(8689);e.exports=Array.isArray||function(e){return"Array"===n(e)}},4188:e=>{"use strict";var t="object"==typeof document&&document.all;e.exports=void 0===t&&void 0!==t?function(e){return"function"==typeof e||e===t}:function(e){return"function"==typeof e}},8489:(e,t,r)=>{"use strict";var n=r(5234),o=r(4188),i=/#|\.prototype\./,a=function(e,t){var r=c[s(e)];return r===d||r!==u&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},c=a.data={},u=a.NATIVE="N",d=a.POLYFILL="P";e.exports=a},4318:e=>{"use strict";e.exports=function(e){return null==e}},831:(e,t,r)=>{"use strict";var n=r(4188);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},6712:(e,t,r)=>{"use strict";var n=r(831);e.exports=function(e){return n(e)||null===e}},1942:e=>{"use strict";e.exports=!1},6032:(e,t,r)=>{"use strict";var n=r(5604),o=r(4188),i=r(4578),a=r(9809),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},9389:(e,t,r)=>{"use strict";var n=r(7611);e.exports=function(e){return n(e.length)}},4530:(e,t,r)=>{"use strict";var n=r(6881),o=r(5234),i=r(4188),a=r(4418),s=r(6893),c=r(2735).CONFIGURABLE,u=r(3029),d=r(3086),l=d.enforce,f=d.get,p=String,g=Object.defineProperty,m=n("".slice),h=n("".replace),v=n([].join),y=s&&!o((function(){return 8!==g((function(){}),"length",{value:8}).length})),_=String(String).split("String"),C=e.exports=function(e,t,r){"Symbol("===m(p(t),0,7)&&(t="["+h(p(t),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!a(e,"name")||c&&e.name!==t)&&(s?g(e,"name",{value:t,configurable:!0}):e.name=t),y&&r&&a(r,"arity")&&e.length!==r.arity&&g(e,"length",{value:r.arity});try{r&&a(r,"constructor")&&r.constructor?s&&g(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return a(n,"source")||(n.source=v(_,"string"==typeof t?t:"")),e};Function.prototype.toString=C((function(){return i(this)&&f(this).source||u(this)}),"toString")},142:e=>{"use strict";var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},9866:(e,t,r)=>{"use strict";var n=r(2618);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},7065:(e,t,r)=>{"use strict";var n,o=r(3770),i=r(30),a=r(1274),s=r(7588),c=r(7458),u=r(5926),d=r(168),l="prototype",f="script",p=d("IE_PROTO"),g=function(){},m=function(e){return"<"+f+">"+e+"</"+f+">"},h=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},v=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t,r;v="undefined"!=typeof document?document.domain&&n?h(n):(t=u("iframe"),r="java"+f+":",t.style.display="none",c.appendChild(t),t.src=String(r),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F):h(n);for(var o=a.length;o--;)delete v[l][a[o]];return v()};s[p]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(g[l]=o(e),r=new g,g[l]=null,r[p]=e):r=v(),void 0===t?r:i.f(r,t)}},30:(e,t,r)=>{"use strict";var n=r(6893),o=r(3315),i=r(4466),a=r(3770),s=r(380),c=r(7137);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),o=c(t),u=o.length,d=0;u>d;)i.f(e,r=o[d++],n[r]);return e}},4466:(e,t,r)=>{"use strict";var n=r(6893),o=r(9622),i=r(3315),a=r(3770),s=r(2344),c=TypeError,u=Object.defineProperty,d=Object.getOwnPropertyDescriptor,l="enumerable",f="configurable",p="writable";t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&p in r&&!r[p]){var n=d(e,t);n&&n[p]&&(e[t]=r.value,r={configurable:f in r?r[f]:n[f],enumerable:l in r?r[l]:n[l],writable:!1})}return u(e,t,r)}:u:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return u(e,t,r)}catch(e){}if("get"in r||"set"in r)throw new c("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9304:(e,t,r)=>{"use strict";var n=r(6893),o=r(9944),i=r(4416),a=r(9123),s=r(380),c=r(2344),u=r(4418),d=r(9622),l=Object.getOwnPropertyDescriptor;t.f=n?l:function(e,t){if(e=s(e),t=c(t),d)try{return l(e,t)}catch(e){}if(u(e,t))return a(!o(i.f,e,t),e[t])}},5629:(e,t,r)=>{"use strict";var n=r(1843),o=r(1274).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},156:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},4578:(e,t,r)=>{"use strict";var n=r(6881);e.exports=n({}.isPrototypeOf)},1843:(e,t,r)=>{"use strict";var n=r(6881),o=r(4418),i=r(380),a=r(1458).indexOf,s=r(7588),c=n([].push);e.exports=function(e,t){var r,n=i(e),u=0,d=[];for(r in n)!o(s,r)&&o(n,r)&&c(d,r);for(;t.length>u;)o(n,r=t[u++])&&(~a(d,r)||c(d,r));return d}},7137:(e,t,r)=>{"use strict";var n=r(1843),o=r(1274);e.exports=Object.keys||function(e){return n(e,o)}},4416:(e,t)=>{"use strict";var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},5054:(e,t,r)=>{"use strict";var n=r(1025),o=r(831),i=r(9509),a=r(4121);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.prototype,"__proto__","set"))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return i(r),a(n),o(r)?(t?e(r,n):r.__proto__=n,r):r}}():void 0)},2287:(e,t,r)=>{"use strict";var n=r(9944),o=r(4188),i=r(831),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw new a("Can't convert object to primitive value")}},3168:(e,t,r)=>{"use strict";var n=r(5604),o=r(6881),i=r(5629),a=r(156),s=r(3770),c=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=a.f;return r?c(t,r(e)):t}},8679:(e,t,r)=>{"use strict";var n=r(4466).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},9509:(e,t,r)=>{"use strict";var n=r(4318),o=TypeError;e.exports=function(e){if(n(e))throw new o("Can't call method on "+e);return e}},168:(e,t,r)=>{"use strict";var n=r(746),o=r(6209),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},2694:(e,t,r)=>{"use strict";var n=r(1942),o=r(9117),i=r(4798),a="__core-js_shared__",s=e.exports=o[a]||i(a,{});(s.versions||(s.versions=[])).push({version:"3.38.1",mode:n?"pure":"global",copyright:"© 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},746:(e,t,r)=>{"use strict";var n=r(2694);e.exports=function(e,t){return n[e]||(n[e]=t||{})}},8944:(e,t,r)=>{"use strict";var n=r(3008),o=r(5234),i=r(9117).String;e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol("symbol detection");return!i(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},675:(e,t,r)=>{"use strict";var n=r(6744),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},380:(e,t,r)=>{"use strict";var n=r(7568),o=r(9509);e.exports=function(e){return n(o(e))}},6744:(e,t,r)=>{"use strict";var n=r(142);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},7611:(e,t,r)=>{"use strict";var n=r(6744),o=Math.min;e.exports=function(e){var t=n(e);return t>0?o(t,9007199254740991):0}},3628:(e,t,r)=>{"use strict";var n=r(9509),o=Object;e.exports=function(e){return o(n(e))}},290:(e,t,r)=>{"use strict";var n=r(9944),o=r(831),i=r(6032),a=r(2913),s=r(2287),c=r(4282),u=TypeError,d=c("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,c=a(e,d);if(c){if(void 0===t&&(t="default"),r=n(c,e,t),!o(r)||i(r))return r;throw new u("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},2344:(e,t,r)=>{"use strict";var n=r(290),o=r(6032);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},9345:(e,t,r)=>{"use strict";var n={};n[r(4282)("toStringTag")]="z",e.exports="[object z]"===String(n)},2618:(e,t,r)=>{"use strict";var n=r(5438),o=String;e.exports=function(e){if("Symbol"===n(e))throw new TypeError("Cannot convert a Symbol value to a string");return o(e)}},3174:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},6209:(e,t,r)=>{"use strict";var n=r(6881),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},9809:(e,t,r)=>{"use strict";var n=r(8944);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3315:(e,t,r)=>{"use strict";var n=r(6893),o=r(5234);e.exports=n&&o((function(){return 42!==Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},9445:e=>{"use strict";var t=TypeError;e.exports=function(e,r){if(e<r)throw new t("Not enough arguments");return e}},5945:(e,t,r)=>{"use strict";var n=r(9117),o=r(4188),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},4282:(e,t,r)=>{"use strict";var n=r(9117),o=r(746),i=r(4418),a=r(6209),s=r(8944),c=r(9809),u=n.Symbol,d=o("wks"),l=c?u.for||u:u&&u.withoutSetter||a;e.exports=function(e){return i(d,e)||(d[e]=s&&i(u,e)?u[e]:l("Symbol."+e)),d[e]}},6208:(e,t,r)=>{"use strict";var n=r(5604),o=r(4418),i=r(8088),a=r(4578),s=r(5054),c=r(8657),u=r(8679),d=r(4166),l=r(9866),f=r(8257),p=r(5382),g=r(6893),m=r(1942);e.exports=function(e,t,r,h){var v="stackTraceLimit",y=h?2:1,_=e.split("."),C=_[_.length-1],b=n.apply(null,_);if(b){var E=b.prototype;if(!m&&o(E,"cause")&&delete E.cause,!r)return b;var S=n("Error"),T=t((function(e,t){var r=l(h?t:e,void 0),n=h?new b(e):new b;return void 0!==r&&i(n,"message",r),p(n,T,n.stack,2),this&&a(E,this)&&d(n,this,T),arguments.length>y&&f(n,arguments[y]),n}));if(T.prototype=E,"Error"!==C?s?s(T,S):c(T,S,{name:!0}):g&&v in b&&(u(T,b,v),u(T,b,"prepareStackTrace")),c(T,b),!m)try{E.name!==C&&i(E,"name",C),E.constructor=T}catch(e){}return T}}},2234:(e,t,r)=>{"use strict";var n=r(5613),o=r(1458).includes,i=r(5234),a=r(5458);n({target:"Array",proto:!0,forced:i((function(){return!Array(1).includes()}))},{includes:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a("includes")},9375:(e,t,r)=>{"use strict";var n=r(5613),o=r(3628),i=r(9389),a=r(4224),s=r(2197);n({target:"Array",proto:!0,arity:1,forced:r(5234)((function(){return 4294967297!==[].push.call({length:4294967296},1)}))||!function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(e){return e instanceof TypeError}}()},{push:function(e){var t=o(this),r=i(t),n=arguments.length;s(r+n);for(var c=0;c<n;c++)t[r]=arguments[c],r++;return a(t,r),r}})},7107:(e,t,r)=>{"use strict";var n=r(5613),o=r(9117),i=r(646),a=r(6208),s="WebAssembly",c=o[s],u=7!==new Error("e",{cause:7}).cause,d=function(e,t){var r={};r[e]=a(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},l=function(e,t){if(c&&c[e]){var r={};r[e]=a(s+"."+e,t,u),n({target:s,stat:!0,constructor:!0,arity:1,forced:u},r)}};d("Error",(function(e){return function(t){return i(e,this,arguments)}})),d("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),d("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),d("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),d("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),d("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),d("URIError",(function(e){return function(t){return i(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},1412:(e,t,r)=>{"use strict";var n=r(7509),o=r(6881),i=r(2618),a=r(9445),s=URLSearchParams,c=s.prototype,u=o(c.append),d=o(c.delete),l=o(c.forEach),f=o([].push),p=new s("a=1&a=2&b=3");p.delete("a",1),p.delete("b",void 0),p+""!="a=2"&&n(c,"delete",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return d(this,e);var n=[];l(this,(function(e,t){f(n,{key:t,value:e})})),a(t,1);for(var o,s=i(e),c=i(r),p=0,g=0,m=!1,h=n.length;p<h;)o=n[p++],m||o.key===s?(m=!0,d(this,o.key)):g++;for(;g<h;)(o=n[g++]).key===s&&o.value===c||u(this,o.key,o.value)}),{enumerable:!0,unsafe:!0})},1883:(e,t,r)=>{"use strict";var n=r(7509),o=r(6881),i=r(2618),a=r(9445),s=URLSearchParams,c=s.prototype,u=o(c.getAll),d=o(c.has),l=new s("a=1");!l.has("a",2)&&l.has("a",void 0)||n(c,"has",(function(e){var t=arguments.length,r=t<2?void 0:arguments[1];if(t&&void 0===r)return d(this,e);var n=u(this,e);a(t,1);for(var o=i(r),s=0;s<n.length;)if(n[s++]===o)return!0;return!1}),{enumerable:!0,unsafe:!0})},286:(e,t,r)=>{"use strict";var n=r(6893),o=r(6881),i=r(997),a=URLSearchParams.prototype,s=o(a.forEach);n&&!("size"in a)&&i(a,"size",{get:function(){var e=0;return s(this,(function(){e++})),e},configurable:!0,enumerable:!0})}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.loaded=!0,i.exports}return r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),r(3629)})()));
//# sourceMappingURL=webrtc.remote.js.map